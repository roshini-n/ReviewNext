import{$ as $e,$a as dy,$b as it,A as Nt,Aa as Nr,Ab as qe,Ac as Ty,B as oh,Bb as gh,Bc as Lr,C as Ac,Ca as Rc,Cb as Pc,Cc as Io,D as fo,Da as Dc,Db as _h,Dc as Mc,E as Cc,Ea as ue,Fa as H,Fb as Oc,Fc as Ay,G as ui,Ga as Wi,Gb as _i,Gc as vh,H as De,Ha as sy,Hb as Be,Hc as Kt,I as ah,Ia as re,Ib as St,Ic as Cy,J as di,Jc as ie,K as hi,Ka as Gi,Kb as Ae,Kc as Nc,L as Or,La as Un,Lc as bn,M as ch,Ma as fh,Mb as yo,Mc as Yt,N as Ft,Na as oy,Nb as by,Nc as To,Oa as mo,Ob as He,Oc as Fc,P as Mr,Pa as ay,Pc as Sy,Q as fi,Qa as sn,Qc as Ur,R as mi,Ra as yn,Rc as xy,S as lh,Sa as po,Sb as pe,Sc as Ry,T as Xv,Ta as cy,Tb as Ie,Tc as oe,U as Sc,Ua as kc,Ub as We,Uc as Dy,V as uh,Va as Ki,Vc as Ao,W as Jv,Wa as go,Wc as ky,X as dh,Xa as Fr,Xc as Py,Y as xc,Ya as Vr,Yb as bo,Yc as Xi,Z as nn,Za as ly,Zb as Yi,Zc as Vc,_ as ut,_a as uy,_c as Oy,a as M,aa as Zv,ab as hy,b as he,ba as Me,bb as fy,bc as Xe,ca as ye,cb as my,cc as kt,cd as My,d as li,da as Gt,db as py,dc as Ce,e as v,ea as F,eb as Lt,ec as on,f as vt,fa as Z,fc as ht,g as th,ga as ey,gb as gy,gc as Se,h as tt,ha as V,hb as be,hc as xe,i as nh,ia as hh,ib as se,ic as wy,j as Tc,ja as ee,jb as _y,jc as Ey,jd as Ny,k as q,ka as g,kb as _o,kc as wo,kd as Fy,l as Dt,la as At,lb as vo,lc as Qi,ld as yh,m as Kv,mb as pi,mc as Eo,md as Vy,n as Yv,na as rn,nb as Ut,nc as Iy,nd as Lc,o as vn,oa as ty,ob as gi,p as ih,pa as Vt,pb as vy,q as rh,qa as yt,qd as Co,r as sh,ra as ny,rb as mh,rd as So,s as nt,sa as dt,sb as yy,sc as Ne,t as B,ta as Vn,tb as ph,u as Hi,ua as Ln,ub as ke,ud as Ji,v as ho,va as iy,vb as te,vd as Uc,w as Qv,wb as G,xa as Ct,xb as Ue,xd as Br,y as z,ya as ry,yd as Ly,z as Pr,za as Ee,zb as Qe,zd as Uy}from"./chunk-5JKIZQAZ.js";var Ro=class{},jc=class{},Zi=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let i=e.indexOf(":");if(i>0){let r=e.slice(0,i),s=e.slice(i+1).trim();this.addHeaderEntry(r,s)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.addHeaderEntry(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}addHeaderEntry(t,e){let i=t.toLowerCase();this.maybeSetNormalizedName(t,i),this.headers.has(i)?this.headers.get(i).push(e):this.headers.set(i,[e])}setHeaderEntries(t,e){let i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var wh=class{encodeKey(t){return By(t)}encodeValue(t){return By(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function wC(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,c]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(c),e.set(o,l)}),e}var EC=/%(\d[a-f0-9])/gi,IC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function By(n){return encodeURIComponent(n).replace(EC,(t,e)=>IC[e]??t)}function Bc(n){return`${n}`}var vi=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new wh,t.fromString){if(t.fromObject)throw new ye(2805,!1);this.map=wC(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let i=t.fromObject[e],r=Array.isArray(i)?i.map(Bc):[Bc(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Bc(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Bc(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Eh=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function TC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jy(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function zy(n){return typeof Blob<"u"&&n instanceof Blob}function $y(n){return typeof FormData<"u"&&n instanceof FormData}function AC(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var qy="Content-Type",Gy="X-Request-URL",Ky="text/plain",Yy="application/json",CC=`${Yy}, ${Ky}, */*`,xo=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,e,i,r){this.url=e,this.method=t.toUpperCase();let s;if(TC(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Zi,this.context??=new Eh,!this.params)this.params=new vi,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),l=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jy(this.body)||zy(this.body)||$y(this.body)||AC(this.body)?this.body:this.body instanceof vi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$y(this.body)?null:zy(this.body)?this.body.type||null:jy(this.body)?null:typeof this.body=="string"?Ky:this.body instanceof vi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Yy:null}clone(t={}){let e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,c=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,d=t.headers||this.headers,f=t.params||this.params,p=t.context??this.context;return t.setHeaders!==void 0&&(d=Object.keys(t.setHeaders).reduce((y,A)=>y.set(A,t.setHeaders[A]),d)),t.setParams&&(f=Object.keys(t.setParams).reduce((y,A)=>y.set(A,t.setParams[A]),f)),new n(e,i,o,{params:f,headers:d,context:p,reportProgress:l,responseType:r,withCredentials:c,transferCache:s})}},jr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(jr||{}),Do=class{headers;status;statusText;url;ok;type;constructor(t,e=200,i="OK"){this.headers=t.headers||new Zi,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ih=class n extends Do{constructor(t={}){super(t)}type=jr.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},zc=class n extends Do{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=jr.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},$c=class extends Do{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},SC=200,xC=204;function bh(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Th=(()=>{class n{handler;constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof xo)s=e;else{let l;r.headers instanceof Zi?l=r.headers:l=new Zi(r.headers);let d;r.params&&(r.params instanceof vi?d=r.params:d=new vi({fromObject:r.params})),s=new xo(e,i,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:d,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=B(s).pipe(hi(l=>this.handler.handle(l)));if(e instanceof xo||r.observe==="events")return o;let c=o.pipe(De(l=>l instanceof zc));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(z(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(z(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(z(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(z(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:new vi().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,bh(r,i))}post(e,i,r={}){return this.request("POST",e,bh(r,i))}put(e,i,r={}){return this.request("PUT",e,bh(r,i))}static \u0275fac=function(i){return new(i||n)(ee(Ro))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var RC=new V("");function DC(n,t){return t(n)}function kC(n,t,e){return(i,r)=>yt(e,()=>t(i,s=>n(s,r)))}var Qy=new V(""),PC=new V(""),OC=new V("",{providedIn:"root",factory:()=>!0});var Hy=(()=>{class n extends Ro{backend;injector;chain=null;pendingTasks=g(Rc);contributeToStability=g(OC);constructor(e,i){super(),this.backend=e,this.injector=i}handle(e){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Qy),...this.injector.get(PC,[])]));this.chain=i.reduceRight((r,s)=>kC(r,s,this.injector),DC)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(fi(()=>this.pendingTasks.remove(i)))}else return this.chain(e,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(ee(jc),ee(Vt))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();var MC=/^\)\]\}',?\n/,NC=RegExp(`^${Gy}:`,"m");function FC(n){return"responseURL"in n&&n.responseURL?n.responseURL:NC.test(n.getAllResponseHeaders())?n.getResponseHeader(Gy):null}var Wy=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new ye(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?nt(i.\u0275loadImpl()):B(null)).pipe(ut(()=>new tt(s=>{let o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((k,R)=>o.setRequestHeader(k,R.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept",CC),!e.headers.has(qy)){let k=e.detectContentTypeHeader();k!==null&&o.setRequestHeader(qy,k)}if(e.responseType){let k=e.responseType.toLowerCase();o.responseType=k!=="json"?k:"text"}let c=e.serializeBody(),l=null,d=()=>{if(l!==null)return l;let k=o.statusText||"OK",R=new Zi(o.getAllResponseHeaders()),$=FC(o)||e.url;return l=new Ih({headers:R,status:o.status,statusText:k,url:$}),l},f=()=>{let{headers:k,status:R,statusText:$,url:Q}=d(),j=null;R!==xC&&(j=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=j?SC:0);let ve=R>=200&&R<300;if(e.responseType==="json"&&typeof j=="string"){let ct=j;j=j.replace(MC,"");try{j=j!==""?JSON.parse(j):null}catch(me){j=ct,ve&&(ve=!1,j={error:me,text:j})}}ve?(s.next(new zc({body:j,headers:k,status:R,statusText:$,url:Q||void 0})),s.complete()):s.error(new $c({error:j,headers:k,status:R,statusText:$,url:Q||void 0}))},p=k=>{let{url:R}=d(),$=new $c({error:k,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error($)},y=!1,A=k=>{y||(s.next(d()),y=!0);let R={type:jr.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),e.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},D=k=>{let R={type:jr.UploadProgress,loaded:k.loaded};k.lengthComputable&&(R.total=k.total),s.next(R)};return o.addEventListener("load",f),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),e.reportProgress&&(o.addEventListener("progress",A),c!==null&&o.upload&&o.upload.addEventListener("progress",D)),o.send(c),s.next({type:jr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",f),o.removeEventListener("timeout",p),e.reportProgress&&(o.removeEventListener("progress",A),c!==null&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(i){return new(i||n)(ee(Lc))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Xy=new V(""),VC="XSRF-TOKEN",LC=new V("",{providedIn:"root",factory:()=>VC}),UC="X-XSRF-TOKEN",BC=new V("",{providedIn:"root",factory:()=>UC}),qc=class{},jC=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Vc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(i){return new(i||n)(ee(oe),ee(sn),ee(LC))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function zC(n,t){let e=n.url.toLowerCase();if(!g(Xy)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let i=g(qc).getToken(),r=g(BC);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}function pL(...n){let t=[Th,Wy,Hy,{provide:Ro,useExisting:Hy},{provide:jc,useFactory:()=>g(RC,{optional:!0})??g(Wy)},{provide:Qy,useValue:zC,multi:!0},{provide:Xy,useValue:!0},{provide:qc,useClass:jC}];for(let e of n)t.push(...e.\u0275providers);return rn(t)}var Ch=class extends Ry{supportsDOMEvents=!0},Sh=class n extends Ch{static makeCurrent(){xy(new n)}onAndCancel(t,e,i,r){return t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=HC();return e==null?null:WC(e)}resetBaseElement(){ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Vc(document.cookie,t)}},ko=null;function HC(){return ko=ko||document.querySelector("base"),ko?ko.getAttribute("href"):null}function WC(n){return new URL(n,document.baseURI).pathname}var GC=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),xh=new V(""),ib=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r,s){return this._findPluginFor(i).addEventListener(e,i,r,s)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new ye(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(ee(xh),ee(H))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Wc=class{_doc;constructor(t){this._doc=t}manager},Hc="ng-app-id";function Jy(n){for(let t of n)t.remove()}function Zy(n,t){let e=t.createElement("style");return e.textContent=n,e}function KC(n,t,e,i){let r=n.head?.querySelectorAll(`style[${Hc}="${t}"],link[${Hc}="${t}"]`);if(r)for(let s of r)s.removeAttribute(Hc),s instanceof HTMLLinkElement?i.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function Rh(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var rb=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.isServer=yh(s),KC(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let r of e)this.addUsage(r,this.inline,Zy);i?.forEach(r=>this.addUsage(r,this.external,Rh))}removeStyles(e,i){for(let r of e)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,i,r){let s=i.get(e);s?s.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,r(e,this.doc)))})}removeUsage(e,i){let r=i.get(e);r&&(r.usage--,r.usage<=0&&(Jy(r.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Jy(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(e,Zy(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(e,Rh(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(Hc,this.appId),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(ee(oe),ee(mo),ee(po,8),ee(sn))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Ah={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kh=/%COMP%/g,sb="%COMP%",YC=`_nghost-${sb}`,QC=`_ngcontent-${sb}`,XC=!0,JC=new V("",{providedIn:"root",factory:()=>XC});function ZC(n){return QC.replace(kh,n)}function eS(n){return YC.replace(kh,n)}function ob(n,t){return t.map(e=>e.replace(kh,n))}var eb=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,r,s,o,c,l,d=null,f=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=d,this.tracingService=f,this.platformIsServer=yh(c),this.defaultRenderer=new Po(e,o,l,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===go.ShadowDom&&(i=he(M({},i),{encapsulation:go.Emulated}));let r=this.getOrCreateRenderer(e,i);return r instanceof Gc?r.applyToHost(e):r instanceof Oo&&r.applyStyles(),r}getOrCreateRenderer(e,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,d=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(i.encapsulation){case go.Emulated:s=new Gc(l,d,i,this.appId,f,o,c,p,this.tracingService);break;case go.ShadowDom:return new Dh(l,d,e,i,o,c,this.nonce,p,this.tracingService);default:s=new Oo(l,d,i,f,o,c,p,this.tracingService);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(ee(ib),ee(rb),ee(mo),ee(JC),ee(oe),ee(sn),ee(H),ee(po),ee(cy,8))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),Po=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,r,s){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Ah[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(tb(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(tb(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new ye(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;let s=Ah[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let r=Ah[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(_o.DashCase|_o.Important)?t.style.setProperty(e,i,r&_o.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&_o.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,r){if(typeof t=="string"&&(t=Ur().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);let s=this.decoratePreventDefault(i);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function tb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Dh=class extends Po{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,r,s,o,c,l,d){super(t,s,o,l,d),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=ob(r.id,r.styles);for(let y of f){let A=document.createElement("style");c&&A.setAttribute("nonce",c),A.textContent=y,this.shadowRoot.appendChild(A)}let p=r.getExternalStyles?.();if(p)for(let y of p){let A=Rh(y,s);c&&A.setAttribute("nonce",c),this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Oo=class extends Po{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,r,s,o,c,l,d){super(t,s,o,c,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=d?ob(d,i.styles):i.styles,this.styleUrls=i.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Gc=class extends Oo{contentAttr;hostAttr;constructor(t,e,i,r,s,o,c,l,d){let f=r+"-"+i.id;super(t,e,i,s,o,c,l,d,f),this.contentAttr=ZC(f),this.hostAttr=eS(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}},tS=(()=>{class n extends Wc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r,s){return e.addEventListener(i,r,s),()=>this.removeEventListener(e,i,r,s)}removeEventListener(e,i,r,s){return e.removeEventListener(i,r,s)}static \u0275fac=function(i){return new(i||n)(ee(oe))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})(),nb=["alt","control","meta","shift"],nS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},rS=(()=>{class n extends Wc{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,r,s){let o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(e,o.domEventName,c,s))}static parseEventName(e){let i=e.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=n._normalizeKey(i.pop()),o="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),o="code."),nb.forEach(d=>{let f=i.indexOf(d);f>-1&&(i.splice(f,1),o+=d+".")}),o+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=nS[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),nb.forEach(o=>{if(o!==r){let c=iS[o];c(e)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(ee(oe))};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function LL(n,t){return Cy(M({rootComponent:n},sS(t)))}function sS(n){return{appProviders:[...uS,...n?.providers??[]],platformProviders:lS}}function oS(){Sh.makeCurrent()}function aS(){return new Wi}function cS(){return oy(document),document}var lS=[{provide:sn,useValue:Ny},{provide:ay,useValue:oS,multi:!0},{provide:oe,useFactory:cS,deps:[]}];var uS=[{provide:ty,useValue:"root"},{provide:Wi,useFactory:aS,deps:[]},{provide:xh,useClass:tS,multi:!0,deps:[oe,H,sn]},{provide:xh,useClass:rS,multi:!0,deps:[oe]},eb,rb,ib,{provide:pi,useExisting:eb},{provide:Lc,useClass:GC,deps:[]},[]];var ab=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(ee(oe))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ph=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=ee(dS),r},providedIn:"root"})}return n})(),dS=(()=>{class n extends Ph{_doc;constructor(e){super(),this._doc=e}sanitize(e,i){if(i==null)return null;switch(e){case Lt.NONE:return i;case Lt.HTML:return Vr(i,"HTML")?Fr(i):py(this._doc,String(i)).toString();case Lt.STYLE:return Vr(i,"Style")?Fr(i):i;case Lt.SCRIPT:if(Vr(i,"Script"))return Fr(i);throw new ye(5200,!1);case Lt.URL:return Vr(i,"URL")?Fr(i):my(String(i));case Lt.RESOURCE_URL:if(Vr(i,"ResourceURL"))return Fr(i);throw new ye(5201,!1);default:throw new ye(5202,!1)}}bypassSecurityTrustHtml(e){return ly(e)}bypassSecurityTrustStyle(e){return uy(e)}bypassSecurityTrustScript(e){return dy(e)}bypassSecurityTrustUrl(e){return hy(e)}bypassSecurityTrustResourceUrl(e){return fy(e)}static \u0275fac=function(i){return new(i||n)(ee(oe))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ne="primary",Go=Symbol("RouteTitle"),Vh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Gr(n){return new Vh(n)}function hS(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],c=n[s];if(o[0]===":")r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function fS(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!wn(n[e],t[e]))return!1;return!0}function wn(n,t){let e=n?Lh(n):void 0,i=t?Lh(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!vb(n[r],t[r]))return!1;return!0}function Lh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function vb(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}else return n===t}function yb(n){return n.length>0?n[n.length-1]:null}function Ei(n){return ho(n)?n:Pc(n)?nt(Promise.resolve(n)):B(n)}var mS={exact:wb,subset:Eb},bb={exact:pS,subset:gS,ignored:()=>!0};function lb(n,t,e){return mS[e.paths](n.root,t.root,e.matrixParams)&&bb[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function pS(n,t){return wn(n,t)}function wb(n,t,e){if(!tr(n.segments,t.segments)||!Qc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!wb(n.children[i],t.children[i],e))return!1;return!0}function gS(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>vb(n[e],t[e]))}function Eb(n,t,e){return Ib(n,t,t.segments,e)}function Ib(n,t,e,i){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!tr(r,e)||t.hasChildren()||!Qc(r,e,i))}else if(n.segments.length===e.length){if(!tr(n.segments,e)||!Qc(n.segments,e,i))return!1;for(let r in t.children)if(!n.children[r]||!Eb(n.children[r],t.children[r],i))return!1;return!0}else{let r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!tr(n.segments,r)||!Qc(n.segments,r,i)||!n.children[ne]?!1:Ib(n.children[ne],t,s,i)}}function Qc(n,t,e){return t.every((i,r)=>bb[e](n[r].parameters,i.parameters))}var jn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ge([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Gr(this.queryParams),this._queryParamMap}toString(){return yS.serialize(this)}},ge=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xc(this)}},er=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Gr(this.parameters),this._parameterMap}toString(){return Ab(this)}};function _S(n,t){return tr(n,t)&&n.every((e,i)=>wn(e.parameters,t[i].parameters))}function tr(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function vS(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===ne&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==ne&&(e=e.concat(t(r,i)))}),e}var Ko=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:()=>new Kr,providedIn:"root"})}return n})(),Kr=class{parse(t){let e=new Bh(t);return new jn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Mo(t.root,!0)}`,i=ES(t.queryParams),r=typeof t.fragment=="string"?`#${bS(t.fragment)}`:"";return`${e}${i}${r}`}},yS=new Kr;function Xc(n){return n.segments.map(t=>Ab(t)).join("/")}function Mo(n,t){if(!n.hasChildren())return Xc(n);if(t){let e=n.children[ne]?Mo(n.children[ne],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==ne&&i.push(`${r}:${Mo(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=vS(n,(i,r)=>r===ne?[Mo(n.children[ne],!1)]:[`${r}:${Mo(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${Xc(n)}/${e[0]}`:`${Xc(n)}/(${e.join("//")})`}}function Tb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kc(n){return Tb(n).replace(/%3B/gi,";")}function bS(n){return encodeURI(n)}function Uh(n){return Tb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jc(n){return decodeURIComponent(n)}function ub(n){return Jc(n.replace(/\+/g,"%20"))}function Ab(n){return`${Uh(n.path)}${wS(n.parameters)}`}function wS(n){return Object.entries(n).map(([t,e])=>`;${Uh(t)}=${Uh(e)}`).join("")}function ES(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${Kc(e)}=${Kc(r)}`).join("&"):`${Kc(e)}=${Kc(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var IS=/^[^\/()?;#]+/;function Oh(n){let t=n.match(IS);return t?t[0]:""}var TS=/^[^\/()?;=#]+/;function AS(n){let t=n.match(TS);return t?t[0]:""}var CS=/^[^=?&#]+/;function SS(n){let t=n.match(CS);return t?t[0]:""}var xS=/^[^&#]+/;function RS(n){let t=n.match(xS);return t?t[0]:""}var Bh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ne]=new ge(t,e)),i}parseSegment(){let t=Oh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ye(4009,!1);return this.capture(t),new er(Jc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=AS(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let r=Oh(this.remaining);r&&(i=r,this.capture(i))}t[Jc(e)]=Jc(i)}parseQueryParam(t){let e=SS(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=RS(this.remaining);o&&(i=o,this.capture(i))}let r=ub(e),s=ub(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Oh(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new ye(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ne);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[ne]:new ge([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ye(4011,!1)}};function Cb(n){return n.segments.length>0?new ge([],{[ne]:n}):n}function Sb(n){let t={};for(let[i,r]of Object.entries(n.children)){let s=Sb(r);if(i===ne&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}let e=new ge(n.segments,t);return DS(e)}function DS(n){if(n.numberOfChildren===1&&n.children[ne]){let t=n.children[ne];return new ge(n.segments.concat(t.segments),t.children)}return n}function nr(n){return n instanceof jn}function kS(n,t,e=null,i=null){let r=xb(n);return Rb(r,t,e,i)}function xb(n){let t;function e(s){let o={};for(let l of s.children){let d=e(l);o[l.outlet]=d}let c=new ge(s.url,o);return s===n&&(t=c),c}let i=e(n.root),r=Cb(i);return t??r}function Rb(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return Mh(r,r,r,e,i);let s=PS(t);if(s.toRoot())return Mh(r,r,new ge([],{}),e,i);let o=OS(s,r,n),c=o.processChildren?Fo(o.segmentGroup,o.index,s.commands):kb(o.segmentGroup,o.index,s.commands);return Mh(r,o.segmentGroup,c,e,i)}function Zc(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Uo(n){return typeof n=="object"&&n!=null&&n.outlets}function Mh(n,t,e,i,r){let s={};i&&Object.entries(i).forEach(([l,d])=>{s[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let o;n===t?o=e:o=Db(n,t,e);let c=Cb(Sb(o));return new jn(c,s,r)}function Db(n,t,e){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===t?i[r]=e:i[r]=Db(s,t,e)}),new ge(n.segments,i)}var el=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Zc(i[0]))throw new ye(4003,!1);let r=i.find(Uo);if(r&&r!==yb(i))throw new ye(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function PS(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new el(!0,0,n);let t=0,e=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?e=!0:c===".."?t++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new el(e,t,i)}var qr=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function OS(n,t,e){if(n.isAbsolute)return new qr(t,!0,0);if(!e)return new qr(t,!1,NaN);if(e.parent===null)return new qr(e,!0,0);let i=Zc(n.commands[0])?0:1,r=e.segments.length-1+i;return MS(e,r,n.numberOfDoubleDots)}function MS(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new ye(4005,!1);r=i.segments.length}return new qr(i,!1,r-s)}function NS(n){return Uo(n[0])?n[0].outlets:{[ne]:n}}function kb(n,t,e){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return Fo(n,t,e);let i=FS(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new ge(n.segments.slice(0,i.pathIndex),{});return s.children[ne]=new ge(n.segments.slice(i.pathIndex),n.children),Fo(s,0,r)}else return i.match&&r.length===0?new ge(n.segments,{}):i.match&&!n.hasChildren()?jh(n,t,e):i.match?Fo(n,0,r):jh(n,t,e)}function Fo(n,t,e){if(e.length===0)return new ge(n.segments,{});{let i=NS(e),r={};if(Object.keys(i).some(s=>s!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let s=Fo(n.children[ne],t,e);return new ge(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=kb(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new ge(n.segments,r)}}function FS(n,t,e){let i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;let o=n.segments[r],c=e[i];if(Uo(c))break;let l=`${c}`,d=i<e.length-1?e[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!hb(l,d,o))return s;i+=2}else{if(!hb(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function jh(n,t,e){let i=n.segments.slice(0,t),r=0;for(;r<e.length;){let s=e[r];if(Uo(s)){let l=VS(s.outlets);return new ge(i,l)}if(r===0&&Zc(e[0])){let l=n.segments[t];i.push(new er(l.path,db(e[0]))),r++;continue}let o=Uo(s)?s.outlets[ne]:`${s}`,c=r<e.length-1?e[r+1]:null;o&&c&&Zc(c)?(i.push(new er(o,db(c))),r+=2):(i.push(new er(o,{})),r++)}return new ge(i,{})}function VS(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=jh(new ge([],{}),0,i))}),t}function db(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function hb(n,t,e){return n==e.path&&wn(t,e.parameters)}var Vo="imperative",rt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(rt||{}),Qt=class{id;url;constructor(t,e){this.id=t,this.url=e}},Yr=class extends Qt{type=rt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},En=class extends Qt{urlAfterRedirects;type=rt.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(jt||{}),tl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(tl||{}),Bn=class extends Qt{reason;code;type=rt.NavigationCancel;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yi=class extends Qt{reason;code;type=rt.NavigationSkipped;constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r}},Bo=class extends Qt{error;target;type=rt.NavigationError;constructor(t,e,i,r){super(t,e),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nl=class extends Qt{urlAfterRedirects;state;type=rt.RoutesRecognized;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zh=class extends Qt{urlAfterRedirects;state;type=rt.GuardsCheckStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$h=class extends Qt{urlAfterRedirects;state;shouldActivate;type=rt.GuardsCheckEnd;constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},qh=class extends Qt{urlAfterRedirects;state;type=rt.ResolveStart;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hh=class extends Qt{urlAfterRedirects;state;type=rt.ResolveEnd;constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wh=class{route;type=rt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gh=class{route;type=rt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kh=class{snapshot;type=rt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yh=class{snapshot;type=rt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qh=class{snapshot;type=rt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xh=class{snapshot;type=rt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},il=class{routerEvent;position;anchor;type=rt.Scroll;constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},jo=class{},Qr=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function LS(n,t){return n.providers&&!n._injector&&(n._injector=ph(n.providers,t,`Route: ${n.path}`)),n._injector??t}function an(n){return n.outlet||ne}function US(n,t){let e=n.filter(i=>an(i)===t);return e.push(...n.filter(i=>an(i)!==t)),e}function Yo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Jh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Yo(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Qo(this.rootInjector)}},Qo=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Jh(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(ee(Vt))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Zh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Zh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=ef(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return ef(t,this._root).map(e=>e.value)}};function Zh(n,t){if(n===t.value)return t;for(let e of t.children){let i=Zh(n,e);if(i)return i}return null}function ef(n,t){if(n===t.value)return[t];for(let e of t.children){let i=ef(n,e);if(i.length)return i.unshift(t),i}return[]}var Bt=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function $r(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var sl=class extends rl{snapshot;constructor(t,e){super(t),this.snapshot=e,uf(this,t)}toString(){return this.snapshot.toString()}};function Pb(n){let t=BS(n),e=new Dt([new er("",{})]),i=new Dt({}),r=new Dt({}),s=new Dt({}),o=new Dt(""),c=new bi(e,i,s,o,r,ne,n,t.root);return c.snapshot=t.root,new sl(new Bt(c,[]),t)}function BS(n){let t={},e={},i={},r="",s=new Hr([],t,i,r,e,ne,n,null,{});return new al("",new Bt(s,[]))}var bi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,r,s,o,c,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(z(d=>d[Go]))??B(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(t=>Gr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(t=>Gr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ol(n,t,e="emptyOnly"){let i,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:M(M({},t.params),n.params),data:M(M({},t.data),n.data),resolve:M(M(M(M({},n.data),t.data),r?.data),n._resolvedData)}:i={params:M({},n.params),data:M({},n.data),resolve:M(M({},n.data),n._resolvedData??{})},r&&Mb(r)&&(i.resolve[Go]=r.title),i}var Hr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Go]}constructor(t,e,i,r,s,o,c,l,d){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},al=class extends rl{url;constructor(t,e){super(e),this.url=t,uf(this,e)}toString(){return Ob(this._root)}};function uf(n,t){t.value._routerState=n,t.children.forEach(e=>uf(n,e))}function Ob(n){let t=n.children.length>0?` { ${n.children.map(Ob).join(", ")} } `:"";return`${n.value}${t}`}function Nh(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,wn(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),wn(t.params,e.params)||n.paramsSubject.next(e.params),fS(t.url,e.url)||n.urlSubject.next(e.url),wn(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function tf(n,t){let e=wn(n.params,t.params)&&_S(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||tf(n.parent,t.parent))}function Mb(n){return typeof n.title=="string"||n.title===null}var jS=new V(""),zS=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new ue;deactivateEvents=new ue;attachEvents=new ue;detachEvents=new ue;routerOutletData=sy(void 0);parentContexts=g(Qo);location=g(gi);changeDetector=g(Kt);inputBinder=g(dl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ye(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ye(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ye(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new ye(4013,!1);this._activatedRoute=e;let r=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new nf(e,c,r.injector,this.routerOutletData);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[dt]})}return n})(),nf=class n{route;childContexts;parent;outletData;__ngOutletInjector(t){return new n(this.route,this.childContexts,t,this.outletData)}constructor(t,e,i,r){this.route=t,this.childContexts=e,this.parent=i,this.outletData=r}get(t,e){return t===bi?this.route:t===Qo?this.childContexts:t===jS?this.outletData:this.parent.get(t,e)}},dl=new V(""),fb=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:i}=e,r=Pr([i.queryParams,i.params,i.data]).pipe(ut(([s,o,c],l)=>(c=M(M(M({},s),o),c),l===0?B(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(e);return}let o=Sy(i.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function $S(n,t,e){let i=zo(n,t._root,e?e._root:void 0);return new sl(i,t)}function zo(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let r=qS(n,t,e);return new Bt(i,r)}else{if(n.shouldAttach(t.value)){let s=n.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>zo(n,c)),o}}let i=HS(t.value),r=t.children.map(s=>zo(n,s));return new Bt(i,r)}}function qS(n,t,e){return t.children.map(i=>{for(let r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return zo(n,i,r);return zo(n,i)})}function HS(n){return new bi(new Dt(n.url),new Dt(n.params),new Dt(n.queryParams),new Dt(n.fragment),new Dt(n.data),n.outlet,n.component,n)}var $o=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Nb="ngNavigationCancelingError";function cl(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=nr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Fb(!1,jt.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Fb(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Nb]=!0,e.cancellationCode=t,e}function WS(n){return Vb(n)&&nr(n.url)}function Vb(n){return!!n&&n[Nb]}var GS=(n,t,e,i)=>z(r=>(new rf(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)),rf=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Nh(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let r=$r(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=$r(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=$r(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let r=$r(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Xh(s.value.snapshot))}),t.children.length&&this.forwardEvent(new Yh(t.value.snapshot))}activateRoutes(t,e,i){let r=t.value,s=e?e.value:null;if(Nh(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Nh(c.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,i)}},ll=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Wr=class{component;route;constructor(t,e){this.component=t,this.route=e}};function KS(n,t,e){let i=n._root,r=t?t._root:null;return No(i,r,e,[i.value])}function YS(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Jr(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!ey(n)?n:t.get(n):i}function No(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=$r(t);return n.children.forEach(o=>{QS(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Lo(c,e.getContext(o),r)),r}function QS(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=XS(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ll(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?No(n,t,c?c.children:null,i,r):No(n,t,e,i,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Wr(c.outlet.component,o))}else o&&Lo(t,c,r),r.canActivateChecks.push(new ll(i)),s.component?No(n,null,c?c.children:null,i,r):No(n,null,e,i,r);return r}function XS(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!tr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!tr(n.url,t.url)||!wn(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tf(n,t)||!wn(n.queryParams,t.queryParams);case"paramsChange":default:return!tf(n,t)}}function Lo(n,t,e){let i=$r(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?t?Lo(o,t.children.getContext(s),e):Lo(o,null,e):Lo(o,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Wr(t.outlet.component,r)):e.canDeactivateChecks.push(new Wr(null,r)):e.canDeactivateChecks.push(new Wr(null,r))}function Xo(n){return typeof n=="function"}function JS(n){return typeof n=="boolean"}function ZS(n){return n&&Xo(n.canLoad)}function ex(n){return n&&Xo(n.canActivate)}function tx(n){return n&&Xo(n.canActivateChild)}function nx(n){return n&&Xo(n.canDeactivate)}function ix(n){return n&&Xo(n.canMatch)}function Lb(n){return n instanceof Qv||n?.name==="EmptyError"}var Yc=Symbol("INITIAL_VALUE");function Xr(){return ut(n=>Pr(n.map(t=>t.pipe(Ft(1),nn(Yc)))).pipe(z(t=>{for(let e of t)if(e!==!0){if(e===Yc)return Yc;if(e===!1||rx(e))return e}return!0}),De(t=>t!==Yc),Ft(1)))}function rx(n){return nr(n)||n instanceof $o}function sx(n,t){return Nt(e=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?B(he(M({},e),{guardsResult:!0})):ox(o,i,r,n).pipe(Nt(c=>c&&JS(c)?ax(i,s,n,t):B(c)),z(c=>he(M({},e),{guardsResult:c})))})}function ox(n,t,e,i){return nt(n).pipe(Nt(r=>hx(r.component,r.route,e,t,i)),mi(r=>r!==!0,!0))}function ax(n,t,e,i){return nt(t).pipe(hi(r=>Ac(lx(r.route.parent,i),cx(r.route,i),dx(n,r.path,e),ux(n,r.route,e))),mi(r=>r!==!0,!0))}function cx(n,t){return n!==null&&t&&t(new Qh(n)),B(!0)}function lx(n,t){return n!==null&&t&&t(new Kh(n)),B(!0)}function ux(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return B(!0);let r=i.map(s=>fo(()=>{let o=Yo(t)??e,c=Jr(s,o),l=ex(c)?c.canActivate(t,n):yt(o,()=>c(t,n));return Ei(l).pipe(mi())}));return B(r).pipe(Xr())}function dx(n,t,e){let i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>YS(o)).filter(o=>o!==null).map(o=>fo(()=>{let c=o.guards.map(l=>{let d=Yo(o.node)??e,f=Jr(l,d),p=tx(f)?f.canActivateChild(i,n):yt(d,()=>f(i,n));return Ei(p).pipe(mi())});return B(c).pipe(Xr())}));return B(s).pipe(Xr())}function hx(n,t,e,i,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return B(!0);let o=s.map(c=>{let l=Yo(t)??r,d=Jr(c,l),f=nx(d)?d.canDeactivate(n,t,e,i):yt(l,()=>d(n,t,e,i));return Ei(f).pipe(mi())});return B(o).pipe(Xr())}function fx(n,t,e,i){let r=t.canLoad;if(r===void 0||r.length===0)return B(!0);let s=r.map(o=>{let c=Jr(o,n),l=ZS(c)?c.canLoad(t,e):yt(n,()=>c(t,e));return Ei(l)});return B(s).pipe(Xr(),Ub(i))}function Ub(n){return th(Me(t=>{if(typeof t!="boolean")throw cl(n,t)}),z(t=>t===!0))}function mx(n,t,e,i){let r=t.canMatch;if(!r||r.length===0)return B(!0);let s=r.map(o=>{let c=Jr(o,n),l=ix(c)?c.canMatch(t,e):yt(n,()=>c(t,e));return Ei(l)});return B(s).pipe(Xr(),Ub(i))}var qo=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ho=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function zr(n){return Hi(new qo(n))}function px(n){return Hi(new ye(4e3,!1))}function gx(n){return Hi(Fb(!1,jt.GuardRejected))}var sf=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return B(i);if(r.numberOfChildren>1||!r.children[ne])return px(`${t.redirectTo}`);r=r.children[ne]}}applyRedirectCommands(t,e,i,r,s){if(typeof e!="string"){let c=e,{queryParams:l,fragment:d,routeConfig:f,url:p,outlet:y,params:A,data:D,title:k}=r,R=yt(s,()=>c({params:A,data:D,queryParams:l,fragment:d,routeConfig:f,url:p,outlet:y,title:k}));if(R instanceof jn)throw new Ho(R);e=R}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e[0]==="/")throw new Ho(o);return o}applyRedirectCreateUrlTree(t,e,i,r){let s=this.createSegmentGroup(t,e.root,i,r);return new jn(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);i[r]=e[c]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){let s=this.createSegments(t,e.segments,i,r),o={};return Object.entries(e.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(t,l,i,r)}),new ge(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){let r=i[e.path.substring(1)];if(!r)throw new ye(4001,!1);return r}findOrReturn(t,e){let i=0;for(let r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}},of={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _x(n,t,e,i,r){let s=Bb(n,t,e);return s.matched?(i=LS(t,i),mx(i,t,e,r).pipe(z(o=>o===!0?s:M({},of)))):B(s)}function Bb(n,t,e){if(t.path==="**")return vx(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?M({},of):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||hS)(e,n,t);if(!r)return M({},of);let s={};Object.entries(r.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=r.consumed.length>0?M(M({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function vx(n){return{matched:!0,parameters:n.length>0?yb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mb(n,t,e,i){return e.length>0&&wx(n,e,i)?{segmentGroup:new ge(t,bx(i,new ge(e,n.children))),slicedSegments:[]}:e.length===0&&Ex(n,e,i)?{segmentGroup:new ge(n.segments,yx(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:e}}function yx(n,t,e,i){let r={};for(let s of e)if(hl(n,t,s)&&!i[an(s)]){let o=new ge([],{});r[an(s)]=o}return M(M({},i),r)}function bx(n,t){let e={};e[ne]=t;for(let i of n)if(i.path===""&&an(i)!==ne){let r=new ge([],{});e[an(i)]=r}return e}function wx(n,t,e){return e.some(i=>hl(n,t,i)&&an(i)!==ne)}function Ex(n,t,e){return e.some(i=>hl(n,t,i))}function hl(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Ix(n,t,e){return t.length===0&&!n.children[e]}var af=class{};function Tx(n,t,e,i,r,s,o="emptyOnly"){return new cf(n,t,e,i,r,o,s).recognize()}var Ax=31,cf=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,r,s,o,c){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new sf(this.urlSerializer,this.urlTree)}noMatchError(t){return new ye(4002,`'${t.segmentGroup}'`)}recognize(){let t=mb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(z(({children:e,rootSnapshot:i})=>{let r=new Bt(i,e),s=new al("",r),o=kS(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new Hr([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ne,e).pipe(z(i=>({children:i,rootSnapshot:e})),di(i=>{if(i instanceof Ho)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof qo?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,s):this.processSegment(t,e,i,i.segments,r,!0,s).pipe(z(o=>o instanceof Bt?[o]:[]))}processChildren(t,e,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return nt(s).pipe(hi(o=>{let c=i.children[o],l=US(e,o);return this.processSegmentGroup(t,l,c,o,r)}),uh((o,c)=>(o.push(...c),o)),ch(null),Xv(),Nt(o=>{if(o===null)return zr(i);let c=jb(o);return Cx(c),B(c)}))}processSegment(t,e,i,r,s,o,c){return nt(e).pipe(hi(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,i,r,s,o,c).pipe(di(d=>{if(d instanceof qo)return B(null);throw d}))),mi(l=>!!l),di(l=>{if(Lb(l))return Ix(i,r,s)?B(new af):zr(i);throw l}))}processSegmentAgainstRoute(t,e,i,r,s,o,c,l){return an(i)!==o&&(o===ne||!hl(r,s,i))?zr(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o,l):zr(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o,c){let{matched:l,parameters:d,consumedSegments:f,positionalParamSegments:p,remainingSegments:y}=Bb(e,r,s);if(!l)return zr(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ax&&(this.allowRedirects=!1));let A=new Hr(s,d,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,pb(r),an(r),r.component??r._loadedComponent??null,r,gb(r)),D=ol(A,c,this.paramsInheritanceStrategy);A.params=Object.freeze(D.params),A.data=Object.freeze(D.data);let k=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,p,A,t);return this.applyRedirects.lineralizeSegments(r,k).pipe(Nt(R=>this.processSegment(t,i,e,R.concat(y),o,!1,c)))}matchSegmentAgainstRoute(t,e,i,r,s,o){let c=_x(e,i,r,t,this.urlSerializer);return i.path==="**"&&(e.children={}),c.pipe(ut(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(ut(({routes:d})=>{let f=i._loadedInjector??t,{parameters:p,consumedSegments:y,remainingSegments:A}=l,D=new Hr(y,p,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,pb(i),an(i),i.component??i._loadedComponent??null,i,gb(i)),k=ol(D,o,this.paramsInheritanceStrategy);D.params=Object.freeze(k.params),D.data=Object.freeze(k.data);let{segmentGroup:R,slicedSegments:$}=mb(e,y,A,d);if($.length===0&&R.hasChildren())return this.processChildren(f,d,R,D).pipe(z(j=>new Bt(D,j)));if(d.length===0&&$.length===0)return B(new Bt(D,[]));let Q=an(i)===s;return this.processSegment(f,d,R,$,Q?ne:s,!0,D).pipe(z(j=>new Bt(D,j instanceof Bt?[j]:[])))}))):zr(e)))}getChildConfig(t,e,i){return e.children?B({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?B({routes:e._loadedRoutes,injector:e._loadedInjector}):fx(t,e,i,this.urlSerializer).pipe(Nt(r=>r?this.configLoader.loadChildren(t,e).pipe(Me(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):gx(e))):B({routes:[],injector:t})}};function Cx(n){n.sort((t,e)=>t.value.outlet===ne?-1:e.value.outlet===ne?1:t.value.outlet.localeCompare(e.value.outlet))}function Sx(n){let t=n.value.routeConfig;return t&&t.path===""}function jb(n){let t=[],e=new Set;for(let i of n){if(!Sx(i)){t.push(i);continue}let r=t.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),e.add(r)):t.push(i)}for(let i of e){let r=jb(i.children);t.push(new Bt(i.value,r))}return t.filter(i=>!e.has(i))}function pb(n){return n.data||{}}function gb(n){return n.resolve||{}}function xx(n,t,e,i,r,s){return Nt(o=>Tx(n,t,e,i,o.extractedUrl,r,s).pipe(z(({state:c,tree:l})=>he(M({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function Rx(n,t){return Nt(e=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return B(e);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let d of zb(l))o.add(d);let c=0;return nt(o).pipe(hi(l=>s.has(l)?Dx(l,i,n,t):(l.data=ol(l,l.parent,n).resolve,B(void 0))),Me(()=>c++),lh(1),Nt(l=>c===o.size?B(e):vn))})}function zb(n){let t=n.children.map(e=>zb(e)).flat();return[n,...t]}function Dx(n,t,e,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!Mb(r)&&(s[Go]=r.title),kx(s,n,t,i).pipe(z(o=>(n._resolvedData=o,n.data=ol(n,n.parent,e).resolve,null)))}function kx(n,t,e,i){let r=Lh(n);if(r.length===0)return B({});let s={};return nt(r).pipe(Nt(o=>Px(n[o],t,e,i).pipe(mi(),Me(c=>{if(c instanceof $o)throw cl(new Kr,c);s[o]=c}))),lh(1),z(()=>s),di(o=>Lb(o)?vn:Hi(o)))}function Px(n,t,e,i){let r=Yo(t)??i,s=Jr(n,r),o=s.resolve?s.resolve(t,e):yt(r,()=>s(t,e));return Ei(o)}function Fh(n){return ut(t=>{let e=n(t);return e?nt(e).pipe(z(()=>t)):B(t)})}var $b=(()=>{class n{buildTitle(e){let i,r=e.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ne);return i}getResolvedTitleForRoute(e){return e.data[Go]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:()=>g(Ox),providedIn:"root"})}return n})(),Ox=(()=>{class n extends $b{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(ee(ab))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jo=new V("",{providedIn:"root",factory:()=>({})}),Mx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&We(0,"router-outlet")},dependencies:[zS],encapsulation:2})}return n})();function df(n){let t=n.children&&n.children.map(df),e=t?he(M({},n),{children:t}):M({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ne&&(e.component=Mx),e}var Wo=new V(""),hf=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(Mc);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return B(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let i=Ei(e.loadComponent()).pipe(z(qb),Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),fi(()=>{this.componentLoaders.delete(e)})),r=new Tc(i,()=>new q).pipe(nh());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return B({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Nx(i,this.compiler,e,this.onLoadEndListener).pipe(fi(()=>{this.childrenLoaders.delete(i)})),o=new Tc(s,()=>new q).pipe(nh());return this.childrenLoaders.set(i,o),o}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Nx(n,t,e,i){return Ei(n.loadChildren()).pipe(z(qb),Nt(r=>r instanceof yy||Array.isArray(r)?B(r):nt(t.compileModuleAsync(r))),z(r=>{i&&i(n);let s,o,c=!1;return Array.isArray(r)?(o=r,c=!0):(s=r.create(e).injector,o=s.get(Wo,[],{optional:!0,self:!0}).flat()),{routes:o.map(df),injector:s}}))}function Fx(n){return n&&typeof n=="object"&&"default"in n}function qb(n){return Fx(n)?n.default:n}var ff=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:()=>g(Vx),providedIn:"root"})}return n})(),Vx=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hb=new V(""),Wb=new V("");function Lx(n,t,e){let i=n.get(Wb),r=n.get(oe);return n.get(H).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),c=r.startViewTransition(()=>(s(),Ux(n))),{onViewTransitionCreated:l}=i;return l&&yt(n,()=>l({transition:c,from:t,to:e})),o})}function Ux(n){return new Promise(t=>{Ki({read:()=>setTimeout(t)},{injector:n})})}var Gb=new V(""),mf=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new q;transitionAbortSubject=new q;configLoader=g(hf);environmentInjector=g(Vt);urlSerializer=g(Ko);rootContexts=g(Qo);location=g(Xi);inputBindingEnabled=g(dl,{optional:!0})!==null;titleStrategy=g($b);options=g(Jo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(ff);createViewTransition=g(Hb,{optional:!0});navigationErrorHandler=g(Gb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>B(void 0);rootComponentType=null;constructor(){let e=r=>this.events.next(new Wh(r)),i=r=>this.events.next(new Gh(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;this.transitions?.next(he(M(M({},this.transitions.value),e),{id:i}))}setupNavigations(e,i,r){return this.transitions=new Dt({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Vo,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(De(s=>s.id!==0),z(s=>he(M({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ut(s=>{let o=!1,c=!1;return B(s).pipe(ut(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",jt.SupersededByNewNavigation),vn;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?he(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!d&&f!=="reload"){let p="";return this.events.next(new yi(l.id,this.urlSerializer.serialize(l.rawUrl),p,tl.IgnoredSameUrlNavigation)),l.resolve(!1),vn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return B(l).pipe(ut(p=>{let y=this.transitions?.getValue();return this.events.next(new Yr(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?vn:Promise.resolve(p)}),xx(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=he(M({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new nl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:p,extractedUrl:y,source:A,restoredState:D,extras:k}=l,R=new Yr(p,this.urlSerializer.serialize(y),A,D);this.events.next(R);let $=Pb(this.rootComponentType).snapshot;return this.currentTransition=s=he(M({},l),{targetSnapshot:$,urlAfterRedirects:y,extras:he(M({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,B(s)}else{let p="";return this.events.next(new yi(l.id,this.urlSerializer.serialize(l.extractedUrl),p,tl.IgnoredByUrlHandlingStrategy)),l.resolve(!1),vn}}),Me(l=>{let d=new zh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),z(l=>(this.currentTransition=s=he(M({},l),{guards:KS(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),sx(this.environmentInjector,l=>this.events.next(l)),Me(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw cl(this.urlSerializer,l.guardsResult);let d=new $h(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(d)}),De(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",jt.GuardRejected),!1)),Fh(l=>{if(l.guards.canActivateChecks.length)return B(l).pipe(Me(d=>{let f=new qh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),ut(d=>{let f=!1;return B(d).pipe(Rx(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(d,"",jt.NoDataFromResolver)}}))}),Me(d=>{let f=new Hh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}))}),Fh(l=>{let d=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Me(y=>{f.component=y}),z(()=>{})));for(let y of f.children)p.push(...d(y));return p};return Pr(d(l.targetSnapshot.root)).pipe(ch(null),Ft(1))}),Fh(()=>this.afterPreactivation()),ut(()=>{let{currentSnapshot:l,targetSnapshot:d}=s,f=this.createViewTransition?.(this.environmentInjector,l.root,d.root);return f?nt(f).pipe(z(()=>s)):B(s)}),z(l=>{let d=$S(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=he(M({},l),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),Me(()=>{this.events.next(new jo)}),GS(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ft(1),Me({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new En(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),$e(this.transitionAbortSubject.pipe(Me(l=>{throw l}))),fi(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",jt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),di(l=>{if(c=!0,Vb(l))this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),WS(l)?this.events.next(new Qr(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let d=new Bo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let f=yt(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(f instanceof $o){let{message:p,cancellationCode:y}=cl(this.urlSerializer,f);this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,y)),this.events.next(new Qr(f.redirectTo,f.navigationBehaviorOptions))}else throw this.events.next(d),l}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return vn}))}))}cancelNavigationTransition(e,i,r){let s=new Bn(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Bx(n){return n!==Vo}var jx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:()=>g(zx),providedIn:"root"})}return n})(),lf=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},zx=(()=>{class n extends lf{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kb=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:()=>g($x),providedIn:"root"})}return n})(),$x=(()=>{class n extends Kb{location=g(Xi);urlSerializer=g(Ko);options=g(Jo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=g(ff);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Pb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Yr)this.stateMemento=this.createStateMemento();else if(e instanceof yi)this.rawUrlTree=i.initialUrl;else if(e instanceof nl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof jo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof Bn&&(e.code===jt.GuardRejected||e.code===jt.NoDataFromResolver)?this.restoreHistory(i):e instanceof Bo?this.restoreHistory(i,!0):e instanceof En&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){let r=e instanceof jn?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let s=this.browserPageId,o=M(M({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(r,"",o)}else{let s=M(M({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yb(n,t){n.events.pipe(De(e=>e instanceof En||e instanceof Bn||e instanceof Bo||e instanceof yi),z(e=>e instanceof En||e instanceof yi?0:(e instanceof Bn?e.code===jt.Redirect||e.code===jt.SupersededByNewNavigation:!1)?2:1),De(e=>e!==2),Ft(1)).subscribe(()=>{t()})}var qx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(gh);stateManager=g(Kb);options=g(Jo,{optional:!0})||{};pendingTasks=g(Rc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(mf);urlSerializer=g(Ko);location=g(Xi);urlHandlingStrategy=g(ff);_events=new q;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(jx);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(Wo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(dl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new vt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Bn&&i.code!==jt.Redirect&&i.code!==jt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof En)this.navigated=!0;else if(i instanceof Qr){let o=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=M({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Bx(r.source)},o);this.scheduleNavigation(c,Vo,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Gx(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=M({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(e);this.scheduleNavigation(c,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(df),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=i,d=l?this.currentUrlTree.fragment:o,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=M(M({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=r?r.snapshot:this.routerState.snapshot.root;p=xb(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),p=this.currentUrlTree.root}return Rb(p,e,f,d??null)}navigateByUrl(e,i={skipLocationChange:!1}){let r=nr(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Vo,null,i)}navigate(e,i={skipLocationChange:!1}){return Wx(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(i===!0?r=M({},qx):i===!1?r=M({},Hx):r=i,nr(e))return lb(this.currentUrlTree,e,r);let s=this.parseUrl(e);return lb(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,s])=>(s!=null&&(i[r]=s),i),{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((p,y)=>{c=p,l=y});let f=this.pendingTasks.add();return Yb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wx(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new ye(4008,!1)}function Gx(n){return!(n instanceof jo)&&!(n instanceof Qr)}var sU=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new q;constructor(e,i,r,s,o,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=c;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(d=>{d instanceof En&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(nr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||i||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let i=this.href===null?null:gy(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){let r=this.renderer,s=this.el.nativeElement;i!==null?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:nr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(se(wi),se(bi),ry("tabindex"),se(Ut),se(re),se(Ao))};static \u0275dir=G({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&it("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),i&2&&Be("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ie],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ie],replaceUrl:[2,"replaceUrl","replaceUrl",ie],routerLink:"routerLink"},features:[Qe,dt]})}return n})();var ul=class{};var Kx=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(De(e=>e instanceof En),hi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){let r=[];for(let s of i){s.providers&&!s._injector&&(s._injector=ph(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return nt(r).pipe(oh())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(e,i):r=B(null);let s=r.pipe(Nt(o=>o===null?B(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(i.loadComponent&&!i._loadedComponent){let o=this.loader.loadComponent(i);return nt([s,o]).pipe(oh())}else return s})}static \u0275fac=function(i){return new(i||n)(ee(wi),ee(Mc),ee(Vt),ee(ul),ee(hf))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qb=new V(""),Yx=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Yr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof En?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof yi&&e.code===tl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof il&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new il(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){_y()};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function oU(n,...t){return rn([{provide:Wo,multi:!0,useValue:n},[],{provide:bi,useFactory:Xb,deps:[wi]},{provide:Oc,multi:!0,useFactory:Jb},t.map(e=>e.\u0275providers)])}function Xb(n){return n.routerState.root}function Zo(n,t){return{\u0275kind:n,\u0275providers:t}}function Jb(){let n=g(Ee);return t=>{let e=n.get(_i);if(t!==e.components[0])return;let i=n.get(wi),r=n.get(Zb);n.get(pf)===1&&i.initialNavigation(),n.get(ew,null,hh.Optional)?.setUpPreloading(),n.get(Qb,null,hh.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Zb=new V("",{factory:()=>new q}),pf=new V("",{providedIn:"root",factory:()=>1});function Qx(){return Zo(2,[{provide:pf,useValue:0},{provide:_h,multi:!0,deps:[Ee],useFactory:t=>{let e=t.get(Dy,Promise.resolve());return()=>e.then(()=>new Promise(i=>{let r=t.get(wi),s=t.get(Zb);Yb(r,()=>{i(!0)}),t.get(mf).afterPreactivation=()=>(i(!0),s.closed?B(void 0):s),r.initialNavigation()}))}}])}function Xx(){return Zo(3,[{provide:_h,multi:!0,useFactory:()=>{let t=g(wi);return()=>{t.setUpLocationChangeListener()}}},{provide:pf,useValue:2}])}var ew=new V("");function Jx(n){return Zo(0,[{provide:ew,useExisting:Kx},{provide:ul,useExisting:n}])}function Zx(){return Zo(8,[fb,{provide:dl,useExisting:fb}])}function eR(n){let t=[{provide:Hb,useValue:Lx},{provide:Wb,useValue:M({skipNextTransition:!!n?.skipInitialTransition},n)}];return Zo(9,t)}var tR=[Xi,{provide:Ko,useClass:Kr},wi,Qo,{provide:bi,useFactory:Xb,deps:[wi]},hf,[]],aU=(()=>{class n{constructor(){}static forRoot(e,i){return{ngModule:n,providers:[tR,[],{provide:Wo,multi:!0,useValue:e},[],i?.errorHandler?{provide:Gb,useValue:i.errorHandler}:[],{provide:Jo,useValue:i||{}},i?.useHash?iR():rR(),nR(),i?.preloadingStrategy?Jx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?sR(i):[],i?.bindToComponentInputs?Zx().\u0275providers:[],i?.enableViewTransitions?eR().\u0275providers:[],oR()]}}static forChild(e){return{ngModule:n,providers:[{provide:Wo,multi:!0,useValue:e}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({})}return n})();function nR(){return{provide:Qb,useFactory:()=>{let n=g(Vy),t=g(H),e=g(Jo),i=g(mf),r=g(Ko);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Yx(r,i,n,t,e)}}}function iR(){return{provide:Ao,useClass:Py}}function rR(){return{provide:Ao,useClass:ky}}function sR(n){return[n.initialNavigation==="disabled"?Xx().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Qx().\u0275providers:[]]}var _b=new V("");function oR(){return[{provide:_b,useFactory:Jb},{provide:Oc,multi:!0,useExisting:_b}]}var lw=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,i){this._renderer=e,this._elementRef=i}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(i){return new(i||n)(se(Ut),se(re))};static \u0275dir=G({type:n})}return n})(),uw=(()=>{class n extends lw{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275dir=G({type:n,features:[Ue]})}return n})(),El=new V("");var aR={provide:El,useExisting:Gt(()=>dw),multi:!0};function cR(){let n=Ur()?Ur().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var lR=new V(""),dw=(()=>{class n extends lw{_compositionMode;_composing=!1;constructor(e,i,r){super(e,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!cR())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(i){return new(i||n)(se(Ut),se(re),se(lR,8))};static \u0275dir=G({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&it("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},standalone:!1,features:[Ne([aR]),Ue]})}return n})();function Ii(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function hw(n){return n!=null&&typeof n.length=="number"}var Ai=new V(""),rs=new V(""),uR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ts=class{static min(t){return fw(t)}static max(t){return dR(t)}static required(t){return mw(t)}static requiredTrue(t){return hR(t)}static email(t){return fR(t)}static minLength(t){return mR(t)}static maxLength(t){return pR(t)}static pattern(t){return gR(t)}static nullValidator(t){return ml(t)}static compose(t){return bw(t)}static composeAsync(t){return ww(t)}};function fw(n){return t=>{if(Ii(t.value)||Ii(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function dR(n){return t=>{if(Ii(t.value)||Ii(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function mw(n){return Ii(n.value)?{required:!0}:null}function hR(n){return n.value===!0?null:{required:!0}}function fR(n){return Ii(n.value)||uR.test(n.value)?null:{email:!0}}function mR(n){return t=>Ii(t.value)||!hw(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function pR(n){return t=>hw(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function gR(n){if(!n)return ml;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ii(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function ml(n){return null}function pw(n){return n!=null}function gw(n){return Pc(n)?nt(n):n}function _w(n){let t={};return n.forEach(e=>{t=e!=null?M(M({},t),e):t}),Object.keys(t).length===0?null:t}function vw(n,t){return t.map(e=>e(n))}function _R(n){return!n.validate}function yw(n){return n.map(t=>_R(t)?t:e=>t.validate(e))}function bw(n){if(!n)return null;let t=n.filter(pw);return t.length==0?null:function(e){return _w(vw(e,t))}}function wf(n){return n!=null?bw(yw(n)):null}function ww(n){if(!n)return null;let t=n.filter(pw);return t.length==0?null:function(e){let i=vw(e,t).map(gw);return Cc(i).pipe(z(_w))}}function Ef(n){return n!=null?ww(yw(n)):null}function tw(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Ew(n){return n._rawValidators}function Iw(n){return n._rawAsyncValidators}function gf(n){return n?Array.isArray(n)?n:[n]:[]}function pl(n,t){return Array.isArray(n)?n.includes(t):n===t}function nw(n,t){let e=gf(t);return gf(n).forEach(r=>{pl(e,r)||e.push(r)}),e}function iw(n,t){return gf(t).filter(e=>!pl(n,e))}var gl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=wf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ef(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},xt=class extends gl{name;get formDirective(){return null}get path(){return null}},cn=class extends gl{_parent=null;name=null;valueAccessor=null},_l=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},vR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},AU=he(M({},vR),{"[class.ng-submitted]":"isSubmitted"}),CU=(()=>{class n extends _l{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(se(cn,2))};static \u0275dir=G({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Ae("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[Ue]})}return n})(),SU=(()=>{class n extends _l{constructor(e){super(e)}static \u0275fac=function(i){return new(i||n)(se(xt,10))};static \u0275dir=G({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Ae("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[Ue]})}return n})();var ea="VALID",fl="INVALID",Zr="PENDING",ta="DISABLED",Ti=class{},vl=class extends Ti{value;source;constructor(t,e){super(),this.value=t,this.source=e}},ia=class extends Ti{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},ra=class extends Ti{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},es=class extends Ti{status;source;constructor(t,e){super(),this.status=t,this.source=e}},_f=class extends Ti{source;constructor(t){super(),this.source=t}},vf=class extends Ti{source;constructor(t){super(),this.source=t}};function If(n){return(Il(n)?n.validators:n)||null}function yR(n){return Array.isArray(n)?wf(n):n||null}function Tf(n,t){return(Il(t)?t.asyncValidators:n)||null}function bR(n){return Array.isArray(n)?Ef(n):n||null}function Il(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Tw(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new ye(1e3,"");if(!i[e])throw new ye(1001,"")}function Aw(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new ye(1002,"")})}var ns=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Yt(this.statusReactive)}set status(t){Yt(()=>this.statusReactive.set(t))}_status=bn(()=>this.statusReactive());statusReactive=Un(void 0);get valid(){return this.status===ea}get invalid(){return this.status===fl}get pending(){return this.status==Zr}get disabled(){return this.status===ta}get enabled(){return this.status!==ta}errors;get pristine(){return Yt(this.pristineReactive)}set pristine(t){Yt(()=>this.pristineReactive.set(t))}_pristine=bn(()=>this.pristineReactive());pristineReactive=Un(!0);get dirty(){return!this.pristine}get touched(){return Yt(this.touchedReactive)}set touched(t){Yt(()=>this.touchedReactive.set(t))}_touched=bn(()=>this.touchedReactive());touchedReactive=Un(!1);get untouched(){return!this.touched}_events=new q;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(nw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(iw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(iw(t,this._rawAsyncValidators))}hasValidator(t){return pl(this._rawValidators,t)}hasAsyncValidator(t){return pl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(he(M({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ra(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new ra(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(he(M({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ia(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new ia(!0,i))}markAsPending(t={}){this.status=Zr;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new es(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(he(M({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ta,this.errors=null,this._forEachChild(r=>{r.disable(he(M({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vl(this.value,i)),this._events.next(new es(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(M({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ea,this._forEachChild(i=>{i.enable(he(M({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(he(M({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ea||this.status===Zr)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new vl(this.value,e)),this._events.next(new es(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(he(M({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ta:ea}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Zr,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=gw(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new es(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new ue,this.statusChanges=new ue}_calculateStatus(){return this._allControlsDisabled()?ta:this.errors?fl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zr)?Zr:this._anyControlsHaveStatus(fl)?fl:ea}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new ia(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ra(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Il(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=yR(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=bR(this._rawAsyncValidators)}},is=class extends ns{constructor(t,e,i){super(If(e),Tf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Aw(this,!0,t),Object.keys(t).forEach(i=>{Tw(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var yf=class extends is{};var oa=new V("",{providedIn:"root",factory:()=>Tl}),Tl="always";function Al(n,t){return[...t.path,n]}function yl(n,t,e=Tl){Af(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),ER(n,t),TR(n,t),IR(n,t),wR(n,t)}function rw(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),wl(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bl(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function wR(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Af(n,t){let e=Ew(n);t.validator!==null?n.setValidators(tw(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=Iw(n);t.asyncValidator!==null?n.setAsyncValidators(tw(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();bl(t._rawValidators,r),bl(t._rawAsyncValidators,r)}function wl(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=Ew(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(t.asyncValidator!==null){let r=Iw(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}let i=()=>{};return bl(t._rawValidators,i),bl(t._rawAsyncValidators,i),e}function ER(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Cw(n,t)})}function IR(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Cw(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Cw(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function TR(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Sw(n,t){n==null,Af(n,t)}function AR(n,t){return wl(n,t)}function xw(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function CR(n){return Object.getPrototypeOf(n.constructor)===uw}function Rw(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Dw(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(s=>{s.constructor===dw?e=s:CR(s)?i=s:r=s}),r||i||e||null}function SR(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var xR={provide:xt,useExisting:Gt(()=>aa)},na=Promise.resolve(),aa=(()=>{class n extends xt{callSetDisabledState;get submitted(){return Yt(this.submittedReactive)}_submitted=bn(()=>this.submittedReactive());submittedReactive=Un(!1);_directives=new Set;form;ngSubmit=new ue;options;constructor(e,i,r){super(),this.callSetDisabledState=r,this.form=new is({},wf(e),Ef(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){na.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),yl(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){na.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){na.then(()=>{let i=this._findContainer(e.path),r=new is({});Sw(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){na.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){na.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Rw(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(i){return new(i||n)(se(Ai,10),se(rs,10),se(oa,8))};static \u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&it("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ne([xR]),Ue]})}return n})();function sw(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function ow(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var sa=class extends ns{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,i){super(If(e),Tf(i,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Il(e)&&(e.nonNullable||e.initialValueIsDefault)&&(ow(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){sw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){sw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){ow(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var RR=n=>n instanceof sa,DR=(()=>{class n extends xt{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Al(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275dir=G({type:n,standalone:!1,features:[Ue]})}return n})();var kR={provide:cn,useExisting:Gt(()=>PR)},aw=Promise.resolve(),PR=(()=>{class n extends cn{_changeDetectorRef;callSetDisabledState;control=new sa;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ue;constructor(e,i,r,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Dw(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),xw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){yl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){aw.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,r=i!==0&&ie(i);aw.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Al(e,this._parent):[e]}static \u0275fac=function(i){return new(i||n)(se(xt,9),se(Ai,10),se(rs,10),se(El,10),se(Kt,8),se(oa,8))};static \u0275dir=G({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ne([kR]),Ue,dt]})}return n})(),RU=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),OR={provide:El,useExisting:Gt(()=>MR),multi:!0},MR=(()=>{class n extends uw{writeValue(e){let i=e??"";this.setProperty("value",i)}registerOnChange(e){this.onChange=i=>{e(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275dir=G({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&it("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Ne([OR]),Ue]})}return n})();var kw=new V("");var NR={provide:xt,useExisting:Gt(()=>ss)},ss=(()=>{class n extends xt{callSetDisabledState;get submitted(){return Yt(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=bn(()=>this._submittedReactive());_submittedReactive=Un(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ue;constructor(e,i,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return yl(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){rw(e.control||null,e,!1),SR(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),Rw(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new _f(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new vf(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(rw(i||null,e),RR(r)&&(yl(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);Sw(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&AR(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Af(this.form,this),this._oldForm&&wl(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(i){return new(i||n)(se(Ai,10),se(rs,10),se(oa,8))};static \u0275dir=G({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&it("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ne([NR]),Ue,dt]})}return n})(),FR={provide:xt,useExisting:Gt(()=>Pw)},Pw=(()=>{class n extends DR{name=null;constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){Mw(this._parent)}static \u0275fac=function(i){return new(i||n)(se(xt,13),se(Ai,10),se(rs,10))};static \u0275dir=G({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Ne([FR]),Ue]})}return n})(),VR={provide:xt,useExisting:Gt(()=>Ow)},Ow=(()=>{class n extends xt{_parent;name=null;constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Al(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){Mw(this._parent)}static \u0275fac=function(i){return new(i||n)(se(xt,13),se(Ai,10),se(rs,10))};static \u0275dir=G({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Ne([VR]),Ue]})}return n})();function Mw(n){return!(n instanceof Pw)&&!(n instanceof ss)&&!(n instanceof Ow)}var LR={provide:cn,useExisting:Gt(()=>UR)},UR=(()=>{class n extends cn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ue;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Dw(this,s)}ngOnChanges(e){this._added||this._setUpControl(),xw(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Al(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(se(xt,13),se(Ai,10),se(rs,10),se(El,10),se(kw,8))};static \u0275dir=G({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ne([LR]),Ue,dt]})}return n})();function BR(n){return typeof n=="number"?n:parseFloat(n)}var Nw=(()=>{class n{_validator=ml;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ml,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,features:[dt]})}return n})();var jR={provide:Ai,useExisting:Gt(()=>zR),multi:!0},zR=(()=>{class n extends Nw{min;inputName="min";normalizeInput=e=>BR(e);createValidator=e=>fw(e);static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275dir=G({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Be("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[Ne([jR]),Ue]})}return n})(),$R={provide:Ai,useExisting:Gt(()=>qR),multi:!0};var qR=(()=>{class n extends Nw{required;inputName="required";normalizeInput=ie;createValidator=e=>mw;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275dir=G({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Be("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ne([$R]),Ue]})}return n})();var Fw=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({})}return n})(),bf=class extends ns{constructor(t,e,i){super(If(e),Tf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Aw(this,!1,t),t.forEach((i,r)=>{Tw(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function cw(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var DU=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),s={};return cw(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new is(r,s)}record(e,i=null){let r=this._reduceControls(e);return new yf(r,i)}control(e,i,r){let s={};return this.useNonNullable?(cw(i)?s=i:(s.validators=i,s.asyncValidators=r),new sa(e,he(M({},s),{nonNullable:!0}))):new sa(e,i,r)}array(e,i,r){let s=e.map(o=>this._createControl(o));return new bf(s,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof sa)return e;if(e instanceof ns)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(i,r,s)}else return this.control(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kU=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:oa,useValue:e.callSetDisabledState??Tl}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Fw]})}return n})(),PU=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:kw,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:oa,useValue:e.callSetDisabledState??Tl}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Fw]})}return n})();function zn(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Sf;try{Sf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Sf=!1}var Pe=(()=>{class n{_platformId=g(sn);isBrowser=this._platformId?Fy(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Sf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var os,Vw=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function xf(){if(os)return os;if(typeof document!="object"||!document)return os=new Set(Vw),os;let n=document.createElement("input");return os=new Set(Vw.filter(t=>(n.setAttribute("type",t),n.type===t))),os}var ca;function HR(){if(ca==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ca=!0}))}finally{ca=ca||!1}return ca}function Ci(n){return HR()?n:!!n.capture}var ln=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(ln||{}),Cl,ir;function Sl(){if(ir==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ir=!1,ir;if("scrollBehavior"in document.documentElement.style)ir=!0;else{let n=Element.prototype.scrollTo;n?ir=!/\{\s*\[native code\]\s*\}/.test(n.toString()):ir=!1}}return ir}function as(){if(typeof document!="object"||!document)return ln.NORMAL;if(Cl==null){let n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),Cl=ln.NORMAL,n.scrollLeft===0&&(n.scrollLeft=1,Cl=n.scrollLeft===0?ln.NEGATED:ln.INVERTED),n.remove()}return Cl}var Cf;function WR(){if(Cf==null){let n=typeof document<"u"?document.head:null;Cf=!!(n&&(n.createShadowRoot||n.attachShadow))}return Cf}function Lw(n){if(WR()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Uw(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){let t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function zt(n){return n.composedPath?n.composedPath()[0]:n.target}function Rf(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function BU(n,t,e,i,r){let s=parseInt(Io.major),o=parseInt(Io.minor);return s>19||s===19&&o>0||s===0&&o===0?n.listen(t,e,i,r):(t.addEventListener(e,i,r),()=>{t.removeEventListener(e,i,r)})}var xl=new WeakMap,$t=(()=>{class n{_appRef;_injector=g(Ee);_environmentInjector=g(Vt);load(e){let i=this._appRef=this._appRef||this._injector.get(_i),r=xl.get(i);r||(r={loaders:new Set,refs:[]},xl.set(i,r),i.onDestroy(()=>{xl.get(i)?.refs.forEach(s=>s.destroy()),xl.delete(i)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Fc(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(i,r){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return n})();function cs(n){return n!=null&&`${n}`!="false"}function Dl(n,t=0){return GR(n)?Number(n):arguments.length===2?t:0}function GR(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function ls(n){return Array.isArray(n)?n:[n]}function Ke(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Pt(n){return n instanceof re?n.nativeElement:n}function YU(n,t=/\s+/){let e=[];if(n!=null){let i=Array.isArray(n)?n:`${n}`.split(t);for(let r of i){let s=`${r}`.trim();s&&e.push(s)}}return e}function KR(n){if(n.type==="characterData"&&n.target instanceof Comment)return!0;if(n.type==="childList"){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var Bw=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jw=(()=>{class n{_mutationObserverFactory=g(Bw);_observedElements=new Map;_ngZone=g(H);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){let i=Pt(e);return new tt(r=>{let o=this._observeElement(i).pipe(z(c=>c.filter(l=>!KR(l))),De(c=>!!c.length)).subscribe(c=>{this._ngZone.run(()=>{r.next(c)})});return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let i=new q,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),o2=(()=>{class n{_contentObserver=g(jw);_elementRef=g(re);event=new ue;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Dl(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Or(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",ie],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],features:[Qe]})}return n})(),kl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({providers:[Bw]})}return n})();var zw=new Set,rr,YR=(()=>{class n{_platform=g(Pe);_nonce=g(po,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):XR}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&QR(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QR(n,t){if(!zw.has(n))try{rr||(rr=document.createElement("style"),t&&rr.setAttribute("nonce",t),rr.setAttribute("type","text/css"),document.head.appendChild(rr)),rr.sheet&&(rr.sheet.insertRule(`@media ${n} {body{ }}`,0),zw.add(n))}catch(e){console.error(e)}}function XR(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var qw=(()=>{class n{_mediaMatcher=g(YR);_zone=g(H);_queries=new Map;_destroySubject=new q;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return $w(ls(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=$w(ls(e)).map(o=>this._registerQuery(o).observable),s=Pr(r);return s=Ac(s.pipe(Ft(1)),s.pipe(xc(1),Or(0))),s.pipe(z(o=>{let c={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:d})=>{c.matches=c.matches||l,c.breakpoints[d]=l}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let i=this._mediaMatcher.matchMedia(e),s={observable:new tt(o=>{let c=l=>this._zone.run(()=>o.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(nn(i),z(({matches:o})=>({query:e,matches:o})),$e(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $w(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var p2={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Yw=" ";function Qw(n,t,e){let i=Xw(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(Yw)))}function Vf(n,t,e){let i=Xw(n,t);e=e.trim();let r=i.filter(s=>s!==e);r.length?n.setAttribute(t,r.join(Yw)):n.removeAttribute(t)}function Xw(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}var dD=200,Pf=class{_letterKeyStream=new q;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new q;selectedItem=this._selectedItem;constructor(t,e){let i=typeof e?.debounceInterval=="number"?e.debounceInterval:dD;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(i)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Me(e=>this._pressedLetters.push(e)),Or(t),De(()=>this._pressedLetters.length>0),z(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let i=1;i<this._items.length+1;i++){let r=(this._selectedItemIndex+i)%this._items.length,s=this._items[r];if(!this._skipPredicateFn?.(s)&&s.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(s);break}}this._pressedLetters=[]})}},Ml=class{_items;_activeItemIndex=-1;_activeItem=Un(null);_wrap=!1;_typeaheadSubscription=vt.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof fh?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):Gi(t)&&(this._effectRef=To(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new q;change=new q;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Pf(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:i=>this._skipPredicateFn(i)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(i=>{this.setActiveItem(i)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}else return;default:(r||zn(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),i=typeof t=="number"?t:e.indexOf(t),r=e[i];this._activeItem.set(r??null),this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let i=1;i<=e.length;i++){let r=(this._activeItemIndex+t*i+e.length)%e.length,s=e[r];if(!this._skipPredicateFn(s)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){let i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(t+=e,!i[t])return;this.setActiveItem(t)}}_getItemsArray(){return Gi(this._items)?this._items():this._items instanceof fh?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let i=t.indexOf(e);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i,this._typeahead?.setCurrentSelectedItemIndex(i))}}},Nl=class extends Ml{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}},Hw=class extends Ml{_origin="program";setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var hD=(()=>{class n{_platform=g(Pe);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return mD(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let i=fD(ED(e));if(i&&(Ww(i)===-1||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=Ww(e);return e.hasAttribute("contenteditable")?s!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!bD(e)?!1:r==="audio"?e.hasAttribute("controls")?s!==-1:!1:r==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,i){return wD(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fD(n){try{return n.frameElement}catch{return null}}function mD(n){return!!(n.offsetWidth||n.offsetHeight||typeof n.getClientRects=="function"&&n.getClientRects().length)}function pD(n){let t=n.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function gD(n){return vD(n)&&n.type=="hidden"}function _D(n){return yD(n)&&n.hasAttribute("href")}function vD(n){return n.nodeName.toLowerCase()=="input"}function yD(n){return n.nodeName.toLowerCase()=="a"}function Jw(n){if(!n.hasAttribute("tabindex")||n.tabIndex===void 0)return!1;let t=n.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Ww(n){if(!Jw(n))return null;let t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function bD(n){let t=n.nodeName.toLowerCase(),e=t==="input"&&n.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function wD(n){return gD(n)?!1:pD(n)||_D(n)||n.hasAttribute("contenteditable")||Jw(n)}function ED(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}var Of=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,i,r,s=!1,o){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=o,s||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=0;i<e.length;i++){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let i=e.length-1;i>=0;i--){let r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Ki(t,{injector:this._injector}):setTimeout(t)}},ID=(()=>{class n{_checker=g(hD);_ngZone=g(H);_document=g(oe);_injector=g(Ee);constructor(){g($t).load(Rl)}create(e,i=!1){return new Of(e,this._checker,this._ngZone,this._document,i,this._injector)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P2=(()=>{class n{_elementRef=g(re);_focusTrapFactory=g(ID);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){g(Pe).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Uw(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",ie],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",ie]},exportAs:["cdkTrapFocus"],features:[Qe,dt]})}return n})();function Lf(n){return n.buttons===0||n.detail===0}function Uf(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var TD=new V("cdk-input-modality-detector-options"),AD={ignoreKeys:[18,17,224,91,16]},Zw=650,us=Ci({passive:!0,capture:!0}),CD=(()=>{class n{_platform=g(Pe);modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Dt(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(i=>i===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=zt(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<Zw||(this._modality.next(Lf(e)?"keyboard":"mouse"),this._mostRecentTarget=zt(e))};_onTouchstart=e=>{if(Uf(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=zt(e)};constructor(){let e=g(H),i=g(oe),r=g(TD,{optional:!0});this._options=M(M({},AD),r),this.modalityDetected=this._modality.pipe(xc(1)),this.modalityChanged=this.modalityDetected.pipe(Mr()),this._platform.isBrowser&&e.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,us),i.addEventListener("mousedown",this._onMousedown,us),i.addEventListener("touchstart",this._onTouchstart,us)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,us),document.removeEventListener("mousedown",this._onMousedown,us),document.removeEventListener("touchstart",this._onTouchstart,us))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SD=new V("liveAnnouncerElement",{providedIn:"root",factory:xD});function xD(){return null}var RD=new V("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),DD=0,eE=(()=>{class n{_ngZone=g(H);_defaultOptions=g(RD,{optional:!0});_liveElement;_document=g(oe);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=g(SD,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...i){let r=this._defaultOptions,s,o;return i.length===1&&typeof i[0]=="number"?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),o==null&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof o=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${DD++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){let s=i[r],o=s.getAttribute("aria-owns");o?o.indexOf(e)===-1&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ol=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Ol||{}),kD=new V("cdk-focus-monitor-default-options"),Pl=Ci({passive:!0,capture:!0}),Bf=(()=>{class n{_ngZone=g(H);_platform=g(Pe);_inputModalityDetector=g(CD);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=g(oe,{optional:!0});_stopInputModalityDetector=new q;constructor(){let e=g(kD,{optional:!0});this._detectionMode=e?.detectionMode||Ol.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let i=zt(e);for(let r=i;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,i=!1){let r=Pt(e);if(!this._platform.isBrowser||r.nodeType!==1)return B();let s=Lw(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;let c={checkChildren:i,subject:new q,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){let i=Pt(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){let s=Pt(e),o=this._getDocument().activeElement;s===o?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,i,l)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Ol.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused",i==="touch"),e.classList.toggle("cdk-keyboard-focused",i==="keyboard"),e.classList.toggle("cdk-mouse-focused",i==="mouse"),e.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&i,this._detectionMode===Ol.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Zw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,i){let r=this._elementInfo.get(i),s=zt(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Pl),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Pl)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe($e(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){let i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Pl),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Pl),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){let i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let s=e.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0}return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),O2=(()=>{class n{_elementRef=g(re);_focusMonitor=g(Bf);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ue;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return n})(),sr=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(sr||{}),Gw="cdk-high-contrast-black-on-white",Kw="cdk-high-contrast-white-on-black",Df="cdk-high-contrast-active",jf=(()=>{class n{_platform=g(Pe);_hasCheckedHighContrastMode;_document=g(oe);_breakpointSubscription;constructor(){this._breakpointSubscription=g(qw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return sr.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return sr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return sr.BLACK_ON_WHITE}return sr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Df,Gw,Kw),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===sr.BLACK_ON_WHITE?e.add(Df,Gw):i===sr.WHITE_ON_BLACK&&e.add(Df,Kw)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M2=(()=>{class n{constructor(){g(jf)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[kl]})}return n})(),kf={},Xt=(()=>{class n{_appId=g(mo);getId(e){return this._appId!=="ng"&&(e+=this._appId),kf.hasOwnProperty(e)||(kf[e]=0),`${e}${kf[e]++}`}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var PD=new V("cdk-dir-doc",{providedIn:"root",factory:OD});function OD(){return g(oe)}var MD=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function ND(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?MD.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var $n=(()=>{class n{value="ltr";change=new ue;constructor(){let e=g(PD,{optional:!0});if(e){let i=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=ND(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Si=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({})}return n})();var FD=["text"],VD=[[["mat-icon"]],"*"],LD=["mat-icon","*"];function UD(n,t){if(n&1&&We(0,"mat-pseudo-checkbox",1),n&2){let e=Xe();St("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function BD(n,t){if(n&1&&We(0,"mat-pseudo-checkbox",3),n&2){let e=Xe();St("disabled",e.disabled)}}function jD(n,t){if(n&1&&(pe(0,"span",4),Qi(1),Ie()),n&2){let e=Xe();be(),Iy("(",e.group.label,")")}}var zD=["mat-internal-form-field",""],$D=["*"];var Ye=(()=>{class n{constructor(){g(jf)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Si,Si]})}return n})(),hs=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,i,r,s){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,e)??!1;s!==t&&(this.errorState=s,this._stateChanges.next())}},tE=new V("MAT_DATE_LOCALE",{providedIn:"root",factory:qD});function qD(){return g(Ay)}var ds="Method not implemented",Ul=class{locale;_localeChanges=new q;localeChanges=this._localeChanges;setTime(t,e,i,r){throw new Error(ds)}getHours(t){throw new Error(ds)}getMinutes(t){throw new Error(ds)}getSeconds(t){throw new Error(ds)}parseTime(t,e){throw new Error(ds)}addSeconds(t,e){throw new Error(ds)}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}compareTime(t,e){return this.getHours(t)-this.getHours(e)||this.getMinutes(t)-this.getMinutes(e)||this.getSeconds(t)-this.getSeconds(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}sameTime(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareTime(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}},HD=new V("mat-date-formats"),WD=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,GD=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function zf(n,t){let e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}var KD=(()=>{class n extends Ul{useUtcForDisplay=!1;_matDateLocale=g(tE,{optional:!0});constructor(){super();let e=g(tE,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return zf(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return zf(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){let i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return zf(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){let i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),i=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return i===7?0:i}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth()!=i,s}today(){return new Date}parse(e,i){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,he(M({},i),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,i*12)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(WD.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,i,r,s){let o=this.clone(e);return o.setHours(i,r,s,0),o}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,i){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let s=this._parseTimeString(r);if(s===null){let o=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();o.length>0&&(s=this._parseTimeString(o))}return s||this.invalid()}addSeconds(e,i){return new Date(e.getTime()+i*1e3)}_createDateWithOverflow(e,i,r){let s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){let r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}_parseTimeString(e){let i=e.toUpperCase().match(GD);if(i){let r=parseInt(i[1]),s=parseInt(i[2]),o=i[3]==null?void 0:parseInt(i[3]),c=i[4];if(r===12?r=c==="AM"?0:r:c==="PM"&&(r+=12),$f(r,0,23)&&$f(s,0,59)&&(o==null||$f(o,0,59)))return this.setTime(this.today(),r,s,o||0)}return null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac})}return n})();function $f(n,t,e){return!isNaN(n)&&n>=t&&n<=e}var YD={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var lB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({providers:[QD()]})}return n})();function QD(n=YD){return[{provide:Ul,useClass:KD},{provide:HD,useValue:n}]}var ql=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Yf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(i,r){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return n})();var uB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Ye,Ye]})}return n})(),Jt=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Jt||{}),Wf=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Jt.HIDDEN;constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},nE=Ci({passive:!0,capture:!0}),Gf=class{_events=new Map;addHandler(t,e,i,r){let s=this._events.get(e);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,nE)})}removeHandler(t,e,i){let r=this._events.get(t);if(!r)return;let s=r.get(e);s&&(s.delete(i),s.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,nE)))}_delegateEventHandler=t=>{let e=zt(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}},Bl={enterDuration:225,exitDuration:150},XD=800,iE=Ci({passive:!0,capture:!0}),rE=["mousedown","touchstart"],sE=["mouseup","mouseleave","touchend","touchcancel"],JD=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return n})(),jl=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Gf;constructor(t,e,i,r,s){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Pt(i)),s&&s.get($t).load(JD)}fadeInRipple(t,e,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=M(M({},Bl),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let o=i.radius||ZD(t,e,r),c=t-r.left,l=e-r.top,d=s.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-o}px`,f.style.top=`${l-o}px`,f.style.height=`${o*2}px`,f.style.width=`${o*2}px`,i.color!=null&&(f.style.backgroundColor=i.color),f.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),y=p.transitionProperty,A=p.transitionDuration,D=y==="none"||A==="0s"||A==="0s, 0s"||r.width===0&&r.height===0,k=new Wf(this,f,i,D);f.style.transform="scale3d(1, 1, 1)",k.state=Jt.FADING_IN,i.persistent||(this._mostRecentTransientRipple=k);let R=null;return!D&&(d||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let $=()=>{R&&(R.fallbackTimer=null),clearTimeout(j),this._finishRippleTransition(k)},Q=()=>this._destroyRipple(k),j=setTimeout(Q,d+100);f.addEventListener("transitionend",$),f.addEventListener("transitioncancel",Q),R={onTransitionEnd:$,onTransitionCancel:Q,fallbackTimer:j}}),this._activeRipples.set(k,R),(D||!d)&&this._finishRippleTransition(k),k}fadeOutRipple(t){if(t.state===Jt.FADING_OUT||t.state===Jt.HIDDEN)return;let e=t.element,i=M(M({},Bl),t.config.animation);e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Jt.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Pt(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,rE.forEach(i=>{n._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{sE.forEach(e=>{this._triggerElement.addEventListener(e,this,iE)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Jt.FADING_IN?this._startFadeOutTransition(t):t.state===Jt.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Jt.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Jt.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Lf(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+XD;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Uf(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Jt.VISIBLE||t.config.terminateOnPointerUp&&t.state===Jt.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(rE.forEach(e=>n._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(sE.forEach(e=>t.removeEventListener(e,this,iE)),this._pointerUpEventsRegistered=!1))}};function ZD(n,t,e){let i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}var lE=new V("mat-ripple-global-options"),ek=(()=>{class n{_elementRef=g(re);_animationMode=g(yn,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=g(H),i=g(Pe),r=g(lE,{optional:!0}),s=g(Ee);this._globalOptions=r||{},this._rippleRenderer=new jl(this,e,this._elementRef,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:M(M(M({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,i,M(M({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,M(M({},this.rippleConfig),e))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Ae("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),Qf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Ye,Ye]})}return n})(),tk=(()=>{class n{_animationMode=g(yn,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){i&2&&Ae("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),nk=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Ye]})}return n})(),Xf=new V("MAT_OPTION_PARENT_COMPONENT"),Jf=new V("MatOptgroup");var Kf=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},uE=(()=>{class n{_element=g(re);_changeDetectorRef=g(Kt);_parent=g(Xf,{optional:!0});group=g(Jf,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=g(Xt).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ue;_text;_stateChanges=new q;constructor(){g($t).load(Yf),g($t).load(Rl),this._signalDisableRipple=!!this._parent&&Gi(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!zn(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Kf(this,e))}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(i&1&&ht(FD,7),i&2){let s;Se(s=xe())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){i&1&&it("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),i&2&&(Yi("id",r.id),Be("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),Ae("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",ie]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],features:[Qe],ngContentSelectors:LD,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){i&1&&(kt(VD),qe(0,UD,1,2,"mat-pseudo-checkbox",1),Ce(1),pe(2,"span",2,0),Ce(4,1),Ie(),qe(5,BD,1,1,"mat-pseudo-checkbox",3)(6,jD,2,1,"span",4),We(7,"div",5)),i&2&&(He(r.multiple?0:-1),be(5),He(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),be(),He(r.group&&r.group._inert?6:-1),be(),St("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[tk,ek],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})();function dE(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}function hE(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}var Zf=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Qf,Ye,nk]})}return n})(),oE={capture:!0},aE=["focus","mousedown","mouseenter","touchstart"],qf="mat-ripple-loader-uninitialized",Hf="mat-ripple-loader-class-name",cE="mat-ripple-loader-centered",Ll="mat-ripple-loader-disabled",fE=(()=>{class n{_document=g(oe,{optional:!0});_animationMode=g(yn,{optional:!0});_globalRippleOptions=g(lE,{optional:!0});_platform=g(Pe);_ngZone=g(H);_injector=g(Ee);_hosts=new Map;constructor(){this._ngZone.runOutsideAngular(()=>{for(let e of aE)this._document?.addEventListener(e,this._onInteraction,oE)})}ngOnDestroy(){let e=this._hosts.keys();for(let i of e)this.destroyRipple(i);for(let i of aE)this._document?.removeEventListener(i,this._onInteraction,oE)}configureRipple(e,i){e.setAttribute(qf,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(Hf))&&e.setAttribute(Hf,i.className||""),i.centered&&e.setAttribute(cE,""),i.disabled&&e.setAttribute(Ll,"")}setDisabled(e,i){let r=this._hosts.get(e);r?(r.target.rippleDisabled=i,!i&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):i?e.setAttribute(Ll,""):e.removeAttribute(Ll)}_onInteraction=e=>{let i=zt(e);if(i instanceof HTMLElement){let r=i.closest(`[${qf}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(Hf)),e.append(i);let r=this._animationMode==="NoopAnimations",s=this._globalRippleOptions,o=r?0:s?.animation?.enterDuration??Bl.enterDuration,c=r?0:s?.animation?.exitDuration??Bl.exitDuration,l={rippleDisabled:r||s?.disabled||e.hasAttribute(Ll),rippleConfig:{centered:e.hasAttribute(cE),terminateOnPointerUp:s?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:c}}},d=new jl(l,this._ngZone,i,this._platform,this._injector),f=!l.rippleDisabled;f&&d.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:d,hasSetUpEvents:f}),e.removeAttribute(qf)}destroyRipple(e){let i=this._hosts.get(e);i&&(i.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dB=(()=>{class n{labelPosition;static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){i&2&&Ae("mdc-form-field--align-end",r.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:zD,ngContentSelectors:$D,decls:1,vars:0,template:function(i,r){i&1&&(kt(),Ce(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return n})();var ik=["*"],Hl;function rk(){if(Hl===void 0&&(Hl=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(Hl=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Hl}function la(n){return rk()?.createHTML(n)||n}function mE(n){return Error(`Unable to find icon with the name "${n}"`)}function sk(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function pE(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function gE(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var qn=class{url;svgText;options;svgElement;constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}},ok=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new qn(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){let o=this._sanitizer.sanitize(Lt.HTML,r);if(!o)throw gE(r);let c=la(o);return this._addSvgIconConfig(e,i,new qn("",c,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new qn(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){let s=this._sanitizer.sanitize(Lt.HTML,i);if(!s)throw gE(i);let o=la(s);return this._addSvgIconSetConfig(e,new qn("",o,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let i=this._sanitizer.sanitize(Lt.RESOURCE_URL,e);if(!i)throw pE(e);let r=this._cachedIconsByUrl.get(i);return r?B(Wl(r)):this._loadSvgIconFromConfig(new qn(e,null)).pipe(Me(s=>this._cachedIconsByUrl.set(i,s)),z(s=>Wl(s)))}getNamedSvgIcon(e,i=""){let r=_E(i,e),s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(i);return o?this._getSvgFromIconSetConfigs(e,o):Hi(mE(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?B(Wl(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(z(i=>Wl(i)))}_getSvgFromIconSetConfigs(e,i){let r=this._extractIconWithNameFromAnySet(e,i);if(r)return B(r);let s=i.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(di(c=>{let d=`Loading icon set URL: ${this._sanitizer.sanitize(Lt.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(d)),B(null)})));return Cc(s).pipe(z(()=>{let o=this._extractIconWithNameFromAnySet(e,i);if(!o)throw mE(e);return o}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){let s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(o,e,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Me(i=>e.svgText=i),z(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?B(null):this._fetchIcon(e).pipe(Me(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){let s=e.querySelector(`[id="${i}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,r);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),r);let c=this._svgElementFromString(la("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,r)}_svgElementFromString(e){let i=this._document.createElement("DIV");i.innerHTML=e;let r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let i=this._svgElementFromString(la("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){let{name:o,value:c}=r[s];o!=="id"&&i.setAttribute(o,c)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){let{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw sk();if(i==null)throw Error(`Cannot fetch icon from URL "${i}".`);let o=this._sanitizer.sanitize(Lt.RESOURCE_URL,i);if(!o)throw pE(i);let c=this._inProgressUrlFetches.get(o);if(c)return c;let l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(z(d=>la(d)),fi(()=>this._inProgressUrlFetches.delete(o)),Jv());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(_E(e,i),r),this}_addSvgIconSetConfig(e,i){let r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){let i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){let s=this._resolvers[r](i,e);if(s)return ak(s)?new qn(s.url,null,s.options):new qn(s,null)}}static \u0275fac=function(i){return new(i||n)(ee(Th,8),ee(Ph),ee(oe,8),ee(Wi))};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Wl(n){return n.cloneNode(!0)}function _E(n,t){return n+":"+t}function ak(n){return!!(n.url&&n.options)}var ck=new V("MAT_ICON_DEFAULT_OPTIONS"),lk=new V("mat-icon-location",{providedIn:"root",factory:uk});function uk(){let n=g(oe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var vE=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],dk=vE.map(n=>`[${n}]`).join(", "),hk=/^url\(['"]?#(.*?)['"]?\)$/,SB=(()=>{class n{_elementRef=g(re);_iconRegistry=g(ok);_location=g(lk);_errorHandler=g(Wi);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=vt.EMPTY;constructor(){let e=g(new Nr("aria-hidden"),{optional:!0}),i=g(ck,{optional:!0});i&&(i.color&&(this.color=this._defaultColor=i.color),i.fontSet&&(this.fontSet=i.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){let r=e.childNodes[i];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let i=e.querySelectorAll(dk),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)vE.forEach(o=>{let c=i[s],l=c.getAttribute(o),d=l?l.match(hk):null;if(d){let f=r.get(c);f||(f=[],r.set(c,f)),f.push({name:o,value:d[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ft(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${i}:${r}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){i&2&&(Be("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),yo(r.color?"mat-"+r.color:""),Ae("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",ie],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Qe],ngContentSelectors:ik,decls:1,vars:0,template:function(i,r){i&1&&(kt(),Ce(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),xB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Ye,Ye]})}return n})();var fk=["mat-button",""],mk=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],pk=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var gk="@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}";var _k=["mat-icon-button",""],vk=["*"];var yk=new V("MAT_BUTTON_CONFIG");var bk=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],yE=(()=>{class n{_elementRef=g(re);_ngZone=g(H);_animationMode=g(yn,{optional:!0});_focusMonitor=g(Bf);_rippleLoader=g(fE);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){g($t).load(Yf);let e=g(yk,{optional:!0}),i=this._elementRef.nativeElement,r=i.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(i,{className:"mat-mdc-button-ripple"});for(let{attribute:s,mdcClasses:o}of bk)i.hasAttribute(s)&&r.add(...o)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",ie],disabled:[2,"disabled","disabled",ie],ariaDisabled:[2,"aria-disabled","ariaDisabled",ie],disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie]},features:[Qe]})}return n})();var BB=(()=>{class n extends yE{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275cmp=ke({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Be("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),yo(r.color?"mat-"+r.color:""),Ae("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ue],attrs:fk,ngContentSelectors:pk,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(kt(mk),We(0,"span",0),Ce(1),pe(2,"span",1),Ce(3,1),Ie(),Ce(4,2),We(5,"span",2)(6,"span",3)),i&2&&Ae("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width, 1px);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return n})();var jB=(()=>{class n extends yE{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){i&2&&(Be("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),yo(r.color?"mat-"+r.color:""),Ae("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable",r._animationMode==="NoopAnimations")("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Ue],attrs:_k,ngContentSelectors:vk,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){i&1&&(kt(),We(0,"span",0),Ce(1),We(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',gk],encapsulation:2,changeDetection:0})}return n})();var zB=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Ye,Qf,Ye]})}return n})();var em=class{_box;_destroyed=new q;_resizeSubject=new q;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new tt(e=>{let i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(De(e=>e.some(i=>i.target===t)),dh({bufferSize:1,refCount:!0}),$e(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},bE=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=g(H);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,i){let r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new em(r)),this._observers.get(r).observe(e)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wk=["notch"],Ek=["matFormFieldNotchedOutline",""],Ik=["*"],Tk=["textField"],Ak=["iconPrefixContainer"],Ck=["textPrefixContainer"],Sk=["iconSuffixContainer"],xk=["textSuffixContainer"],Rk=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Dk=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function kk(n,t){n&1&&We(0,"span",21)}function Pk(n,t){if(n&1&&(pe(0,"label",20),Ce(1,1),qe(2,kk,1,0,"span",21),Ie()),n&2){let e=Xe(2);St("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Be("for",e._control.disableAutomaticLabeling?null:e._control.id),be(2),He(!e.hideRequiredMarker&&e._control.required?2:-1)}}function Ok(n,t){if(n&1&&qe(0,Pk,3,5,"label",20),n&2){let e=Xe();He(e._hasFloatingLabel()?0:-1)}}function Mk(n,t){n&1&&We(0,"div",7)}function Nk(n,t){}function Fk(n,t){if(n&1&&qe(0,Nk,0,0,"ng-template",13),n&2){Xe(2);let e=wo(1);St("ngTemplateOutlet",e)}}function Vk(n,t){if(n&1&&(pe(0,"div",9),qe(1,Fk,1,1,null,13),Ie()),n&2){let e=Xe();St("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),be(),He(e._forceDisplayInfixLabel()?-1:1)}}function Lk(n,t){n&1&&(pe(0,"div",10,2),Ce(2,2),Ie())}function Uk(n,t){n&1&&(pe(0,"div",11,3),Ce(2,3),Ie())}function Bk(n,t){}function jk(n,t){if(n&1&&qe(0,Bk,0,0,"ng-template",13),n&2){Xe();let e=wo(1);St("ngTemplateOutlet",e)}}function zk(n,t){n&1&&(pe(0,"div",14,4),Ce(2,4),Ie())}function $k(n,t){n&1&&(pe(0,"div",15,5),Ce(2,5),Ie())}function qk(n,t){n&1&&We(0,"div",16)}function Hk(n,t){if(n&1&&(pe(0,"div",18),Ce(1,6),Ie()),n&2){let e=Xe();St("@transitionMessages",e._subscriptAnimationState)}}function Wk(n,t){if(n&1&&(pe(0,"mat-hint",22),Qi(1),Ie()),n&2){let e=Xe(2);St("id",e._hintLabelId),be(),Eo(e.hintLabel)}}function Gk(n,t){if(n&1&&(pe(0,"div",19),qe(1,Wk,2,2,"mat-hint",22),Ce(2,7),We(3,"div",23),Ce(4,8),Ie()),n&2){let e=Xe();St("@transitionMessages",e._subscriptAnimationState),be(),He(e.hintLabel?1:-1)}}var wE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["mat-label"]]})}return n})(),RE=new V("MatError"),_j=(()=>{class n{id=g(Xt).getId("mat-mdc-error-");constructor(){g(new Nr("aria-live"),{optional:!0})||g(re).nativeElement.setAttribute("aria-live","polite")}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){i&2&&Yi("id",r.id)},inputs:{id:"id"},features:[Ne([{provide:RE,useExisting:n}])]})}return n})(),EE=(()=>{class n{align="start";id=g(Xt).getId("mat-mdc-hint-");static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){i&2&&(Yi("id",r.id),Be("align",null),Ae("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),Kk=new V("MatPrefix");var DE=new V("MatSuffix"),vj=(()=>{class n{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Ne([{provide:DE,useExisting:n}])]})}return n})(),kE=new V("FloatingLabelParent"),IE=(()=>{class n{_elementRef=g(re);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=g(bE);_ngZone=g(H);_parent=g(kE);_resizeSubscription=new vt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Yk(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){i&2&&Ae("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function Yk(n){let t=n;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let i=e.scrollWidth;return e.remove(),i}var TE="mdc-line-ripple--active",Gl="mdc-line-ripple--deactivating",AE=(()=>{class n{_elementRef=g(re);_cleanupTransitionEnd;constructor(){let e=g(H),i=g(Ut);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=i.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Gl),e.add(TE)}deactivate(){this._elementRef.nativeElement.classList.add(Gl)}_handleTransitionEnd=e=>{let i=this._elementRef.nativeElement.classList,r=i.contains(Gl);e.propertyName==="opacity"&&r&&i.remove(TE,Gl)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),CE=(()=>{class n{_elementRef=g(re);_ngZone=g(H);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(i&1&&ht(wk,5),i&2){let s;Se(s=xe())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){i&2&&Ae("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:Ek,ngContentSelectors:Ik,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){i&1&&(kt(),We(0,"div",1),pe(1,"div",2,0),Ce(3),Ie(),We(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),Qk={transitionMessages:Co("transitionMessages",[Uc("enter",Ji({opacity:1,transform:"translateY(0%)"})),Br("void => enter",[Ji({opacity:0,transform:"translateY(-5px)"}),So("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ua=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n})}return n})();var da=new V("MatFormField"),Xk=new V("MAT_FORM_FIELD_DEFAULT_OPTIONS"),SE="fill",Jk="auto",xE="fixed",Zk="translateY(-50%)",yj=(()=>{class n{_elementRef=g(re);_changeDetectorRef=g(Kt);_dir=g($n);_platform=g(Pe);_idGenerator=g(Xt);_defaults=g(Xk,{optional:!0});_animationMode=g(yn,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=vy(wE);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=cs(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Jk}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let i=this._appearance,r=e||this._defaults?.appearance||SE;this._appearance=r,this._appearance==="outline"&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=SE;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||xE}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||xE}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_subscriptAnimationState="";get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new q;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_stateChanges;_valueChanges;_describedByChanges;_injector=g(Ee);constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._previousControl=this._control)}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=bn(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let i=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),i.controlType&&this._elementRef.nativeElement.classList.add(r+i.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=i.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=i.stateChanges.pipe(nn([void 0,void 0]),z(()=>[i.errorState,i.userAriaDescribedBy]),Sc(),De(([[s,o],[c,l]])=>s!==c||o!==l)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),i.ngControl&&i.ngControl.valueChanges&&(this._valueChanges=i.ngControl.valueChanges.pipe($e(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),ui(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),kc(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe($e(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=bn(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let i=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,r=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,c=i?.getBoundingClientRect().width??0,l=r?.getBoundingClientRect().width??0,d=s?.getBoundingClientRect().width??0,f=o?.getBoundingClientRect().width??0,p=this._dir.value==="rtl"?"-1":"1",y=`${c+l}px`,D=`calc(${p} * (${y} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Zk} translateX(${D})
    )`;let k=c+l+d+f;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${k}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(i&1&&(wy(s,r._labelChild,wE,5),on(s,ua,5),on(s,Kk,5),on(s,DE,5),on(s,RE,5),on(s,EE,5)),i&2){Ey();let o;Se(o=xe())&&(r._formFieldControl=o.first),Se(o=xe())&&(r._prefixChildren=o),Se(o=xe())&&(r._suffixChildren=o),Se(o=xe())&&(r._errorChildren=o),Se(o=xe())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(i&1&&(ht(Tk,5),ht(Ak,5),ht(Ck,5),ht(Sk,5),ht(xk,5),ht(IE,5),ht(CE,5),ht(AE,5)),i&2){let s;Se(s=xe())&&(r._textField=s.first),Se(s=xe())&&(r._iconPrefixContainer=s.first),Se(s=xe())&&(r._textPrefixContainer=s.first),Se(s=xe())&&(r._iconSuffixContainer=s.first),Se(s=xe())&&(r._textSuffixContainer=s.first),Se(s=xe())&&(r._floatingLabel=s.first),Se(s=xe())&&(r._notchedOutline=s.first),Se(s=xe())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){i&2&&Ae("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations",r._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ne([{provide:da,useExisting:n},{provide:kE,useExisting:n}])],ngContentSelectors:Dk,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(i&1){let s=bo();kt(Rk),qe(0,Ok,1,1,"ng-template",null,0,Ty),pe(2,"div",6,1),it("click",function(c){return Vn(s),Ln(r._control.onContainerClick(c))}),qe(4,Mk,1,0,"div",7),pe(5,"div",8),qe(6,Vk,2,2,"div",9)(7,Lk,3,0,"div",10)(8,Uk,3,0,"div",11),pe(9,"div",12),qe(10,jk,1,1,null,13),Ce(11),Ie(),qe(12,zk,3,0,"div",14)(13,$k,3,0,"div",15),Ie(),qe(14,qk,1,0,"div",16),Ie(),pe(15,"div",17),qe(16,Hk,2,1,"div",18)(17,Gk,5,2,"div",19),Ie()}if(i&2){let s;be(2),Ae("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),be(2),He(!r._hasOutline()&&!r._control.disabled?4:-1),be(2),He(r._hasOutline()?6:-1),be(),He(r._hasIconPrefix?7:-1),be(),He(r._hasTextPrefix?8:-1),be(2),He(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),be(2),He(r._hasTextSuffix?12:-1),be(),He(r._hasIconSuffix?13:-1),be(),He(r._hasOutline()?-1:14),be(),Ae("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic"),be(),He((s=r._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[IE,CE,My,AE,EE],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Qk.transitionMessages]},changeDetection:0})}return n})(),ha=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Ye,kl,Ye]})}return n})();var eP=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return n})(),PE=Ci({passive:!0}),OE=(()=>{class n{_platform=g(Pe);_ngZone=g(H);_styleLoader=g($t);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return vn;this._styleLoader.load(eP);let i=Pt(e),r=this._monitoredElements.get(i);if(r)return r.subject;let s=new q,o="cdk-text-field-autofilled",c=l=>{l.animationName==="cdk-text-field-autofill-start"&&!i.classList.contains(o)?(i.classList.add(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!0}))):l.animationName==="cdk-text-field-autofill-end"&&i.classList.contains(o)&&(i.classList.remove(o),this._ngZone.run(()=>s.next({target:l.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",c,PE),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",c,PE)}}),s}stopMonitoring(e){let i=Pt(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ME=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({})}return n})();var tP=new V("MAT_INPUT_VALUE_ACCESSOR"),nP=["button","checkbox","file","hidden","image","radio","range","reset","submit"],iP=new V("MAT_INPUT_CONFIG"),Gj=(()=>{class n{_elementRef=g(re);_platform=g(Pe);ngControl=g(cn,{optional:!0,self:!0});_autofillMonitor=g(OE);_ngZone=g(H);_formField=g(da,{optional:!0});_renderer=g(Ut);_uid=g(Xt).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=g(iP,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new q;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=cs(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(ts.required)??!1}set required(e){this._required=cs(e)}_required;get type(){return this._type}set type(e){let i=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&xf().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==i&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=cs(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>xf().has(e));constructor(){let e=g(aa,{optional:!0}),i=g(ss,{optional:!0}),r=g(ql),s=g(tP,{optional:!0,self:!0}),o=this._elementRef.nativeElement,c=o.nodeName.toLowerCase();s?Gi(s.value)?this._signalBasedValueAccessor=s:this._inputValueAccessor=s:this._inputValueAccessor=o,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(o,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new hs(r,this.ngControl,i,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=c==="select",this._isTextarea=c==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=o.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&To(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let i=this._elementRef.nativeElement;i.type==="number"?(i.type="text",i.setSelectionRange(0,0),i.type="number"):i.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){nP.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let i=this._elementRef.nativeElement,r=i.getAttribute("aria-describedby"),s;if(r){let o=this._formFieldDescribedBy||e;s=e.concat(r.split(" ").filter(c=>c&&!o.includes(c)))}else s=e;this._formFieldDescribedBy=e,s.length?i.setAttribute("aria-describedby",s.join(" ")):i.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let i=e.target;!i.value&&i.selectionStart===0&&i.selectionEnd===0&&(i.setSelectionRange(1,1),i.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(i,r){i&1&&it("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),i&2&&(Yi("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Be("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Ae("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",ie]},exportAs:["matInput"],features:[Ne([{provide:ua,useExisting:n}]),Qe,dt]})}return n})(),Kj=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Ye,ha,ha,ME,Ye]})}return n})();var Kl=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new q;constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(this._getConcreteValue(s,i))).forEach(s=>this._unmarkSelected(s));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}else return t}};var rP=20,tm=(()=>{class n{_ngZone=g(H);_platform=g(Pe);_renderer=g(pi).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new q;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=rP){return this._platform.isBrowser?new tt(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(ah(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):B()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){let r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(De(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){let i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_scrollableContainsElement(e,i){let r=Pt(i),s=e.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yz=(()=>{class n{elementRef=g(re);scrollDispatcher=g(tm);ngZone=g(H);dir=g($n,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new q;_renderer=g(Ut);_cleanupScroll;_elementScrolled=new q;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let i=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&as()!=ln.NORMAL?(e.left!=null&&(e.right=i.scrollWidth-i.clientWidth-e.left),as()==ln.INVERTED?e.left=e.right:as()==ln.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let i=this.elementRef.nativeElement;Sl()?i.scrollTo(e):(e.top!=null&&(i.scrollTop=e.top),e.left!=null&&(i.scrollLeft=e.left))}measureScrollOffset(e){let i="left",r="right",s=this.elementRef.nativeElement;if(e=="top")return s.scrollTop;if(e=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let o=this.dir&&this.dir.value=="rtl";return e=="start"?e=o?r:i:e=="end"&&(e=o?i:r),o&&as()==ln.INVERTED?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&as()==ln.NEGATED?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),sP=20,fa=(()=>{class n{_platform=g(Pe);_listeners;_viewportSize;_change=new q;_document=g(oe,{optional:!0});constructor(){let e=g(H),i=g(pi).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=s=>this._change.next(s);this._listeners=[i.listen("window","resize",r),i.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect(),o=-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,c=-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0;return{top:o,left:c}}change(e=sP){return e>0?this._change.pipe(ah(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({})}return n})(),nm=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({imports:[Si,Yl,Si,Yl]})}return n})();var ma=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},im=class extends ma{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=s}},fs=class extends ma{templateRef;viewContainerRef;context;injector;constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},rm=class extends ma{element;constructor(t){super(),this.element=t instanceof re?t.nativeElement:t}},Ql=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof im)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof fs)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof rm)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Xl=class extends Ql{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,i,r,s){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=r,this._document=s}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,r=i.get(mh,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=Fc(t.component,{elementInjector:t.injector||this._defaultInjector||Ee.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);r!==-1&&e.remove(r)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Sz=(()=>{class n extends fs{constructor(){let e=g(vo),i=g(gi);super(e,i)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Ue]})}return n})();var xz=(()=>{class n extends Ql{_moduleRef=g(mh,{optional:!0});_document=g(oe);_viewContainerRef=g(gi);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ue;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let i=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=i.createComponent(e.component,{index:i.length,injector:e.injector||i.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=e=>{let i=e.element;i.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),i.parentNode.insertBefore(r,i),this._getRootNode().appendChild(i),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(i,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ue]})}return n})();var NE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({})}return n})();var FE=Sl(),sm=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ke(-this._previousScrollPosition.left),t.style.top=Ke(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,r=e.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),FE&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FE&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var om=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(De(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Jl=class{enable(){}disable(){}attach(){}};function am(n,t){return t.some(e=>{let i=n.bottom<e.top,r=n.top>e.bottom,s=n.right<e.left,o=n.left>e.right;return i||r||s||o})}function VE(n,t){return t.some(e=>{let i=n.top<e.top,r=n.bottom>e.bottom,s=n.left<e.left,o=n.right>e.right;return i||r||s||o})}var cm=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();am(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},aP=(()=>{class n{_scrollDispatcher=g(tm);_viewportRuler=g(fa);_ngZone=g(H);_document=g(oe);constructor(){}noop=()=>new Jl;close=e=>new om(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new sm(this._viewportRuler,this._document);reposition=e=>new cm(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zl=class{positionStrategy;scrollStrategy=new Jl;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var lm=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var $E=(()=>{class n{_attachedOverlays=[];_document=g(oe);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cP=(()=>{class n extends $E{_ngZone=g(H);_renderer=g(pi).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let r=i.length-1;r>-1;r--)if(i[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lP=(()=>{class n extends $E{_platform=g(Pe);_ngZone=g(H,{optional:!0});_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;add(e){if(super.add(e),!this._isAttached){let i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}_pointerDownListener=e=>{this._pointerDownEventTarget=zt(e)};_clickListener=e=>{let i=zt(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let s=this._attachedOverlays.slice();for(let o=s.length-1;o>-1;o--){let c=s[o];if(c._outsidePointerEvents.observers.length<1||!c.hasAttached())continue;if(LE(c.overlayElement,i)||LE(c.overlayElement,r))break;let l=c._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ct(n)))(r||n)}})();static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LE(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var qE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,r){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return n})(),HE=(()=>{class n{_platform=g(Pe);_containerElement;_document=g(oe);_styleLoader=g($t);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Rf()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}let i=this._document.createElement("div");i.classList.add(e),Rf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(qE)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),um=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropElement=null;_backdropTimeout;_backdropClick=new q;_attachments=new q;_detachments=new q;_positionStrategy;_scrollStrategy;_locationChanges=vt.EMPTY;_cleanupBackdropClick;_cleanupBackdropTransitionEnd;_previousHostParent;_keydownEvents=new q;_outsidePointerEvents=new q;_renders=new q;_afterRenderRef;_afterNextRenderRef;constructor(t,e,i,r,s,o,c,l,d,f=!1,p,y){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=c,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=f,this._injector=p,this._renderer=y,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=Yt(()=>kc(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Ki(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=M(M({},this._config),t),this._updateElementSize()}setDirection(t){this._config=he(M({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Ke(this._config.width),t.height=Ke(this._config.height),t.minWidth=Ke(this._config.minWidth),t.minHeight=Ke(this._config.minHeight),t.maxWidth=Ke(this._config.maxWidth),t.maxHeight=Ke(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._cleanupBackdropClick?.(),this._cleanupBackdropClick=this._renderer.listen(this._backdropElement,"click",e=>this._backdropClick.next(e)),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{this._cleanupBackdropTransitionEnd?.(),this._cleanupBackdropTransitionEnd=this._renderer.listen(t,"transitionend",e=>{this._disposeBackdrop(e.target)})}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){let r=ls(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe($e(ui(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){this._cleanupBackdropClick?.(),this._cleanupBackdropTransitionEnd?.(),t&&(t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},UE="cdk-overlay-connected-position-bounding-box",uP=/([A-Za-z%]+)$/,dm=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new q;_resizeSubscription=vt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(UE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[],o;for(let c of this._preferredPositions){let l=this._getOriginPoint(t,r,c),d=this._getOverlayPoint(l,e,c),f=this._getOverlayFit(d,e,i,c);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(f,d,i)){s.push({position:c,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!o||o.overlayFit.visibleArea<f.visibleArea)&&(o={overlayFit:f,overlayPoint:d,originPoint:l,position:c,overlayRect:e})}if(s.length){let c=null,l=-1;for(let d of s){let f=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);f>l&&(l=f,c=d)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&or(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(UE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r;if(i.originX=="center")r=t.left+t.width/2;else{let o=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r=i.originX=="start"?o:c}e.left<0&&(r-=e.left);let s;return i.originY=="center"?s=t.top+t.height/2:s=i.originY=="top"?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r;i.overlayX=="center"?r=-e.width/2:i.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let s;return i.overlayY=="center"?s=-e.height/2:s=i.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){let s=jE(e),{x:o,y:c}=t,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(o+=l),d&&(c+=d);let f=0-o,p=o+s.width-i.width,y=0-c,A=c+s.height-i.height,D=this._subtractOverflows(s.width,f,p),k=this._subtractOverflows(s.height,y,A),R=D*k;return{visibleArea:R,isCompletelyWithinViewport:s.width*s.height===R,fitsInViewportVertically:k===s.height,fitsInViewportHorizontally:D==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let r=i.bottom-e.y,s=i.right-e.x,o=BE(this._overlayRef.getConfig().minHeight),c=BE(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||o!=null&&o<=r,d=t.fitsInViewportHorizontally||c!=null&&c<=s;return l&&d}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=jE(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),c=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-i.top-t.y,0),d=Math.max(s.left-i.left-t.x,0),f=0,p=0;return r.width<=s.width?f=d||-o:f=t.x<this._viewportMargin?s.left-i.left-t.x:0,r.height<=s.height?p=l||-c:p=t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:f,y:p},{x:t.x+f,y:t.y+p}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!dP(this._lastScrollVisibility,i)){let r=new lm(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,r=this._isRtl(),s,o,c;if(e.overlayY==="top")o=t.y,s=i.height-o+this._viewportMargin;else if(e.overlayY==="bottom")c=i.height-t.y+this._viewportMargin*2,s=i.height-c+this._viewportMargin;else{let A=Math.min(i.bottom-t.y+i.top,t.y),D=this._lastBoundingBoxSize.height;s=A*2,o=t.y-A,s>D&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-D/2)}let l=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,d=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,f,p,y;if(d)y=i.width-t.x+this._viewportMargin*2,f=t.x-this._viewportMargin;else if(l)p=t.x,f=i.right-t.x;else{let A=Math.min(i.right-t.x+i.left,t.x),D=this._lastBoundingBoxSize.width;f=A*2,p=t.x-A,f>D&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-D/2)}return{top:o,left:p,bottom:c,right:y,width:f,height:s}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=Ke(i.height),r.top=Ke(i.top),r.bottom=Ke(i.bottom),r.width=Ke(i.width),r.left=Ke(i.left),r.right=Ke(i.right),e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",s&&(r.maxHeight=Ke(s)),o&&(r.maxWidth=Ke(o))}this._lastBoundingBoxSize=i,or(this._boundingBox.style,r)}_resetBoundingBoxStyles(){or(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){or(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();or(i,this._getExactOverlayY(e,t,f)),or(i,this._getExactOverlayX(e,t,f))}else i.position="static";let c="",l=this._getOffset(e,"x"),d=this._getOffset(e,"y");l&&(c+=`translateX(${l}px) `),d&&(c+=`translateY(${d}px)`),i.transform=c.trim(),o.maxHeight&&(r?i.maxHeight=Ke(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=Ke(o.maxWidth):s&&(i.maxWidth="")),or(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),t.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;r.bottom=`${o-(s.y+this._overlayRect.height)}px`}else r.top=Ke(s.y);return r}_getExactOverlayX(t,e,i){let r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i));let o;if(this._isRtl()?o=t.overlayX==="end"?"left":"right":o=t.overlayX==="end"?"right":"left",o==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(s.x+this._overlayRect.width)}px`}else r.left=Ke(s.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VE(t,i),isOriginOutsideView:am(t,i),isOverlayClipped:VE(e,i),isOverlayOutsideView:am(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ls(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof re)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function or(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function BE(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(uP);return!e||e==="px"?parseFloat(t):null}return n||null}function jE(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function dP(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var zE="cdk-global-overlay-wrapper",hm=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(zE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:c}=i,l=(r==="100%"||r==="100vw")&&(!o||o==="100%"||o==="100vw"),d=(s==="100%"||s==="100vh")&&(!c||c==="100%"||c==="100vh"),f=this._xPosition,p=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",A="",D="",k="";l?k="flex-start":f==="center"?(k="center",y?D=p:A=p):y?f==="left"||f==="end"?(k="flex-end",A=p):(f==="right"||f==="start")&&(k="flex-start",D=p):f==="left"||f==="start"?(k="flex-start",A=p):(f==="right"||f==="end")&&(k="flex-end",D=p),t.position=this._cssPosition,t.marginLeft=l?"0":A,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":D,e.justifyContent=k,e.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(zE),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},hP=(()=>{class n{_viewportRuler=g(fa);_document=g(oe);_platform=g(Pe);_overlayContainer=g(HE);constructor(){}global(){return new hm}flexibleConnectedTo(e){return new dm(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ar=(()=>{class n{scrollStrategies=g(aP);_overlayContainer=g(HE);_positionBuilder=g(hP);_keyboardDispatcher=g(cP);_injector=g(Ee);_ngZone=g(H);_document=g(oe);_directionality=g($n);_location=g(Xi);_outsideClickDispatcher=g(lP);_animationsModuleType=g(yn,{optional:!0});_idGenerator=g(Xt);_renderer=g(pi).createRenderer(null,null);_appRef;_styleLoader=g($t);constructor(){}create(e){this._styleLoader.load(qE);let i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new Zl(e);return o.direction=o.direction||this._directionality.value,new um(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Vt),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(_i)),new Xl(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fP=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],WE=new V("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=g(ar);return()=>n.scrollStrategies.reposition()}}),pa=(()=>{class n{elementRef=g(re);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),fm=(()=>{class n{_overlay=g(ar);_dir=g($n,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=vt.EMPTY;_attachSubscription=vt.EMPTY;_detachSubscription=vt.EMPTY;_positionSubscription=vt.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=g(WE);_disposeOnNavigation=!1;_ngZone=g(H);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new ue;positionChange=new ue;attach=new ue;detach=new ue;overlayKeydown=new ue;overlayOutsideClick=new ue;constructor(){let e=g(vo),i=g(gi);this._templatePortal=new fs(e,i),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=fP);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),i.keyCode===27&&!this.disableClose&&!zn(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{let r=this._getOriginElement(),s=zt(i);(!r||r!==s&&!r.contains(s))&&this.overlayOutsideClick.next(i)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Zl({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(i.width=this.width),(this.height||this.height===0)&&(i.height=this.height),(this.minWidth||this.minWidth===0)&&(i.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){let i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof pa?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof pa?this.origin.elementRef.nativeElement:this.origin instanceof re?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Zv(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=G({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ie],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ie],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ie],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ie],push:[2,"cdkConnectedOverlayPush","push",ie],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ie]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Qe,dt]})}return n})();function mP(n){return()=>n.scrollStrategies.reposition()}var pP={provide:WE,deps:[ar],useFactory:mP},GE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({providers:[ar,pP],imports:[Si,NE,nm,nm]})}return n})();var gP=["trigger"],_P=["panel"],vP=[[["mat-select-trigger"]],"*"],yP=["mat-select-trigger","*"];function bP(n,t){if(n&1&&(pe(0,"span",4),Qi(1),Ie()),n&2){let e=Xe();be(),Eo(e.placeholder)}}function wP(n,t){n&1&&Ce(0)}function EP(n,t){if(n&1&&(pe(0,"span",11),Qi(1),Ie()),n&2){let e=Xe(2);be(),Eo(e.triggerValue)}}function IP(n,t){if(n&1&&(pe(0,"span",5),qe(1,wP,1,0)(2,EP,2,1,"span",11),Ie()),n&2){let e=Xe();be(),He(e.customTrigger?1:2)}}function TP(n,t){if(n&1){let e=bo();pe(0,"div",12,1),it("@transformPanel.done",function(r){Vn(e);let s=Xe();return Ln(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){Vn(e);let s=Xe();return Ln(s._handleKeydown(r))}),Ce(2,1),Ie()}if(n&2){let e=Xe();by("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),St("ngClass",e.panelClass)("@transformPanel","showing"),Be("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var AP={transformPanelWrap:Co("transformPanelWrap",[Br("* => void",Uy("@transformPanel",[Ly()],{optional:!0}))]),transformPanel:Co("transformPanel",[Uc("void",Ji({opacity:0,transform:"scale(1, 0.8)"})),Br("void => showing",So("120ms cubic-bezier(0, 0, 0.2, 1)",Ji({opacity:1,transform:"scale(1, 1)"}))),Br("* => void",So("100ms linear",Ji({opacity:0})))])};var KE=new V("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=g(ar);return()=>n.scrollStrategies.reposition()}});function CP(n){return()=>n.scrollStrategies.reposition()}var SP=new V("MAT_SELECT_CONFIG"),xP={provide:KE,deps:[ar],useFactory:CP},RP=new V("MatSelectTrigger"),mm=class{source;value;constructor(t,e){this.source=t,this.value=e}},E$=(()=>{class n{_viewportRuler=g(fa);_changeDetectorRef=g(Kt);_elementRef=g(re);_dir=g($n,{optional:!0});_idGenerator=g(Xt);_parentFormField=g(da,{optional:!0});ngControl=g(cn,{self:!0,optional:!0});_liveAnnouncer=g(eE);_defaultOptions=g(SP,{optional:!0});_initialized=new q;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let i=this.options.toArray()[e];if(i){let r=this.panel.nativeElement,s=dE(e,this.options,this.optionGroups),o=i._getHostElement();e===0&&s===1?r.scrollTop=0:r.scrollTop=hE(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new mm(this,e)}_scrollStrategyFactory=g(KE);_panelOpen=!1;_compareWith=(e,i)=>e===i;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new q;_errorStateTracker;stateChanges=new q;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_panelDoneAnimatingStream=new q;_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(ts.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=fo(()=>{let e=this.options;return e?e.changes.pipe(nn(e),ut(()=>ui(...e.map(i=>i.onSelectionChange)))):this._initialized.pipe(ut(()=>this.optionSelectionChanges))});openedChange=new ue;_openedStream=this.openedChange.pipe(De(e=>e),z(()=>{}));_closedStream=this.openedChange.pipe(De(e=>!e),z(()=>{}));selectionChange=new ue;valueChange=new ue;constructor(){let e=g(ql),i=g(aa,{optional:!0}),r=g(ss,{optional:!0}),s=g(new Nr("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new hs(e,this.ngControl,r,i,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=s==null?0:parseInt(s)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Kl(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Mr(),$e(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe($e(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe($e(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(nn(null),$e(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(this._previousControl!==void 0&&i.disabled!==null&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let i=`${this.id}-panel`;this._trackedModal&&Vf(this._trackedModal,"aria-owns",i),Qw(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Vf(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let i=e.keyCode,r=i===40||i===38||i===37||i===39,s=i===13||i===32,o=this._keyManager;if(!o.isTyping()&&s&&!zn(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let c=this.selected;o.onKeydown(e);let l=this.selected;l&&c!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){let i=this._keyManager,r=e.keyCode,s=r===40||r===38,o=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(!o&&(r===13||r===32)&&i.activeItem&&!zn(e))e.preventDefault(),i.activeItem._selectViaInteraction();else if(!o&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let c=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(c?l.select():l.deselect())})}else{let c=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==c&&i.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ft(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{let i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof pa?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Nl(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=ui(this.options.changes,this._destroy);this.optionSelectionChanges.pipe($e(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),ui(...this.options.map(i=>i._stateChanges)).pipe($e(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;this.multiple?i=this.selected.map(r=>r.value):i=this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,i=e?e+" ":"";return this.ariaLabelledby?i+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=ke({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(i&1&&(on(s,RP,5),on(s,uE,5),on(s,Jf,5)),i&2){let o;Se(o=xe())&&(r.customTrigger=o.first),Se(o=xe())&&(r.options=o),Se(o=xe())&&(r.optionGroups=o)}},viewQuery:function(i,r){if(i&1&&(ht(gP,5),ht(_P,5),ht(fm,5)),i&2){let s;Se(s=xe())&&(r.trigger=s.first),Se(s=xe())&&(r.panel=s.first),Se(s=xe())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){i&1&&it("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),i&2&&(Be("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),Ae("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",ie],disableRipple:[2,"disableRipple","disableRipple",ie],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Nc(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ie],placeholder:"placeholder",required:[2,"required","required",ie],multiple:[2,"multiple","multiple",ie],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",ie],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Nc],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",ie]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Ne([{provide:ua,useExisting:n},{provide:Xf,useExisting:n}]),Qe,dt],ngContentSelectors:yP,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(i&1){let s=bo();kt(vP),pe(0,"div",2,0),it("click",function(){return Vn(s),Ln(r.open())}),pe(3,"div",3),qe(4,bP,2,1,"span",4)(5,IP,3,1,"span",5),Ie(),pe(6,"div",6)(7,"div",7),iy(),pe(8,"svg",8),We(9,"path",9),Ie()()()(),qe(10,TP,3,9,"ng-template",10),it("backdropClick",function(){return Vn(s),Ln(r.close())})("attach",function(){return Vn(s),Ln(r._onAttached())})("detach",function(){return Vn(s),Ln(r.close())})}if(i&2){let s=wo(1);be(3),Be("id",r._valueId),be(),He(r.empty?4:5),be(6),St("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[pa,fm,Oy],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-form-field-no-animations .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,data:{animation:[AP.transformPanel]},changeDetection:0})}return n})();var I$=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=te({type:n});static \u0275inj=Z({providers:[xP],imports:[GE,Zf,Ye,Yl,ha,Zf,Ye]})}return n})();var QE=function(n){let t=[],e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},DP=function(n){let t=[],e=0,i=0;for(;e<n.length;){let r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[e++],o=n[e++],c=n[e++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},eu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,c=o?n[r+1]:0,l=r+2<n.length,d=l?n[r+2]:0,f=s>>2,p=(s&3)<<4|c>>4,y=(c&15)<<2|d>>6,A=d&63;l||(A=64,o||(y=64)),i.push(e[f],e[p],e[y],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(QE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):DP(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=e[n.charAt(r++)],c=r<n.length?e[n.charAt(r)]:0;++r;let d=r<n.length?e[n.charAt(r)]:64;++r;let p=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||c==null||d==null||p==null)throw new gm;let y=s<<2|c>>4;if(i.push(y),d!==64){let A=c<<4&240|d>>2;if(i.push(A),p!==64){let D=d<<6&192|p;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},gm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},kP=function(n){let t=QE(n);return eu.encodeByteArray(t,!0)},ga=function(n){return kP(n).replace(/\./g,"")},vm=function(n){try{return eu.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var PP=()=>XE().__FIREBASE_DEFAULTS__,OP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},MP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&vm(n[1]);return t&&JSON.parse(t)},tu=()=>{try{return PP()||OP()||MP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ym=n=>{var t,e;return(e=(t=tu())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},JE=n=>{let t=ym(n);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},bm=()=>{var n;return(n=tu())===null||n===void 0?void 0:n.config},wm=n=>{var t;return(t=tu())===null||t===void 0?void 0:t[`_${n}`]};var cr=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}};function ZE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ga(JSON.stringify(e)),ga(JSON.stringify(o)),""].join(".")}function st(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function NP(){var n;let t=(n=tu())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nI(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rI(){let n=st();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function sI(){return!NP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _a(){try{return typeof indexedDB=="object"}catch{return!1}}function oI(){return new Promise((n,t)=>{try{let e=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}var FP="FirebaseError",qt=class n extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=FP,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}},un=class{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){let i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?VP(s,i):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new qt(r,c,i)}};function VP(n,t){return n.replace(LP,(e,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var LP=/\{\$([^}]+)}/g;function aI(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function lr(n,t){if(n===t)return!0;let e=Object.keys(n),i=Object.keys(t);for(let r of e){if(!i.includes(r))return!1;let s=n[r],o=t[r];if(YE(s)&&YE(o)){if(!lr(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!e.includes(r))return!1;return!0}function YE(n){return n!==null&&typeof n=="object"}function va(n){let t=[];for(let[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ms(n){let t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function ps(n){let t=n.indexOf("?");if(!t)return"";let e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function cI(n,t){let e=new _m(n,t);return e.subscribe.bind(e)}var _m=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");UP(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=pm),r.error===void 0&&(r.error=pm),r.complete===void 0&&(r.complete=pm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function UP(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function pm(){}var A$=4*60*60*1e3;function Fe(n){return n&&n._delegate?n._delegate:n}var Rt=class{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var ur="[DEFAULT]";var Em=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let i=new cr;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jP(t))try{this.getOrInitializeService({instanceIdentifier:ur})}catch{}for(let[e,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return v(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=ur){return this.instances.has(t)}getOptions(t=ur){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);i===c&&o.resolve(r)}return r}onInit(t,e){var i;let r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){let i=this.onInitCallbacks.get(e);if(i)for(let r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BP(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ur){return this.component?this.component.multipleInstances?t:ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BP(n){return n===ur?void 0:n}function jP(n){return n.instantiationMode==="EAGER"}var nu=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new Em(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var zP=[],ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ae||{}),$P={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},qP=ae.INFO,HP={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},WP=(n,t,...e)=>{if(t<n.logLevel)return;let i=new Date().toISOString(),r=HP[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},In=class{constructor(t){this.name=t,this._logLevel=qP,this._logHandler=WP,this._userLogHandler=null,zP.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$P[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...t),this._logHandler(this,ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...t),this._logHandler(this,ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...t),this._logHandler(this,ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...t),this._logHandler(this,ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...t),this._logHandler(this,ae.ERROR,...t)}};var GP=(n,t)=>t.some(e=>n instanceof e),lI,uI;function KP(){return lI||(lI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YP(){return uI||(uI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var dI=new WeakMap,Tm=new WeakMap,hI=new WeakMap,Im=new WeakMap,Cm=new WeakMap;function QP(n){let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(Tn(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&dI.set(e,n)}).catch(()=>{}),Cm.set(t,n),t}function XP(n){if(Tm.has(n))return;let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Tm.set(n,t)}var Am={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Tm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||hI.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Tn(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function fI(n){Am=n(Am)}function JP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let i=n.call(iu(this),t,...e);return hI.set(i,t.sort?t.sort():[t]),Tn(i)}:YP().includes(n)?function(...t){return n.apply(iu(this),t),Tn(dI.get(this))}:function(...t){return Tn(n.apply(iu(this),t))}}function ZP(n){return typeof n=="function"?JP(n):(n instanceof IDBTransaction&&XP(n),GP(n,KP())?new Proxy(n,Am):n)}function Tn(n){if(n instanceof IDBRequest)return QP(n);if(Im.has(n))return Im.get(n);let t=ZP(n);return t!==n&&(Im.set(n,t),Cm.set(t,n)),t}var iu=n=>Cm.get(n);function pI(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,t),c=Tn(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Tn(o.result),l.oldVersion,l.newVersion,Tn(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var eO=["get","getKey","getAll","getAllKeys","count"],tO=["put","add","delete","clear"],Sm=new Map;function mI(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Sm.get(t))return Sm.get(t);let e=t.replace(/FromIndex$/,""),i=t!==e,r=tO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||eO.includes(e)))return;let s=function(o,...c){return v(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[e](...c),r&&l.done]))[0]})};return Sm.set(t,s),s}fI(n=>he(M({},n),{get:(t,e,i)=>mI(t,e)||n.get(t,e,i),has:(t,e)=>!!mI(t,e)||n.has(t,e)}));var Rm=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(nO(e)){let i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}};function nO(n){let t=n.getComponent();return t?.type==="VERSION"}var Dm="@firebase/app",gI="0.10.18";var Hn=new In("@firebase/app"),iO="@firebase/app-compat",rO="@firebase/analytics-compat",sO="@firebase/analytics",oO="@firebase/app-check-compat",aO="@firebase/app-check",cO="@firebase/auth",lO="@firebase/auth-compat",uO="@firebase/database",dO="@firebase/data-connect",hO="@firebase/database-compat",fO="@firebase/functions",mO="@firebase/functions-compat",pO="@firebase/installations",gO="@firebase/installations-compat",_O="@firebase/messaging",vO="@firebase/messaging-compat",yO="@firebase/performance",bO="@firebase/performance-compat",wO="@firebase/remote-config",EO="@firebase/remote-config-compat",IO="@firebase/storage",TO="@firebase/storage-compat",AO="@firebase/firestore",CO="@firebase/vertexai",SO="@firebase/firestore-compat",xO="firebase",RO="11.2.0";var km="[DEFAULT]",DO={[Dm]:"fire-core",[iO]:"fire-core-compat",[sO]:"fire-analytics",[rO]:"fire-analytics-compat",[aO]:"fire-app-check",[oO]:"fire-app-check-compat",[cO]:"fire-auth",[lO]:"fire-auth-compat",[uO]:"fire-rtdb",[dO]:"fire-data-connect",[hO]:"fire-rtdb-compat",[fO]:"fire-fn",[mO]:"fire-fn-compat",[pO]:"fire-iid",[gO]:"fire-iid-compat",[_O]:"fire-fcm",[vO]:"fire-fcm-compat",[yO]:"fire-perf",[bO]:"fire-perf-compat",[wO]:"fire-rc",[EO]:"fire-rc-compat",[IO]:"fire-gcs",[TO]:"fire-gcs-compat",[AO]:"fire-fst",[SO]:"fire-fst-compat",[CO]:"fire-vertex","fire-js":"fire-js",[xO]:"fire-js-all"};var ya=new Map,kO=new Map,Pm=new Map;function _I(n,t){try{n.container.addComponent(t)}catch(e){Hn.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function dn(n){let t=n.name;if(Pm.has(t))return Hn.debug(`There were multiple attempts to register component ${t}.`),!1;Pm.set(t,n);for(let e of ya.values())_I(e,n);for(let e of kO.values())_I(e,n);return!0}function gs(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function hn(n){return n.settings!==void 0}var PO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xi=new un("app","Firebase",PO);var Om=class{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Rt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xi.create("app-deleted",{appName:this._name})}};var Ri=RO;function Fm(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let i=Object.assign({name:km,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw xi.create("bad-app-name",{appName:String(r)});if(e||(e=bm()),!e)throw xi.create("no-options");let s=ya.get(r);if(s){if(lr(e,s.options)&&lr(i,s.config))return s;throw xi.create("duplicate-app",{appName:r})}let o=new nu(r);for(let l of Pm.values())o.addComponent(l);let c=new Om(e,i,o);return ya.set(r,c),c}function dr(n=km){let t=ya.get(n);if(!t&&n===km&&bm())return Fm();if(!t)throw xi.create("no-app",{appName:n});return t}function ru(){return Array.from(ya.values())}function je(n,t,e){var i;let r=(i=DO[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);let s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hn.warn(c.join(" "));return}dn(new Rt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var OO="firebase-heartbeat-database",MO=1,ba="firebase-heartbeat-store",xm=null;function wI(){return xm||(xm=pI(OO,MO,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(ba)}catch(e){console.warn(e)}}}}).catch(n=>{throw xi.create("idb-open",{originalErrorMessage:n.message})})),xm}function NO(n){return v(this,null,function*(){try{let e=(yield wI()).transaction(ba),i=yield e.objectStore(ba).get(EI(n));return yield e.done,i}catch(t){if(t instanceof qt)Hn.warn(t.message);else{let e=xi.create("idb-get",{originalErrorMessage:t?.message});Hn.warn(e.message)}}})}function vI(n,t){return v(this,null,function*(){try{let i=(yield wI()).transaction(ba,"readwrite");yield i.objectStore(ba).put(t,EI(n)),yield i.done}catch(e){if(e instanceof qt)Hn.warn(e.message);else{let i=xi.create("idb-set",{originalErrorMessage:e?.message});Hn.warn(i.message)}}})}function EI(n){return`${n.name}!${n.options.appId}`}var FO=1024,VO=30*24*60*60*1e3,Mm=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new Nm(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return v(this,null,function*(){var t,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yI();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=VO}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Hn.warn(i)}})}getHeartbeatsHeader(){return v(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=yI(),{heartbeatsToSend:i,unsentEntries:r}=LO(this._heartbeatsCache.heartbeats),s=ga(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Hn.warn(e),""}})}};function yI(){return new Date().toISOString().substring(0,10)}function LO(n,t=FO){let e=[],i=n.slice();for(let r of n){let s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),bI(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),bI(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}var Nm=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return _a()?oI().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield NO(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return v(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return vI(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return v(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return vI(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function bI(n){return ga(JSON.stringify({version:2,heartbeats:n})).length}function UO(n){dn(new Rt("platform-logger",t=>new Rm(t),"PRIVATE")),dn(new Rt("heartbeat",t=>new Mm(t),"PRIVATE")),je(Dm,gI,n),je(Dm,gI,"esm2017"),je("fire-js","")}UO("");var BO="firebase",jO="11.2.0";je(BO,jO,"app");function Vm(n){n===void 0&&(ny(Vm),n=g(Ee));let t=n.get(Dc);return e=>new tt(i=>{let r=t.add(),s=!1;function o(){s||(r(),s=!0)}let c=e.subscribe({next:l=>{i.next(l),o()},complete:()=>{i.complete(),o()},error:l=>{i.error(l),o()}});return c.add(()=>{i.unsubscribe(),o()}),c})}var Di=new Lr("ANGULARFIRE2_VERSION");function wa(n,t,e){if(t){if(t.length===1)return t[0];let s=t.filter(o=>o.app===e);if(s.length===1)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}var vs=(n,t)=>{let e=t?[t]:ru(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},_s=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(_s||{}),II=vh()&&typeof Zone<"u"?_s.WARN:_s.SILENT;var su=class{zone;delegate;constructor(t,e=Yv){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){let r=this.zone,s=function(o){r?r.runGuarded(()=>{t.apply(this,[o])}):t.apply(this,[o])};return this.delegate.schedule(s,e,i)}},ki=(()=>{class n{outsideAngular;insideAngular;constructor(){let e=g(H);this.outsideAngular=e.runOutsideAngular(()=>new su(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new su(typeof Zone>"u"?void 0:Zone.current,Kv))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=F({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TI=!1;function zO(n,t){!TI&&(II>_s.SILENT||vh())&&(TI=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),II>=t&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function $O(n){let t=g(H,{optional:!0});return t?t.runOutsideAngular(()=>n()):n()}function hr(n){let t=g(H,{optional:!0});return t?t.run(()=>n()):n()}var qO=(n,t,e)=>(...i)=>(t&&setTimeout(t,0),yt(e,()=>hr(()=>n.apply(void 0,i)))),we=(n,t,e)=>(e||=t?_s.WARN:_s.VERBOSE,function(){let i,r=arguments,s,o,c;try{s=g(ki),o=g(Dc),c=g(Vt)}catch{return zO(n,e),n.apply(this,r)}for(let d=0;d<arguments.length;d++)typeof r[d]=="function"&&(t&&(i||=hr(()=>o.add())),r[d]=qO(r[d],i,c));let l=$O(()=>n.apply(this,r));return t?l instanceof tt?l.pipe(sh(s.outsideAngular),rh(s.insideAngular),Vm(c)):l instanceof Promise?hr(()=>new Promise((d,f)=>{o.run(()=>l).then(p=>yt(c,()=>hr(()=>d(p))),p=>yt(c,()=>hr(()=>f(p))))})):typeof l=="function"&&i?function(){return setTimeout(i,0),l.apply(this,arguments)}:hr(()=>l):l instanceof tt?l.pipe(sh(s.outsideAngular),rh(s.insideAngular)):hr(()=>l)});var Wn=class{constructor(t){return t}},fr=class{constructor(){return ru()}};function HO(n){return n&&n.length===1?n[0]:new Wn(dr())}var Lm=new V("angularfire2._apps"),WO={provide:Wn,useFactory:HO,deps:[[new At,Lm]]},GO={provide:fr,deps:[[new At,Lm]]};function KO(n){return(t,e)=>{let i=e.get(sn);je("angularfire",Di.full,"core"),je("angularfire",Di.full,"app"),je("angular",Io.full,i.toString());let r=t.runOutsideAngular(()=>n(e));return new Wn(r)}}function Eq(n,...t){return rn([WO,GO,{provide:Lm,useFactory:KO(n),multi:!0,deps:[H,Ee,ki,...t]}])}var Iq=we(Fm,!0);var YO=new Map,QO={activated:!1,tokenObservers:[]},XO={initialized:!1,enabled:!1};function fn(n){return YO.get(n)||Object.assign({},QO)}function RI(){return XO}var JO="https://content-firebaseappcheck.googleapis.com/v1";var ZO="exchangeDebugToken",AI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Pq=24*60*60*1e3;var Bm=class{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return v(this,null,function*(){this.stop();try{this.pending=new cr,this.pending.promise.catch(e=>{}),yield eM(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new cr,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function eM(n){return new Promise(t=>{setTimeout(t,n)})}var tM={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Pi=new un("appCheck","AppCheck",tM);function DI(n){if(!fn(n).activated)throw Pi.create("use-before-activation",{appName:n.name})}function kI(i,r){return v(this,arguments,function*({url:n,body:t},e){let s={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){let A=yield o.getHeartbeatsHeader();A&&(s["X-Firebase-Client"]=A)}let c={method:"POST",body:JSON.stringify(t),headers:s},l;try{l=yield fetch(n,c)}catch(A){throw Pi.create("fetch-network-error",{originalErrorMessage:A?.message})}if(l.status!==200)throw Pi.create("fetch-status-error",{httpStatus:l.status});let d;try{d=yield l.json()}catch(A){throw Pi.create("fetch-parse-error",{originalErrorMessage:A?.message})}let f=d.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw Pi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let p=Number(f[1])*1e3,y=Date.now();return{token:d.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function PI(n,t){let{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${JO}/projects/${e}/apps/${i}:${ZO}?key=${r}`,body:{debug_token:t}}}var nM="firebase-app-check-database",iM=1,jm="firebase-app-check-store";var ou=null;function rM(){return ou||(ou=new Promise((n,t)=>{try{let e=indexedDB.open(nM,iM);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Pi.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(jm,{keyPath:"compositeKey"})}}}catch(e){t(Pi.create("storage-open",{originalErrorMessage:e?.message}))}}),ou)}function sM(n,t){return oM(aM(n),t)}function oM(n,t){return v(this,null,function*(){let i=(yield rM()).transaction(jm,"readwrite"),s=i.objectStore(jm).put({compositeKey:n,value:t});return new Promise((o,c)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var d;c(Pi.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})})}function aM(n){return`${n.options.appId}-${n.name}`}var zm=new In("@firebase/app-check");function Um(n,t){return _a()?sM(n,t).catch(e=>{zm.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function OI(){return RI().enabled}function MI(){return v(this,null,function*(){let n=RI();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var cM={error:"UNKNOWN_ERROR"};function lM(n){return eu.encodeString(JSON.stringify(n),!1)}function $m(n,t=!1){return v(this,null,function*(){let e=n.app;DI(e);let i=fn(e),r=i.token,s;if(r&&!Ea(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Ea(l)?r=l:yield Um(e,void 0))}if(!t&&r&&Ea(r))return{token:r.token};let o=!1;if(OI()){i.exchangeTokenPromise||(i.exchangeTokenPromise=kI(PI(e,yield MI()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield Um(e,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield fn(e).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?zm.warn(l.message):zm.error(l),s=l}let c;return r?s?Ea(r)?c={token:r.token,internalError:s}:c=SI(s):(c={token:r.token},i.token=r,yield Um(e,r)):c=SI(s),o&&fM(e,c),c})}function uM(n){return v(this,null,function*(){let t=n.app;DI(t);let{provider:e}=fn(t);if(OI()){let i=yield MI(),{token:r}=yield kI(PI(t,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield e.getToken();return{token:i}}})}function dM(n,t,e,i){let{app:r}=n,s=fn(r),o={next:e,error:i,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Ea(s.token)){let c=s.token;Promise.resolve().then(()=>{e({token:c.token}),CI(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>CI(n))}function NI(n,t){let e=fn(n),i=e.tokenObservers.filter(r=>r.next!==t);i.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function CI(n){let{app:t}=n,e=fn(t),i=e.tokenRefresher;i||(i=hM(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function hM(n){let{app:t}=n;return new Bm(()=>v(this,null,function*(){let e=fn(t),i;if(e.token?i=yield $m(n,!0):i=yield $m(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let e=fn(t);if(e.token){let i=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},AI.RETRIAL_MIN_WAIT,AI.RETRIAL_MAX_WAIT)}function fM(n,t){let e=fn(n).tokenObservers;for(let i of e)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function Ea(n){return n.expireTimeMillis-Date.now()>0}function SI(n){return{token:lM(cM),error:n}}var qm=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=fn(this.app);for(let e of t)NI(this.app,e.next);return Promise.resolve()}};function mM(n,t){return new qm(n,t)}function pM(n){return{getToken:t=>$m(n,t),getLimitedUseToken:()=>uM(n),addTokenListener:t=>dM(n,"INTERNAL",t),removeTokenListener:t=>NI(n.app,t)}}var gM="@firebase/app-check",_M="0.8.11";var vM="app-check",xI="app-check-internal";function yM(){dn(new Rt(vM,n=>{let t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return mM(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(xI).initialize()})),dn(new Rt(xI,n=>{let t=n.getProvider("app-check").getImmediate();return pM(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),je(gM,_M)}yM();var bM="app-check";var ys=class{constructor(){return vs(bM)}};var wM=["localhost","0.0.0.0","127.0.0.1"],Hq=typeof window<"u"&&wM.includes(window.location.hostname);function XI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var JI=XI,ZI=new un("auth","Firebase",XI());var hu=new In("@firebase/auth");function EM(n,...t){hu.logLevel<=ae.WARN&&hu.warn(`Auth (${Ri}): ${n}`,...t)}function cu(n,...t){hu.logLevel<=ae.ERROR&&hu.error(`Auth (${Ri}): ${n}`,...t)}function Cn(n,...t){throw mp(n,...t)}function mr(n,...t){return mp(n,...t)}function e0(n,t,e){let i=Object.assign(Object.assign({},JI()),{[t]:e});return new un("auth","Firebase",i).create(t,{appName:n.name})}function Yn(n){return e0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mp(n,...t){if(typeof n!="string"){let e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return ZI.create(n,...t)}function K(n,t,...e){if(!n)throw mp(t,...e)}function Gn(n){let t="INTERNAL ASSERTION FAILED: "+n;throw cu(t),new Error(t)}function Mi(n,t){n||Gn(t)}function Km(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function IM(){return FI()==="http:"||FI()==="https:"}function FI(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function TM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IM()||nI()||"connection"in navigator)?navigator.onLine:!0}function AM(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var pr=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Mi(e>t,"Short delay should be less than long delay!"),this.isMobile=eI()||iI()}get(){return TM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pp(n,t){Mi(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var fu=class{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var CM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var SM=new pr(3e4,6e4);function Qn(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Sn(s,o,c,l){return v(this,arguments,function*(n,t,e,i,r={}){return t0(n,r,()=>v(this,null,function*(){let d={},f={};i&&(t==="GET"?f=i:d={body:JSON.stringify(i)});let p=va(Object.assign({key:n.config.apiKey},f)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let A=Object.assign({method:t,headers:y},d);return tI()||(A.referrerPolicy="no-referrer"),fu.fetch()(n0(n,n.config.apiHost,e,p),A)}))})}function t0(n,t,e){return v(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},CM),t);try{let r=new Ym(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw au(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw au(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw au(n,"user-disabled",o);let f=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw e0(n,f,d);Cn(n,f)}}catch(r){if(r instanceof qt)throw r;Cn(n,"network-request-failed",{message:String(r)})}})}function Da(s,o,c,l){return v(this,arguments,function*(n,t,e,i,r={}){let d=yield Sn(n,t,e,i,r);return"mfaPendingCredential"in d&&Cn(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function n0(n,t,e,i){let r=`${t}${e}?${i}`;return n.config.emulator?pp(n.config,r):`${n.config.apiScheme}://${r}`}function xM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ym=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(mr(this.auth,"network-request-failed")),SM.get())})}};function au(n,t,e){let i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);let r=mr(n,t,i);return r.customData._tokenResponse=e,r}function VI(n){return n!==void 0&&n.enterprise!==void 0}var Qm=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return xM(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function RM(n,t){return v(this,null,function*(){return Sn(n,"GET","/v2/recaptchaConfig",Qn(n,t))})}function DM(n,t){return v(this,null,function*(){return Sn(n,"POST","/v1/accounts:delete",t)})}function i0(n,t){return v(this,null,function*(){return Sn(n,"POST","/v1/accounts:lookup",t)})}function Ta(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function gp(n,t=!1){return v(this,null,function*(){let e=Fe(n),i=yield e.getIdToken(t),r=_p(i);K(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Ta(Hm(r.auth_time)),issuedAtTime:Ta(Hm(r.iat)),expirationTime:Ta(Hm(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Hm(n){return Number(n)*1e3}function _p(n){let[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return cu("JWT malformed, contained fewer than 3 sections"),null;try{let r=vm(e);return r?JSON.parse(r):(cu("Failed to decode base64 JWT payload"),null)}catch(r){return cu("Caught error parsing JWT payload as JSON",r?.toString()),null}}function LI(n){let t=_p(n);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function bs(n,t,e=!1){return v(this,null,function*(){if(e)return t;try{return yield t}catch(i){throw i instanceof qt&&kM(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function kM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Xm=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),e)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ca=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ta(this.lastLoginAt),this.creationTime=Ta(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function mu(n){return v(this,null,function*(){var t;let e=n.auth,i=yield n.getIdToken(),r=yield bs(n,i0(e,{idToken:i}));K(r?.users.length,e,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?r0(s.providerUserInfo):[],c=PM(n.providerData,o),l=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!c?.length,f=l?d:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new Ca(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function vp(n){return v(this,null,function*(){let t=Fe(n);yield mu(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function PM(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function r0(n){return n.map(t=>{var{providerId:e}=t,i=ih(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function OM(n,t){return v(this,null,function*(){let e=yield t0(n,{},()=>v(this,null,function*(){let i=va({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=n0(n,r,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",fu.fetch()(o,{method:"POST",headers:c,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function MM(n,t){return v(this,null,function*(){return Sn(n,"POST","/v2/accounts:revokeToken",Qn(n,t))})}var Aa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):LI(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){K(t.length!==0,"internal-error");let e=LI(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return v(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return v(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield OM(t,e);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){let{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new n;return i&&(K(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Gn("not implemented")}};function Oi(n,t){K(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var ws=class n{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=ih(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ca(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){return v(this,null,function*(){let e=yield bs(this,this.stsTokenManager.getToken(this.auth,t));return K(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return gp(this,t)}reload(){return vp(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return v(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield mu(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(hn(this.auth.app))return Promise.reject(Yn(this.auth));let t=yield this.getIdToken();return yield bs(this,DM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,c,l,d,f;let p=(i=e.displayName)!==null&&i!==void 0?i:void 0,y=(r=e.email)!==null&&r!==void 0?r:void 0,A=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=e.photoURL)!==null&&o!==void 0?o:void 0,k=(c=e.tenantId)!==null&&c!==void 0?c:void 0,R=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,$=(d=e.createdAt)!==null&&d!==void 0?d:void 0,Q=(f=e.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:j,emailVerified:ve,isAnonymous:ct,providerData:me,stsTokenManager:I}=e;K(j&&I,t,"internal-error");let _=Aa.fromJSON(this.name,I);K(typeof j=="string",t,"internal-error"),Oi(p,t.name),Oi(y,t.name),K(typeof ve=="boolean",t,"internal-error"),K(typeof ct=="boolean",t,"internal-error"),Oi(A,t.name),Oi(D,t.name),Oi(k,t.name),Oi(R,t.name),Oi($,t.name),Oi(Q,t.name);let w=new n({uid:j,auth:t,email:y,emailVerified:ve,displayName:p,isAnonymous:ct,photoURL:D,phoneNumber:A,tenantId:k,stsTokenManager:_,createdAt:$,lastLoginAt:Q});return me&&Array.isArray(me)&&(w.providerData=me.map(E=>Object.assign({},E))),R&&(w._redirectEventId=R),w}static _fromIdTokenResponse(t,e,i=!1){return v(this,null,function*(){let r=new Aa;r.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield mu(s),s})}static _fromGetAccountInfoResponse(t,e,i){return v(this,null,function*(){let r=e.users[0];K(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?r0(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new Aa;c.updateFromIdToken(i);let l=new n({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:o}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ca(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,d),l})}};var UI=new Map;function Kn(n){Mi(n instanceof Function,"Expected a class definition");let t=UI.get(n);return t?(Mi(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,UI.set(n,t),t)}var NM=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(e,i){return v(this,null,function*(){this.storage[e]=i})}_get(e){return v(this,null,function*(){let i=this.storage[e];return i===void 0?null:i})}_remove(e){return v(this,null,function*(){delete this.storage[e]})}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})(),Jm=NM;function lu(n,t,e){return`firebase:${n}:${t}:${e}`}var pu=class n{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=lu(this.userKey,r.apiKey,s),this.fullPersistenceKey=lu("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return v(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?ws._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return v(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return v(this,null,function*(){if(!e.length)return new n(Kn(Jm),t,i);let r=(yield Promise.all(e.map(d=>v(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=r[0]||Kn(Jm),o=lu(i,t.config.apiKey,t.name),c=null;for(let d of e)try{let f=yield d._get(o);if(f){let p=ws._fromJSON(t,f);d!==s&&(c=p),s=d;break}}catch{}let l=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,t,i):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(e.map(d=>v(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new n(s,t,i))})}};function BI(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(c0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(s0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(u0(t))return"Blackberry";if(d0(t))return"Webos";if(o0(t))return"Safari";if((t.includes("chrome/")||a0(t))&&!t.includes("edge/"))return"Chrome";if(l0(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function s0(n=st()){return/firefox\//i.test(n)}function o0(n=st()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function a0(n=st()){return/crios\//i.test(n)}function c0(n=st()){return/iemobile/i.test(n)}function l0(n=st()){return/android/i.test(n)}function u0(n=st()){return/blackberry/i.test(n)}function d0(n=st()){return/webos/i.test(n)}function yp(n=st()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function FM(n=st()){var t;return yp(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function VM(){return rI()&&document.documentMode===10}function h0(n=st()){return yp(n)||l0(n)||d0(n)||u0(n)||/windows phone/i.test(n)||c0(n)}function f0(n,t=[]){let e;switch(n){case"Browser":e=BI(st());break;case"Worker":e=`${BI(st())}-${n}`;break;default:e=n}let i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ri}/${i}`}var Zm=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let i=s=>new Promise((o,c)=>{try{let l=t(s);o(l)}catch(l){c(l)}});i.onAbort=e,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return v(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let i of this.queue)yield i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function LM(e){return v(this,arguments,function*(n,t={}){return Sn(n,"GET","/v2/passwordPolicy",Qn(n,t))})}var UM=6,ep=class{constructor(t){var e,i,r,s;let o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:UM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,e){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var tp=class{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gu(this),this.idTokenSubscription=new gu(this),this.beforeStateQueue=new Zm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Kn(e)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield pu.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return v(this,null,function*(){try{let e=yield i0(this,{idToken:t}),i=yield ws._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return v(this,null,function*(){var e;if(hn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!o||o===c)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return v(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return v(this,null,function*(){try{yield mu(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=AM()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return v(this,null,function*(){if(hn(this.app))return Promise.reject(Yn(this));let e=t?Fe(t):null;return e&&K(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return v(this,null,function*(){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return hn(this.app)?Promise.reject(Yn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return hn(this.app)?Promise.reject(Yn(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Kn(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let t=yield LM(this),e=new ep(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new un("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){return v(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),yield MM(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return v(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return v(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&Kn(t)||this._popupRedirectResolver;K(e,this,"argument-error"),this.redirectPersistenceManager=yield pu.create(this,[Kn(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return v(this,null,function*(){var e,i;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return v(this,null,function*(){if(t===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let l=t.addObserver(e,i,r);return()=>{o=!0,l()}}else{let l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){return v(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=f0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return v(this,null,function*(){var t;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&EM(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Ni(n){return Fe(n)}var gu=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=cI(e=>this.observer=e)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Tu={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BM(n){Tu=n}function m0(n){return Tu.loadJS(n)}function jM(){return Tu.recaptchaEnterpriseScript}function zM(){return Tu.gapiScript}function p0(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var np=class{constructor(){this.enterprise=new ip}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},ip=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}};var $M="recaptcha-enterprise",g0="NO_RECAPTCHA",rp=class{constructor(t){this.type=$M,this.auth=Ni(t)}verify(t="verify",e=!1){return v(this,null,function*(){function i(s){return v(this,null,function*(){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>v(this,null,function*(){RM(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let d=new Qm(l);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(l=>{c(l)})}))})}function r(s,o,c){let l=window.grecaptcha;VI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(d=>{o(d)}).catch(()=>{o(g0)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new np().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(c=>{if(!e&&VI(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jM();l.length!==0&&(l+=c),m0(l).then(()=>{r(c,s,o)}).catch(d=>{o(d)})}}).catch(c=>{o(c)})})})}};function Ia(n,t,e,i=!1,r=!1){return v(this,null,function*(){let s=new rp(n),o;if(r)o=g0;else try{o=yield s.verify(e)}catch{o=yield s.verify(e,!0)}let c=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){let l=c.phoneEnrollmentInfo.phoneNumber,d=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){let l=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c})}function _u(n,t,e,i,r){return v(this,null,function*(){var s,o;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let c=yield Ia(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(c=>v(this,null,function*(){if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Ia(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(c)}));else if(r==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let c=yield Ia(n,t,e);return i(n,c).catch(l=>v(this,null,function*(){var d;if(((d=n._getRecaptchaConfig())===null||d===void 0?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let f=yield Ia(n,t,e,!1,!0);return i(n,f)}return Promise.reject(l)}))}else{let c=yield Ia(n,t,e,!1,!0);return i(n,c)}else return Promise.reject(r+" provider is not supported.")})}function bp(n,t){let e=gs(n,"auth");if(e.isInitialized()){let r=e.getImmediate(),s=e.getOptions();if(lr(s,t??{}))return r;Cn(r,"already-initialized")}return e.initialize({options:t})}function qM(n,t){let e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Kn);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function wp(n,t,e){let i=Ni(n);K(i._canInitEmulator,i,"emulator-config-failed"),K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let r=!!e?.disableWarnings,s=_0(t),{host:o,port:c}=HM(t),l=c===null?"":`:${c}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||WM()}function _0(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function HM(n){let t=_0(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:jI(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:jI(o)}}}function jI(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function WM(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Sa=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Gn("not implemented")}_getIdTokenResponse(t){return Gn("not implemented")}_linkToIdToken(t,e){return Gn("not implemented")}_getReauthenticationResolver(t){return Gn("not implemented")}};function GM(n,t){return v(this,null,function*(){return Sn(n,"POST","/v1/accounts:signUp",t)})}function KM(n,t){return v(this,null,function*(){return Da(n,"POST","/v1/accounts:signInWithPassword",Qn(n,t))})}function YM(n,t){return v(this,null,function*(){return Sn(n,"POST","/v1/accounts:sendOobCode",Qn(n,t))})}function QM(n,t){return v(this,null,function*(){return YM(n,t)})}function XM(n,t){return v(this,null,function*(){return Da(n,"POST","/v1/accounts:signInWithEmailLink",Qn(n,t))})}function JM(n,t){return v(this,null,function*(){return Da(n,"POST","/v1/accounts:signInWithEmailLink",Qn(n,t))})}var xa=class n extends Sa{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new n(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new n(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){return v(this,null,function*(){switch(this.signInMethod){case"password":let e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _u(t,e,"signInWithPassword",KM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return XM(t,{email:this._email,oobCode:this._password});default:Cn(t,"internal-error")}})}_linkToIdToken(t,e){return v(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _u(t,i,"signUpPassword",GM,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return JM(t,{idToken:e,email:this._email,oobCode:this._password});default:Cn(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function Wm(n,t){return v(this,null,function*(){return Da(n,"POST","/v1/accounts:signInWithIdp",Qn(n,t))})}function ZM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eN(n){let t=ms(ps(n)).link,e=t?ms(ps(t)).deep_link_id:null,i=ms(ps(n)).deep_link_id;return(i?ms(ps(i)).link:null)||i||e||t||n}var vu=class n{constructor(t){var e,i,r,s,o,c;let l=ms(ps(t)),d=(e=l.apiKey)!==null&&e!==void 0?e:null,f=(i=l.oobCode)!==null&&i!==void 0?i:null,p=ZM((r=l.mode)!==null&&r!==void 0?r:null);K(d&&f&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(t){let e=eN(t);try{return new n(e)}catch{return null}}};var v0=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return xa._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){let r=vu.parseLink(i);return K(r,"argument-error"),xa._fromEmailAndCode(e,r.code,r.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),yu=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var sp=class extends yu{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};function tN(n,t){return v(this,null,function*(){return Da(n,"POST","/v1/accounts:signUp",Qn(n,t))})}var Es=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return v(this,null,function*(){let s=yield ws._fromIdTokenResponse(t,i,r),o=zI(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:e})})}static _forOperation(t,e,i){return v(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=zI(i);return new n({user:t,providerId:r,_tokenResponse:i,operationType:e})})}};function zI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var op=class n extends qt{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new n(t,e,i,r)}};function y0(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?op._fromErrorAndOperation(n,s,t,i):s})}function nN(n,t,e=!1){return v(this,null,function*(){let i=yield bs(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return Es._forOperation(n,"link",i)})}function iN(n,t,e=!1){return v(this,null,function*(){let{auth:i}=n;if(hn(i.app))return Promise.reject(Yn(i));let r="reauthenticate";try{let s=yield bs(n,y0(i,r,t,n),e);K(s.idToken,i,"internal-error");let o=_p(s.idToken);K(o,i,"internal-error");let{sub:c}=o;return K(n.uid===c,i,"user-mismatch"),Es._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Cn(i,"user-mismatch"),s}})}function b0(n,t,e=!1){return v(this,null,function*(){if(hn(n.app))return Promise.reject(Yn(n));let i="signIn",r=yield y0(n,i,t),s=yield Es._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(s.user)),s})}function Ep(n,t){return v(this,null,function*(){return b0(Ni(n),t)})}function rN(n,t,e){var i;K(((i=e.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),K(typeof e.dynamicLinkDomain>"u"||e.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),t.continueUrl=e.url,t.dynamicLinkDomain=e.dynamicLinkDomain,t.canHandleCodeInApp=e.handleCodeInApp,e.iOS&&(K(e.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),t.iOSBundleId=e.iOS.bundleId),e.android&&(K(e.android.packageName.length>0,n,"missing-android-pkg-name"),t.androidInstallApp=e.android.installApp,t.androidMinimumVersionCode=e.android.minimumVersion,t.androidPackageName=e.android.packageName)}function w0(n){return v(this,null,function*(){let t=Ni(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Ip(n,t,e){return v(this,null,function*(){let i=Ni(n),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};e&&rN(i,r,e),yield _u(i,r,"getOobCode",QM,"EMAIL_PASSWORD_PROVIDER")})}function Tp(n,t,e){return v(this,null,function*(){if(hn(n.app))return Promise.reject(Yn(n));let i=Ni(n),o=yield _u(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tN,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&w0(n),l}),c=yield Es._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(c.user),c})}function Ap(n,t,e){return hn(n.app)?Promise.reject(Yn(n)):Ep(Fe(n),v0.credential(t,e)).catch(i=>v(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&w0(n),i}))}function sN(n,t){return v(this,null,function*(){return Sn(n,"POST","/v1/accounts:update",t)})}function Cp(i,r){return v(this,arguments,function*(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;let s=Fe(n),c={idToken:yield s.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},l=yield bs(s,sN(s.auth,c));s.displayName=l.displayName||null,s.photoURL=l.photoUrl||null;let d=s.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),yield s._updateTokensIfNecessary(l)})}function ka(n,t,e,i){return Fe(n).onIdTokenChanged(t,e,i)}function Sp(n,t,e){return Fe(n).beforeAuthStateChanged(t,e)}function Au(n,t,e,i){return Fe(n).onAuthStateChanged(t,e,i)}function xp(n){return Fe(n).signOut()}var bu="__sak";var wu=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(bu,"1"),this.storage.removeItem(bu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var oN=1e3,aN=10,cN=(()=>{class n extends wu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=h0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&e(i,s,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((c,l,d)=>{this.notifyListeners(c,d)});return}let r=e.key;i?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);VM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,aN):s()}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},oN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,i){return v(this,null,function*(){yield li(n.prototype,this,"_set").call(this,e,i),this.localCache[e]=JSON.stringify(i)})}_get(e){return v(this,null,function*(){let i=yield li(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(i),i})}_remove(e){return v(this,null,function*(){yield li(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),E0=cN;var lN=(()=>{class n extends wu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})(),Rp=lN;function uN(n){return Promise.all(n.map(t=>v(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var dN=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let i=this.receivers.find(s=>s.isListeningto(e));if(i)return i;let r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return v(this,null,function*(){let i=e,{eventId:r,eventType:s,data:o}=i.data,c=this.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let l=Array.from(c).map(f=>v(this,null,function*(){return f(i.origin,o)})),d=yield uN(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function I0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}var ap=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){return v(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,l)=>{let d=I0("",20);r.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){let y=p;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(y.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function An(){return window}function hN(n){An().location.href=n}function T0(){return typeof An().WorkerGlobalScope<"u"&&typeof An().importScripts=="function"}function fN(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function mN(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pN(){return T0()?self:null}var A0="firebaseLocalStorageDb",gN=1,Eu="firebaseLocalStorage",C0="fbase_key",gr=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function Cu(n,t){return n.transaction([Eu],t?"readwrite":"readonly").objectStore(Eu)}function _N(){let n=indexedDB.deleteDatabase(A0);return new gr(n).toPromise()}function cp(){let n=indexedDB.open(A0,gN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Eu,{keyPath:C0})}catch(r){e(r)}}),n.addEventListener("success",()=>v(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Eu)?t(i):(i.close(),yield _N(),t(yield cp()))}))})}function $I(n,t,e){return v(this,null,function*(){let i=Cu(n,!0).put({[C0]:t,value:e});return new gr(i).toPromise()})}function vN(n,t){return v(this,null,function*(){let e=Cu(n,!1).get(t),i=yield new gr(e).toPromise();return i===void 0?null:i.value})}function qI(n,t){let e=Cu(n,!0).delete(t);return new gr(e).toPromise()}var yN=800,bN=3,wN=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield cp(),this.db)})}_withRetries(e){return v(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(i++>bN)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return T0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=dN._getInstance(pN()),this.receiver._subscribe("keyChanged",(e,i)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(e,i)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var e,i;if(this.activeServiceWorker=yield fN(),!this.activeServiceWorker)return;this.sender=new ap(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||mN()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let e=yield cp();return yield $I(e,bu,"1"),yield qI(e,bu),!0}catch{}return!1})}_withPendingWrite(e){return v(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,i){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>$I(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)}))})}_get(e){return v(this,null,function*(){let i=yield this._withRetries(r=>vN(r,e));return this.localCache[e]=i,i})}_remove(e){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(i=>qI(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return v(this,null,function*(){let e=yield this._withRetries(s=>{let o=Cu(s,!1).getAll();return new gr(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(e.length!==0)for(let{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),yN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),S0=wN;var Zq=p0("rcb"),eH=new pr(3e4,6e4);function EN(n,t){return t?Kn(t):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ra=class extends Sa{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wm(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Wm(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Wm(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function IN(n){return b0(n.auth,new Ra(n),n.bypassAuthState)}function TN(n){let{auth:t,user:e}=n;return K(e,t,"internal-error"),iN(e,new Ra(n),n.bypassAuthState)}function AN(n){return v(this,null,function*(){let{auth:t,user:e}=n;return K(e,t,"internal-error"),nN(e,new Ra(n),n.bypassAuthState)})}var lp=class{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>v(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return v(this,null,function*(){let{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:c}=t;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(d){this.reject(d)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IN;case"linkViaPopup":case"linkViaRedirect":return AN;case"reauthViaPopup":case"reauthViaRedirect":return TN;default:Cn(this.auth,"internal-error")}}resolve(t){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var tH=new pr(2e3,1e4);var CN="pendingRedirect",uu=new Map,up=class n extends lp{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){return v(this,null,function*(){let t=uu.get(this.auth._key());if(!t){try{let i=(yield SN(this.resolver,this.auth))?yield li(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}uu.set(this.auth._key(),t)}return this.bypassAuthState||uu.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return v(this,null,function*(){if(t.type==="signInViaRedirect")return li(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,li(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function SN(n,t){return v(this,null,function*(){let e=DN(t),i=RN(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(e))==="true";return yield i._remove(e),r})}function xN(n,t){uu.set(n._key(),t)}function RN(n){return Kn(n._redirectPersistence)}function DN(n){return lu(CN,n.config.apiKey,n.name)}function kN(n,t,e=!1){return v(this,null,function*(){if(hn(n.app))return Promise.reject(Yn(n));let i=Ni(n),r=EN(i,t),o=yield new up(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,t)),o})}var PN=10*60*1e3,dp=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ON(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!x0(t)){let r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(mr(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=PN&&this.cachedEventUids.clear(),this.cachedEventUids.has(HI(t))}saveEventToCache(t){this.cachedEventUids.add(HI(t)),this.lastProcessedEventTime=Date.now()}};function HI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function x0({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function ON(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x0(n);default:return!1}}function MN(e){return v(this,arguments,function*(n,t={}){return Sn(n,"GET","/v1/projects",t)})}var NN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FN=/^https?/;function VN(n){return v(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield MN(n);for(let e of t)try{if(LN(e))return}catch{}Cn(n,"unauthorized-domain")})}function LN(n){let t=Km(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!FN.test(e))return!1;if(NN.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var UN=new pr(3e4,6e4);function WI(){let n=An().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function BN(n){return new Promise((t,e)=>{var i,r,s;function o(){WI(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{WI(),e(mr(n,"network-request-failed"))},timeout:UN.get()})}if(!((r=(i=An().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=An().gapi)===null||s===void 0)&&s.load)o();else{let c=p0("iframefcb");return An()[c]=()=>{gapi.load?o():e(mr(n,"network-request-failed"))},m0(`${zM()}?onload=${c}`).catch(l=>e(l))}}).catch(t=>{throw du=null,t})}var du=null;function jN(n){return du=du||BN(n),du}var zN=new pr(5e3,15e3),$N="__/auth/iframe",qN="emulator/auth/iframe",HN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GN(n){let t=n.config;K(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?pp(t,qN):`https://${n.config.authDomain}/${$N}`,i={apiKey:t.apiKey,appName:n.name,v:Ri},r=WN.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${va(i).slice(1)}`}function KN(n){return v(this,null,function*(){let t=yield jN(n),e=An().gapi;return K(e,n,"internal-error"),t.open({where:document.body,url:GN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HN,dontclear:!0},i=>new Promise((r,s)=>v(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=mr(n,"network-request-failed"),c=An().setTimeout(()=>{s(o)},zN.get());function l(){An().clearTimeout(c),r(i)}i.ping(l).then(l,()=>{s(o)})})))})}var YN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,XN=600,JN="_blank",ZN="http://localhost",Iu=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function e1(n,t,e,i=QN,r=XN){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",l=Object.assign(Object.assign({},YN),{width:i.toString(),height:r.toString(),top:s,left:o}),d=st().toLowerCase();e&&(c=a0(d)?JN:e),s0(d)&&(t=t||ZN,l.scrollbars="yes");let f=Object.entries(l).reduce((y,[A,D])=>`${y}${A}=${D},`,"");if(FM(d)&&c!=="_self")return t1(t||"",c),new Iu(null);let p=window.open(t||"",c,f);K(p,n,"popup-blocked");try{p.focus()}catch{}return new Iu(p)}function t1(n,t){let e=document.createElement("a");e.href=n,e.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}var n1="__/auth/handler",i1="emulator/auth/handler",r1=encodeURIComponent("fac");function GI(n,t,e,i,r,s){return v(this,null,function*(){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Ri,eventId:r};if(t instanceof yu){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",aI(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(t instanceof sp){let f=t.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield n._getAppCheckToken(),d=l?`#${r1}=${encodeURIComponent(l)}`:"";return`${s1(n)}?${va(c).slice(1)}${d}`})}function s1({config:n}){return n.emulator?pp(n,i1):`https://${n.authDomain}/${n1}`}var Gm="webStorageSupport",hp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rp,this._completeRedirectFn=kN,this._overrideRedirectResult=xN}_openPopup(t,e,i,r){return v(this,null,function*(){var s;Mi((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield GI(t,e,i,Km(),r);return e1(t,o,I0())})}_openRedirect(t,e,i,r){return v(this,null,function*(){yield this._originValidation(t);let s=yield GI(t,e,i,Km(),r);return hN(s),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(Mi(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){return v(this,null,function*(){let e=yield KN(t),i=new dp(t);return e.register("authEvent",r=>(K(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Gm,{type:Gm},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[Gm];o!==void 0&&e(!!o),Cn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=VN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return h0()||o0()||yp()}},R0=hp;var KI="@firebase/auth",YI="1.8.2";var fp=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function o1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a1(n){dn(new Rt("auth",(t,{options:e})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=i.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:f0(n)},d=new tp(i,r,s,l);return qM(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),dn(new Rt("auth-internal",t=>{let e=Ni(t.getProvider("auth").getImmediate());return(i=>new fp(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(KI,YI,o1(n)),je(KI,YI,"esm2017")}var c1=5*60,l1=wm("authIdTokenMaxAge")||c1,QI=null,u1=n=>t=>v(void 0,null,function*(){let e=t&&(yield t.getIdTokenResult()),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>l1)return;let r=e?.token;QI!==r&&(QI=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Dp(n=dr()){let t=gs(n,"auth");if(t.isInitialized())return t.getImmediate();let e=bp(n,{popupRedirectResolver:R0,persistence:[S0,E0,Rp]}),i=wm("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=u1(s.toString());Sp(e,o,()=>o(e.currentUser)),ka(e,c=>o(c))}}let r=ym("auth");return r&&wp(e,`http://${r}`),e}function d1(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}BM({loadJS(n){return new Promise((t,e)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{let s=mr("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",d1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a1("Browser");function k0(n){return new tt(function(t){var e=ka(n,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:e}})}var P0="auth",Pa=class{constructor(t){return t}},Oa=class{constructor(){return vs(P0)}};var kp=new V("angularfire2.auth-instances");function Q1(n,t){let e=wa(P0,n,t);return e&&new Pa(e)}function X1(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new Pa(i)}}var J1={provide:Oa,deps:[[new At,kp]]},Z1={provide:Pa,useFactory:Q1,deps:[[new At,kp],Wn]};function WH(n,...t){return je("angularfire",Di.full,"auth"),rn([Z1,J1,{provide:kp,useFactory:X1(n),multi:!0,deps:[H,Ee,ki,fr,[new At,ys],...t]}])}var GH=we(k0,!0);var KH=we(Tp,!0,2);var YH=we(Dp,!0);var QH=we(Au,!0);var XH=we(Ip,!0,2);var JH=we(Ap,!0,2);var ZH=we(xp,!0,2);var e4=we(Cp,!0,2);var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M0={};var Xn,Pp;(function(){var n;function t(I,_){function w(){}w.prototype=_.prototype,I.D=_.prototype,I.prototype=new w,I.prototype.constructor=I,I.C=function(E,T,S){for(var b=Array(arguments.length-2),Mn=2;Mn<arguments.length;Mn++)b[Mn-2]=arguments[Mn];return _.prototype[T].apply(E,b)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,_,w){w||(w=0);var E=Array(16);if(typeof _=="string")for(var T=0;16>T;++T)E[T]=_.charCodeAt(w++)|_.charCodeAt(w++)<<8|_.charCodeAt(w++)<<16|_.charCodeAt(w++)<<24;else for(T=0;16>T;++T)E[T]=_[w++]|_[w++]<<8|_[w++]<<16|_[w++]<<24;_=I.g[0],w=I.g[1],T=I.g[2];var S=I.g[3],b=_+(S^w&(T^S))+E[0]+3614090360&4294967295;_=w+(b<<7&4294967295|b>>>25),b=S+(T^_&(w^T))+E[1]+3905402710&4294967295,S=_+(b<<12&4294967295|b>>>20),b=T+(w^S&(_^w))+E[2]+606105819&4294967295,T=S+(b<<17&4294967295|b>>>15),b=w+(_^T&(S^_))+E[3]+3250441966&4294967295,w=T+(b<<22&4294967295|b>>>10),b=_+(S^w&(T^S))+E[4]+4118548399&4294967295,_=w+(b<<7&4294967295|b>>>25),b=S+(T^_&(w^T))+E[5]+1200080426&4294967295,S=_+(b<<12&4294967295|b>>>20),b=T+(w^S&(_^w))+E[6]+2821735955&4294967295,T=S+(b<<17&4294967295|b>>>15),b=w+(_^T&(S^_))+E[7]+4249261313&4294967295,w=T+(b<<22&4294967295|b>>>10),b=_+(S^w&(T^S))+E[8]+1770035416&4294967295,_=w+(b<<7&4294967295|b>>>25),b=S+(T^_&(w^T))+E[9]+2336552879&4294967295,S=_+(b<<12&4294967295|b>>>20),b=T+(w^S&(_^w))+E[10]+4294925233&4294967295,T=S+(b<<17&4294967295|b>>>15),b=w+(_^T&(S^_))+E[11]+2304563134&4294967295,w=T+(b<<22&4294967295|b>>>10),b=_+(S^w&(T^S))+E[12]+1804603682&4294967295,_=w+(b<<7&4294967295|b>>>25),b=S+(T^_&(w^T))+E[13]+4254626195&4294967295,S=_+(b<<12&4294967295|b>>>20),b=T+(w^S&(_^w))+E[14]+2792965006&4294967295,T=S+(b<<17&4294967295|b>>>15),b=w+(_^T&(S^_))+E[15]+1236535329&4294967295,w=T+(b<<22&4294967295|b>>>10),b=_+(T^S&(w^T))+E[1]+4129170786&4294967295,_=w+(b<<5&4294967295|b>>>27),b=S+(w^T&(_^w))+E[6]+3225465664&4294967295,S=_+(b<<9&4294967295|b>>>23),b=T+(_^w&(S^_))+E[11]+643717713&4294967295,T=S+(b<<14&4294967295|b>>>18),b=w+(S^_&(T^S))+E[0]+3921069994&4294967295,w=T+(b<<20&4294967295|b>>>12),b=_+(T^S&(w^T))+E[5]+3593408605&4294967295,_=w+(b<<5&4294967295|b>>>27),b=S+(w^T&(_^w))+E[10]+38016083&4294967295,S=_+(b<<9&4294967295|b>>>23),b=T+(_^w&(S^_))+E[15]+3634488961&4294967295,T=S+(b<<14&4294967295|b>>>18),b=w+(S^_&(T^S))+E[4]+3889429448&4294967295,w=T+(b<<20&4294967295|b>>>12),b=_+(T^S&(w^T))+E[9]+568446438&4294967295,_=w+(b<<5&4294967295|b>>>27),b=S+(w^T&(_^w))+E[14]+3275163606&4294967295,S=_+(b<<9&4294967295|b>>>23),b=T+(_^w&(S^_))+E[3]+4107603335&4294967295,T=S+(b<<14&4294967295|b>>>18),b=w+(S^_&(T^S))+E[8]+1163531501&4294967295,w=T+(b<<20&4294967295|b>>>12),b=_+(T^S&(w^T))+E[13]+2850285829&4294967295,_=w+(b<<5&4294967295|b>>>27),b=S+(w^T&(_^w))+E[2]+4243563512&4294967295,S=_+(b<<9&4294967295|b>>>23),b=T+(_^w&(S^_))+E[7]+1735328473&4294967295,T=S+(b<<14&4294967295|b>>>18),b=w+(S^_&(T^S))+E[12]+2368359562&4294967295,w=T+(b<<20&4294967295|b>>>12),b=_+(w^T^S)+E[5]+4294588738&4294967295,_=w+(b<<4&4294967295|b>>>28),b=S+(_^w^T)+E[8]+2272392833&4294967295,S=_+(b<<11&4294967295|b>>>21),b=T+(S^_^w)+E[11]+1839030562&4294967295,T=S+(b<<16&4294967295|b>>>16),b=w+(T^S^_)+E[14]+4259657740&4294967295,w=T+(b<<23&4294967295|b>>>9),b=_+(w^T^S)+E[1]+2763975236&4294967295,_=w+(b<<4&4294967295|b>>>28),b=S+(_^w^T)+E[4]+1272893353&4294967295,S=_+(b<<11&4294967295|b>>>21),b=T+(S^_^w)+E[7]+4139469664&4294967295,T=S+(b<<16&4294967295|b>>>16),b=w+(T^S^_)+E[10]+3200236656&4294967295,w=T+(b<<23&4294967295|b>>>9),b=_+(w^T^S)+E[13]+681279174&4294967295,_=w+(b<<4&4294967295|b>>>28),b=S+(_^w^T)+E[0]+3936430074&4294967295,S=_+(b<<11&4294967295|b>>>21),b=T+(S^_^w)+E[3]+3572445317&4294967295,T=S+(b<<16&4294967295|b>>>16),b=w+(T^S^_)+E[6]+76029189&4294967295,w=T+(b<<23&4294967295|b>>>9),b=_+(w^T^S)+E[9]+3654602809&4294967295,_=w+(b<<4&4294967295|b>>>28),b=S+(_^w^T)+E[12]+3873151461&4294967295,S=_+(b<<11&4294967295|b>>>21),b=T+(S^_^w)+E[15]+530742520&4294967295,T=S+(b<<16&4294967295|b>>>16),b=w+(T^S^_)+E[2]+3299628645&4294967295,w=T+(b<<23&4294967295|b>>>9),b=_+(T^(w|~S))+E[0]+4096336452&4294967295,_=w+(b<<6&4294967295|b>>>26),b=S+(w^(_|~T))+E[7]+1126891415&4294967295,S=_+(b<<10&4294967295|b>>>22),b=T+(_^(S|~w))+E[14]+2878612391&4294967295,T=S+(b<<15&4294967295|b>>>17),b=w+(S^(T|~_))+E[5]+4237533241&4294967295,w=T+(b<<21&4294967295|b>>>11),b=_+(T^(w|~S))+E[12]+1700485571&4294967295,_=w+(b<<6&4294967295|b>>>26),b=S+(w^(_|~T))+E[3]+2399980690&4294967295,S=_+(b<<10&4294967295|b>>>22),b=T+(_^(S|~w))+E[10]+4293915773&4294967295,T=S+(b<<15&4294967295|b>>>17),b=w+(S^(T|~_))+E[1]+2240044497&4294967295,w=T+(b<<21&4294967295|b>>>11),b=_+(T^(w|~S))+E[8]+1873313359&4294967295,_=w+(b<<6&4294967295|b>>>26),b=S+(w^(_|~T))+E[15]+4264355552&4294967295,S=_+(b<<10&4294967295|b>>>22),b=T+(_^(S|~w))+E[6]+2734768916&4294967295,T=S+(b<<15&4294967295|b>>>17),b=w+(S^(T|~_))+E[13]+1309151649&4294967295,w=T+(b<<21&4294967295|b>>>11),b=_+(T^(w|~S))+E[4]+4149444226&4294967295,_=w+(b<<6&4294967295|b>>>26),b=S+(w^(_|~T))+E[11]+3174756917&4294967295,S=_+(b<<10&4294967295|b>>>22),b=T+(_^(S|~w))+E[2]+718787259&4294967295,T=S+(b<<15&4294967295|b>>>17),b=w+(S^(T|~_))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(T+(b<<21&4294967295|b>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+S&4294967295}i.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var w=_-this.blockSize,E=this.B,T=this.h,S=0;S<_;){if(T==0)for(;S<=w;)r(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<_;)if(E[T++]=I.charCodeAt(S++),T==this.blockSize){r(this,E),T=0;break}}else for(;S<_;)if(E[T++]=I[S++],T==this.blockSize){r(this,E),T=0;break}}this.h=T,this.o+=_},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var w=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=w&255,w/=256;for(this.u(I),I=Array(16),_=w=0;4>_;++_)for(var E=0;32>E;E+=8)I[w++]=this.g[_]>>>E&255;return I};function s(I,_){var w=c;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=_(I)}function o(I,_){this.h=_;for(var w=[],E=!0,T=I.length-1;0<=T;T--){var S=I[T]|0;E&&S==_||(w[T]=S,E=!1)}this.g=w}var c={};function l(I){return-128<=I&&128>I?s(I,function(_){return new o([_|0],0>_?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return R(d(-I));for(var _=[],w=1,E=0;I>=w;E++)_[E]=I/w|0,w*=4294967296;return new o(_,0)}function f(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return R(f(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=d(Math.pow(_,8)),E=p,T=0;T<I.length;T+=8){var S=Math.min(8,I.length-T),b=parseInt(I.substring(T,T+S),_);8>S?(S=d(Math.pow(_,S)),E=E.j(S).add(d(b))):(E=E.j(w),E=E.add(d(b)))}return E}var p=l(0),y=l(1),A=l(16777216);n=o.prototype,n.m=function(){if(k(this))return-R(this).m();for(var I=0,_=1,w=0;w<this.g.length;w++){var E=this.i(w);I+=(0<=E?E:4294967296+E)*_,_*=4294967296}return I},n.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D(this))return"0";if(k(this))return"-"+R(this).toString(I);for(var _=d(Math.pow(I,6)),w=this,E="";;){var T=ve(w,_).g;w=$(w,T.j(_));var S=((0<w.g.length?w.g[0]:w.h)>>>0).toString(I);if(w=T,D(w))return S+E;for(;6>S.length;)S="0"+S;E=S+E}},n.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function D(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function k(I){return I.h==-1}n.l=function(I){return I=$(this,I),k(I)?-1:D(I)?0:1};function R(I){for(var _=I.g.length,w=[],E=0;E<_;E++)w[E]=~I.g[E];return new o(w,~I.h).add(y)}n.abs=function(){return k(this)?R(this):this},n.add=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],E=0,T=0;T<=_;T++){var S=E+(this.i(T)&65535)+(I.i(T)&65535),b=(S>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);E=b>>>16,S&=65535,b&=65535,w[T]=b<<16|S}return new o(w,w[w.length-1]&-2147483648?-1:0)};function $(I,_){return I.add(R(_))}n.j=function(I){if(D(this)||D(I))return p;if(k(this))return k(I)?R(this).j(R(I)):R(R(this).j(I));if(k(I))return R(this.j(R(I)));if(0>this.l(A)&&0>I.l(A))return d(this.m()*I.m());for(var _=this.g.length+I.g.length,w=[],E=0;E<2*_;E++)w[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<I.g.length;T++){var S=this.i(E)>>>16,b=this.i(E)&65535,Mn=I.i(T)>>>16,Ws=I.i(T)&65535;w[2*E+2*T]+=b*Ws,Q(w,2*E+2*T),w[2*E+2*T+1]+=S*Ws,Q(w,2*E+2*T+1),w[2*E+2*T+1]+=b*Mn,Q(w,2*E+2*T+1),w[2*E+2*T+2]+=S*Mn,Q(w,2*E+2*T+2)}for(E=0;E<_;E++)w[E]=w[2*E+1]<<16|w[2*E];for(E=_;E<2*_;E++)w[E]=0;return new o(w,0)};function Q(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function j(I,_){this.g=I,this.h=_}function ve(I,_){if(D(_))throw Error("division by zero");if(D(I))return new j(p,p);if(k(I))return _=ve(R(I),_),new j(R(_.g),R(_.h));if(k(_))return _=ve(I,R(_)),new j(R(_.g),_.h);if(30<I.g.length){if(k(I)||k(_))throw Error("slowDivide_ only works with positive integers.");for(var w=y,E=_;0>=E.l(I);)w=ct(w),E=ct(E);var T=me(w,1),S=me(E,1);for(E=me(E,2),w=me(w,2);!D(E);){var b=S.add(E);0>=b.l(I)&&(T=T.add(w),S=b),E=me(E,1),w=me(w,1)}return _=$(I,T.j(_)),new j(T,_)}for(T=p;0<=I.l(_);){for(w=Math.max(1,Math.floor(I.m()/_.m())),E=Math.ceil(Math.log(w)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),S=d(w),b=S.j(_);k(b)||0<b.l(I);)w-=E,S=d(w),b=S.j(_);D(S)&&(S=y),T=T.add(S),I=$(I,b)}return new j(T,I)}n.A=function(I){return ve(this,I).h},n.and=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)&I.i(E);return new o(w,this.h&I.h)},n.or=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)|I.i(E);return new o(w,this.h|I.h)},n.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),w=[],E=0;E<_;E++)w[E]=this.i(E)^I.i(E);return new o(w,this.h^I.h)};function ct(I){for(var _=I.g.length+1,w=[],E=0;E<_;E++)w[E]=I.i(E)<<1|I.i(E-1)>>>31;return new o(w,I.h)}function me(I,_){var w=_>>5;_%=32;for(var E=I.g.length-w,T=[],S=0;S<E;S++)T[S]=0<_?I.i(S+w)>>>_|I.i(S+w+1)<<32-_:I.i(S+w);return new o(T,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Pp=M0.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=f,Xn=M0.Integer=o}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jn={};var Op,eF,Is,Mp,Ma,xu,Np,Fp,Vp;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,h){return a==Array.prototype||a==Object.prototype||(a[u]=h.value),a};function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Su=="object"&&Su];for(var u=0;u<a.length;++u){var h=a[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var i=e(this);function r(a,u){if(u)e:{var h=i;a=a.split(".");for(var m=0;m<a.length-1;m++){var C=a[m];if(!(C in h))break e;h=h[C]}a=a[a.length-1],m=h[a],u=u(m),u!=m&&u!=null&&t(h,a,{configurable:!0,writable:!0,value:u})}}function s(a,u){a instanceof String&&(a+="");var h=0,m=!1,C={next:function(){if(!m&&h<a.length){var x=h++;return{value:u(x,a[x]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}r("Array.prototype.values",function(a){return a||function(){return s(this,function(u,h){return h})}});var o=o||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function d(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,h){return a.call.apply(a.bind,arguments)}function p(a,u,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),a.apply(u,C)}}return function(){return a.apply(u,arguments)}}function y(a,u,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function A(a,u){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function D(a,u){function h(){}h.prototype=u.prototype,a.aa=u.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,C,x){for(var N=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)N[Te-2]=arguments[Te];return u.prototype[C].apply(m,N)}}function k(a){let u=a.length;if(0<u){let h=Array(u);for(let m=0;m<u;m++)h[m]=a[m];return h}return[]}function R(a,u){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let C=a.length||0,x=m.length||0;a.length=C+x;for(let N=0;N<x;N++)a[C+N]=m[N]}else a.push(m)}}class ${constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function Q(a){return/^[\s\xa0]*$/.test(a)}function j(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ve(a){return ve[" "](a),a}ve[" "]=function(){};var ct=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function me(a,u,h){for(let m in a)u.call(h,a[m],m,a)}function I(a,u){for(let h in a)u.call(void 0,a[h],h,a)}function _(a){let u={};for(let h in a)u[h]=a[h];return u}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,u){let h,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(h in m)a[h]=m[h];for(let x=0;x<w.length;x++)h=w[x],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function T(a){var u=1;a=a.split(":");let h=[];for(;0<u&&a.length;)h.push(a.shift()),u--;return a.length&&h.push(a.join(":")),h}function S(a){c.setTimeout(()=>{throw a},0)}function b(){var a=Dd;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class Mn{constructor(){this.h=this.g=null}add(u,h){let m=Ws.get();m.set(u,h),this.h?this.h.next=m:this.g=m,this.h=m}}var Ws=new $(()=>new UA,a=>a.reset());class UA{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Gs,Ks=!1,Dd=new Mn,G_=()=>{let a=c.Promise.resolve(void 0);Gs=()=>{a.then(BA)}};var BA=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(h){S(h)}var u=Ws;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}Ks=!1};function si(){this.s=this.s,this.C=this.C}si.prototype.s=!1,si.prototype.ma=function(){this.s||(this.s=!0,this.N())},si.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var jA=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,u),c.removeEventListener("test",h,u)}catch{}return a}();function Ys(a,u){if(mt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(ct){e:{try{ve(u.nodeName);var C=!0;break e}catch{}C=!1}C||(u=null)}}else h=="mouseover"?u=a.fromElement:h=="mouseout"&&(u=a.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:zA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ys.aa.h.call(this)}}D(Ys,mt);var zA={2:"touch",3:"pen",4:"mouse"};Ys.prototype.h=function(){Ys.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Qs="closure_listenable_"+(1e6*Math.random()|0),$A=0;function qA(a,u,h,m,C){this.listener=a,this.proxy=null,this.src=u,this.type=h,this.capture=!!m,this.ha=C,this.key=++$A,this.da=this.fa=!1}function ac(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function cc(a){this.src=a,this.g={},this.h=0}cc.prototype.add=function(a,u,h,m,C){var x=a.toString();a=this.g[x],a||(a=this.g[x]=[],this.h++);var N=Pd(a,u,m,C);return-1<N?(u=a[N],h||(u.fa=!1)):(u=new qA(u,this.src,x,!!m,C),u.fa=h,a.push(u)),u};function kd(a,u){var h=u.type;if(h in a.g){var m=a.g[h],C=Array.prototype.indexOf.call(m,u,void 0),x;(x=0<=C)&&Array.prototype.splice.call(m,C,1),x&&(ac(u),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Pd(a,u,h,m){for(var C=0;C<a.length;++C){var x=a[C];if(!x.da&&x.listener==u&&x.capture==!!h&&x.ha==m)return C}return-1}var Od="closure_lm_"+(1e6*Math.random()|0),Md={};function K_(a,u,h,m,C){if(m&&m.once)return Q_(a,u,h,m,C);if(Array.isArray(u)){for(var x=0;x<u.length;x++)K_(a,u[x],h,m,C);return null}return h=Ld(h),a&&a[Qs]?a.K(u,h,d(m)?!!m.capture:!!m,C):Y_(a,u,h,!1,m,C)}function Y_(a,u,h,m,C,x){if(!u)throw Error("Invalid event type");var N=d(C)?!!C.capture:!!C,Te=Fd(a);if(Te||(a[Od]=Te=new cc(a)),h=Te.add(u,h,m,N,x),h.proxy)return h;if(m=HA(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)jA||(C=N),C===void 0&&(C=!1),a.addEventListener(u.toString(),m,C);else if(a.attachEvent)a.attachEvent(J_(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function HA(){function a(h){return u.call(a.src,a.listener,h)}let u=WA;return a}function Q_(a,u,h,m,C){if(Array.isArray(u)){for(var x=0;x<u.length;x++)Q_(a,u[x],h,m,C);return null}return h=Ld(h),a&&a[Qs]?a.L(u,h,d(m)?!!m.capture:!!m,C):Y_(a,u,h,!0,m,C)}function X_(a,u,h,m,C){if(Array.isArray(u))for(var x=0;x<u.length;x++)X_(a,u[x],h,m,C);else m=d(m)?!!m.capture:!!m,h=Ld(h),a&&a[Qs]?(a=a.i,u=String(u).toString(),u in a.g&&(x=a.g[u],h=Pd(x,h,m,C),-1<h&&(ac(x[h]),Array.prototype.splice.call(x,h,1),x.length==0&&(delete a.g[u],a.h--)))):a&&(a=Fd(a))&&(u=a.g[u.toString()],a=-1,u&&(a=Pd(u,h,m,C)),(h=-1<a?u[a]:null)&&Nd(h))}function Nd(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[Qs])kd(u.i,a);else{var h=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(h,m,a.capture):u.detachEvent?u.detachEvent(J_(h),m):u.addListener&&u.removeListener&&u.removeListener(m),(h=Fd(u))?(kd(h,a),h.h==0&&(h.src=null,u[Od]=null)):ac(a)}}}function J_(a){return a in Md?Md[a]:Md[a]="on"+a}function WA(a,u){if(a.da)a=!0;else{u=new Ys(u,this);var h=a.listener,m=a.ha||a.src;a.fa&&Nd(a),a=h.call(m,u)}return a}function Fd(a){return a=a[Od],a instanceof cc?a:null}var Vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ld(a){return typeof a=="function"?a:(a[Vd]||(a[Vd]=function(u){return a.handleEvent(u)}),a[Vd])}function pt(){si.call(this),this.i=new cc(this),this.M=this,this.F=null}D(pt,si),pt.prototype[Qs]=!0,pt.prototype.removeEventListener=function(a,u,h,m){X_(this,a,u,h,m)};function It(a,u){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new mt(u,a);else if(u instanceof mt)u.target=u.target||a;else{var C=u;u=new mt(m,a),E(u,C)}if(C=!0,h)for(var x=h.length-1;0<=x;x--){var N=u.g=h[x];C=lc(N,m,!0,u)&&C}if(N=u.g=a,C=lc(N,m,!0,u)&&C,C=lc(N,m,!1,u)&&C,h)for(x=0;x<h.length;x++)N=u.g=h[x],C=lc(N,m,!1,u)&&C}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var h=a.g[u],m=0;m<h.length;m++)ac(h[m]);delete a.g[u],a.h--}}this.F=null},pt.prototype.K=function(a,u,h,m){return this.i.add(String(a),u,!1,h,m)},pt.prototype.L=function(a,u,h,m){return this.i.add(String(a),u,!0,h,m)};function lc(a,u,h,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var C=!0,x=0;x<u.length;++x){var N=u[x];if(N&&!N.da&&N.capture==h){var Te=N.listener,lt=N.ha||N.src;N.fa&&kd(a.i,N),C=Te.call(lt,m)!==!1&&C}}return C&&!m.defaultPrevented}function Z_(a,u,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function ev(a){a.g=Z_(()=>{a.g=null,a.i&&(a.i=!1,ev(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class GA extends si{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:ev(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(a){si.call(this),this.h=a,this.g={}}D(Xs,si);var tv=[];function nv(a){me(a.g,function(u,h){this.g.hasOwnProperty(h)&&Nd(u)},a),a.g={}}Xs.prototype.N=function(){Xs.aa.N.call(this),nv(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ud=c.JSON.stringify,KA=c.JSON.parse,YA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Bd(){}Bd.prototype.h=null;function iv(a){return a.h||(a.h=a.i())}function rv(){}var Js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jd(){mt.call(this,"d")}D(jd,mt);function zd(){mt.call(this,"c")}D(zd,mt);var ji={},sv=null;function uc(){return sv=sv||new pt}ji.La="serverreachability";function ov(a){mt.call(this,ji.La,a)}D(ov,mt);function Zs(a){let u=uc();It(u,new ov(u))}ji.STAT_EVENT="statevent";function av(a,u){mt.call(this,ji.STAT_EVENT,a),this.stat=u}D(av,mt);function Tt(a){let u=uc();It(u,new av(u,a))}ji.Ma="timingevent";function cv(a,u){mt.call(this,ji.Ma,a),this.size=u}D(cv,mt);function eo(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function to(){this.g=!0}to.prototype.xa=function(){this.g=!1};function QA(a,u,h,m,C,x){a.info(function(){if(a.g)if(x)for(var N="",Te=x.split("&"),lt=0;lt<Te.length;lt++){var fe=Te[lt].split("=");if(1<fe.length){var gt=fe[0];fe=fe[1];var _t=gt.split("_");N=2<=_t.length&&_t[1]=="type"?N+(gt+"="+fe+"&"):N+(gt+"=redacted&")}}else N=null;else N=x;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+u+`
`+h+`
`+N})}function XA(a,u,h,m,C,x,N){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+u+`
`+h+`
`+x+" "+N})}function xr(a,u,h,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+ZA(a,h)+(m?" "+m:"")})}function JA(a,u){a.info(function(){return"TIMEOUT: "+u})}to.prototype.info=function(){};function ZA(a,u){if(!a.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var x=C[0];if(x!="noop"&&x!="stop"&&x!="close")for(var N=1;N<C.length;N++)C[N]=""}}}}return Ud(h)}catch{return u}}var dc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},lv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$d;function hc(){}D(hc,Bd),hc.prototype.g=function(){return new XMLHttpRequest},hc.prototype.i=function(){return{}},$d=new hc;function oi(a,u,h,m){this.j=a,this.i=u,this.l=h,this.R=m||1,this.U=new Xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uv}function uv(){this.i=null,this.g="",this.h=!1}var dv={},qd={};function Hd(a,u,h){a.L=1,a.v=gc(Nn(u)),a.m=h,a.P=!0,hv(a,null)}function hv(a,u){a.F=Date.now(),fc(a),a.A=Nn(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Cv(h.i,"t",m),a.C=0,h=a.j.J,a.h=new uv,a.g=qv(a.j,h?u:null,!a.m),0<a.O&&(a.M=new GA(y(a.Y,a,a.g),a.O)),u=a.U,h=a.g,m=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(tv[0]=C.toString()),C=tv);for(var x=0;x<C.length;x++){var N=K_(h,C[x],m||u.handleEvent,!1,u.h||u);if(!N)break;u.g[N.key]=N}u=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),Zs(),QA(a.i,a.u,a.A,a.l,a.R,a.m)}oi.prototype.ca=function(a){a=a.target;let u=this.M;u&&Fn(a)==3?u.j():this.Y(a)},oi.prototype.Y=function(a){try{if(a==this.g)e:{let _t=Fn(this.g);var u=this.g.Ba();let kr=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||Ov(this.g)))){this.J||_t!=4||u==7||(u==8||0>=kr?Zs(3):Zs(2)),Wd(this);var h=this.g.Z();this.X=h;t:if(fv(this)){var m=Ov(this.g);a="";var C=m.length,x=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),no(this);var N="";break t}this.h.i=new c.TextDecoder}for(u=0;u<C;u++)this.h.h=!0,a+=this.h.i.decode(m[u],{stream:!(x&&u==C-1)});m.length=0,this.h.g+=a,this.C=0,N=this.h.g}else N=this.g.oa();if(this.o=h==200,XA(this.i,this.u,this.A,this.l,this.R,_t,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,lt=this.g;if((Te=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Te)){var fe=Te;break t}}fe=null}if(h=fe)xr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gd(this,h);else{this.o=!1,this.s=3,Tt(12),zi(this),no(this);break e}}if(this.P){h=!0;let tn;for(;!this.J&&this.C<N.length;)if(tn=eC(this,N),tn==qd){_t==4&&(this.s=4,Tt(14),h=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==dv){this.s=4,Tt(15),xr(this.i,this.l,N,"[Invalid Chunk]"),h=!1;break}else xr(this.i,this.l,tn,null),Gd(this,tn);if(fv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||N.length!=0||this.h.h||(this.s=1,Tt(16),h=!1),this.o=this.o&&h,!h)xr(this.i,this.l,N,"[Invalid Chunked Response]"),zi(this),no(this);else if(0<N.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Zd(gt),gt.M=!0,Tt(11))}}else xr(this.i,this.l,N,null),Gd(this,N);_t==4&&zi(this),this.o&&!this.J&&(_t==4?Bv(this.j,this):(this.o=!1,fc(this)))}else _C(this.g),h==400&&0<N.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),zi(this),no(this)}}}catch{}finally{}};function fv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function eC(a,u){var h=a.C,m=u.indexOf(`
`,h);return m==-1?qd:(h=Number(u.substring(h,m)),isNaN(h)?dv:(m+=1,m+h>u.length?qd:(u=u.slice(m,m+h),a.C=m+h,u)))}oi.prototype.cancel=function(){this.J=!0,zi(this)};function fc(a){a.S=Date.now()+a.I,mv(a,a.I)}function mv(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=eo(y(a.ba,a),u)}function Wd(a){a.B&&(c.clearTimeout(a.B),a.B=null)}oi.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(JA(this.i,this.A),this.L!=2&&(Zs(),Tt(17)),zi(this),this.s=2,no(this)):mv(this,this.S-a)};function no(a){a.j.G==0||a.J||Bv(a.j,a)}function zi(a){Wd(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,nv(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function Gd(a,u){try{var h=a.j;if(h.G!=0&&(h.g==a||Kd(h.h,a))){if(!a.K&&Kd(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)wc(h),yc(h);else break e;Jd(h),Tt(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=eo(y(h.Za,h),6e3));if(1>=_v(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else qi(h,11)}else if((a.K||h.g==a)&&wc(h),!Q(u))for(C=h.Da.g.parse(u),u=0;u<C.length;u++){let fe=C[u];if(h.T=fe[0],fe=fe[1],h.G==2)if(fe[0]=="c"){h.K=fe[1],h.ia=fe[2];let gt=fe[3];gt!=null&&(h.la=gt,h.j.info("VER="+h.la));let _t=fe[4];_t!=null&&(h.Aa=_t,h.j.info("SVER="+h.Aa));let kr=fe[5];kr!=null&&typeof kr=="number"&&0<kr&&(m=1.5*kr,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let tn=a.g;if(tn){let Ic=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ic){var x=m.h;x.g||Ic.indexOf("spdy")==-1&&Ic.indexOf("quic")==-1&&Ic.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(Yd(x,x.h),x.h=null))}if(m.D){let eh=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;eh&&(m.ya=eh,Re(m.I,m.D,eh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var N=a;if(m.qa=$v(m,m.J?m.ia:null,m.W),N.K){vv(m.h,N);var Te=N,lt=m.L;lt&&(Te.I=lt),Te.B&&(Wd(Te),fc(Te)),m.g=N}else Lv(m);0<h.i.length&&bc(h)}else fe[0]!="stop"&&fe[0]!="close"||qi(h,7);else h.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?qi(h,7):Xd(h):fe[0]!="noop"&&h.l&&h.l.ta(fe),h.v=0)}}Zs(4)}catch{}}var tC=class{constructor(a,u){this.g=a,this.map=u}};function pv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function _v(a){return a.h?1:a.g?a.g.size:0}function Kd(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function Yd(a,u){a.g?a.g.add(u):a.h=u}function vv(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}pv.prototype.cancel=function(){if(this.i=yv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function yv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let h of a.g.values())u=u.concat(h.D);return u}return k(a.i)}function nC(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],h=a.length,m=0;m<h;m++)u.push(a[m]);return u}u=[],h=0;for(m in a)u[h++]=a[m];return u}function iC(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var h=0;h<a;h++)u.push(h);return u}u=[],h=0;for(let m in a)u[h++]=m;return u}}}function bv(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var h=iC(a),m=nC(a),C=m.length,x=0;x<C;x++)u.call(void 0,m[x],h&&h[x],a)}var wv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rC(a,u){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),C=null;if(0<=m){var x=a[h].substring(0,m);C=a[h].substring(m+1)}else x=a[h];u(x,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function $i(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof $i){this.h=a.h,mc(this,a.j),this.o=a.o,this.g=a.g,pc(this,a.s),this.l=a.l;var u=a.i,h=new so;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),Ev(this,h),this.m=a.m}else a&&(u=String(a).match(wv))?(this.h=!1,mc(this,u[1]||"",!0),this.o=io(u[2]||""),this.g=io(u[3]||"",!0),pc(this,u[4]),this.l=io(u[5]||"",!0),Ev(this,u[6]||"",!0),this.m=io(u[7]||"")):(this.h=!1,this.i=new so(null,this.h))}$i.prototype.toString=function(){var a=[],u=this.j;u&&a.push(ro(u,Iv,!0),":");var h=this.g;return(h||u=="file")&&(a.push("//"),(u=this.o)&&a.push(ro(u,Iv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ro(h,h.charAt(0)=="/"?aC:oC,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ro(h,lC)),a.join("")};function Nn(a){return new $i(a)}function mc(a,u,h){a.j=h?io(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function pc(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function Ev(a,u,h){u instanceof so?(a.i=u,uC(a.i,a.h)):(h||(u=ro(u,cC)),a.i=new so(u,a.h))}function Re(a,u,h){a.i.set(u,h)}function gc(a){return Re(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function io(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ro(a,u,h){return typeof a=="string"?(a=encodeURI(a).replace(u,sC),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function sC(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Iv=/[#\/\?@]/g,oC=/[#\?:]/g,aC=/[#\?]/g,cC=/[#\?@]/g,lC=/#/g;function so(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function ai(a){a.g||(a.g=new Map,a.h=0,a.i&&rC(a.i,function(u,h){a.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}n=so.prototype,n.add=function(a,u){ai(this),this.i=null,a=Rr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(u),this.h+=1,this};function Tv(a,u){ai(a),u=Rr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Av(a,u){return ai(a),u=Rr(a,u),a.g.has(u)}n.forEach=function(a,u){ai(this),this.g.forEach(function(h,m){h.forEach(function(C){a.call(u,C,m,this)},this)},this)},n.na=function(){ai(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let m=0;m<u.length;m++){let C=a[m];for(let x=0;x<C.length;x++)h.push(u[m])}return h},n.V=function(a){ai(this);let u=[];if(typeof a=="string")Av(this,a)&&(u=u.concat(this.g.get(Rr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)u=u.concat(a[h])}return u},n.set=function(a,u){return ai(this),this.i=null,a=Rr(this,a),Av(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},n.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function Cv(a,u,h){Tv(a,u),0<h.length&&(a.i=null,a.g.set(Rr(a,u),k(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var m=u[h];let x=encodeURIComponent(String(m)),N=this.V(m);for(m=0;m<N.length;m++){var C=x;N[m]!==""&&(C+="="+encodeURIComponent(String(N[m]))),a.push(C)}}return this.i=a.join("&")};function Rr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function uC(a,u){u&&!a.j&&(ai(a),a.i=null,a.g.forEach(function(h,m){var C=m.toLowerCase();m!=C&&(Tv(this,m),Cv(this,C,h))},a)),a.j=u}function dC(a,u){let h=new to;if(c.Image){let m=new Image;m.onload=A(ci,h,"TestLoadImage: loaded",!0,u,m),m.onerror=A(ci,h,"TestLoadImage: error",!1,u,m),m.onabort=A(ci,h,"TestLoadImage: abort",!1,u,m),m.ontimeout=A(ci,h,"TestLoadImage: timeout",!1,u,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function hC(a,u){let h=new to,m=new AbortController,C=setTimeout(()=>{m.abort(),ci(h,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(x=>{clearTimeout(C),x.ok?ci(h,"TestPingServer: ok",!0,u):ci(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(C),ci(h,"TestPingServer: error",!1,u)})}function ci(a,u,h,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(h)}catch{}}function fC(){this.g=new YA}function mC(a,u,h){let m=h||"";try{bv(a,function(C,x){let N=C;d(C)&&(N=Ud(C)),u.push(m+x+"="+encodeURIComponent(N))})}catch(C){throw u.push(m+"type="+encodeURIComponent("_badmap")),C}}function oo(a){this.l=a.Ub||null,this.j=a.eb||!1}D(oo,Bd),oo.prototype.g=function(){return new _c(this.l,this.j)},oo.prototype.i=function(a){return function(){return a}}({});function _c(a,u){pt.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(_c,pt),n=_c.prototype,n.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,co(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?ao(this):co(this),this.readyState==3&&Sv(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ao(this))},n.Qa=function(a){this.g&&(this.response=a,ao(this))},n.ga=function(){this.g&&ao(this)};function ao(a){a.readyState=4,a.l=null,a.j=null,a.v=null,co(a)}n.setRequestHeader=function(a,u){this.u.append(a,u)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=u.next();return a.join(`\r
`)};function co(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(_c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function xv(a){let u="";return me(a,function(h,m){u+=m,u+=":",u+=h,u+=`\r
`}),u}function Qd(a,u,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=xv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Re(a,u,h))}function Le(a){pt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Le,pt);var pC=/^https?$/i,gC=["POST","PUT"];n=Le.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,u,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$d.g(),this.v=this.o?iv(this.o):iv($d),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(x){Rv(this,x);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)h.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let x of m.keys())h.set(x,m.get(x));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(x=>x.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(gC,u,void 0))||m||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,N]of h)this.g.setRequestHeader(x,N);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pv(this),this.u=!0,this.g.send(a),this.u=!1}catch(x){Rv(this,x)}};function Rv(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,Dv(a),vc(a)}function Dv(a){a.A||(a.A=!0,It(a,"complete"),It(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,It(this,"complete"),It(this,"abort"),vc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vc(this,!0)),Le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?kv(this):this.bb())},n.bb=function(){kv(this)};function kv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Fn(a)!=4||a.Z()!=2)){if(a.u&&Fn(a)==4)Z_(a.Ea,0,a);else if(It(a,"readystatechange"),Fn(a)==4){a.h=!1;try{let N=a.Z();e:switch(N){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var h;if(!(h=u)){var m;if(m=N===0){var C=String(a.D).match(wv)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),m=!pC.test(C?C.toLowerCase():"")}h=m}if(h)It(a,"complete"),It(a,"success");else{a.m=6;try{var x=2<Fn(a)?a.g.statusText:""}catch{x=""}a.l=x+" ["+a.Z()+"]",Dv(a)}}finally{vc(a)}}}}function vc(a,u){if(a.g){Pv(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||It(a,"ready");try{h.onreadystatechange=m}catch{}}}function Pv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Fn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),KA(u)}};function Ov(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function _C(a){let u={};a=(a.g&&2<=Fn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(Q(a[m]))continue;var h=T(a[m]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let x=u[C]||[];u[C]=x,x.push(h)}I(u,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lo(a,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||u}function Mv(a){this.Aa=0,this.i=[],this.j=new to,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,a),this.cb=lo("retryDelaySeedMs",1e4,a),this.Wa=lo("forwardChannelMaxRetries",2,a),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new pv(a&&a.concurrentRequestLimit),this.Da=new fC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Mv.prototype,n.la=8,n.G=1,n.connect=function(a,u,h,m){Tt(0),this.W=a,this.H=u||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=$v(this,null,this.W),bc(this)};function Xd(a){if(Nv(a),a.G==3){var u=a.U++,h=Nn(a.I);if(Re(h,"SID",a.K),Re(h,"RID",u),Re(h,"TYPE","terminate"),uo(a,h),u=new oi(a,a.j,u),u.L=2,u.v=gc(Nn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=u.v,h=!0),h||(u.g=qv(u.j,null),u.g.ea(u.v)),u.F=Date.now(),fc(u)}zv(a)}function yc(a){a.g&&(Zd(a),a.g.cancel(),a.g=null)}function Nv(a){yc(a),a.u&&(c.clearTimeout(a.u),a.u=null),wc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function bc(a){if(!gv(a.h)&&!a.s){a.s=!0;var u=a.Ga;Gs||G_(),Ks||(Gs(),Ks=!0),Dd.add(u,a),a.B=0}}function vC(a,u){return _v(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=eo(y(a.Ga,a,u),jv(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new oi(this,this.j,a),x=this.o;if(this.S&&(x?(x=_(x),E(x,this.S)):x=this.S),this.m!==null||this.O||(C.H=x,x=null),this.P)e:{for(var u=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=h;break e}if(u===4096||h===this.i.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=Vv(this,C,u),h=Nn(this.I),Re(h,"RID",a),Re(h,"CVER",22),this.D&&Re(h,"X-HTTP-Session-Id",this.D),uo(this,h),x&&(this.O?u="headers="+encodeURIComponent(String(xv(x)))+"&"+u:this.m&&Qd(h,this.m,x)),Yd(this.h,C),this.Ua&&Re(h,"TYPE","init"),this.P?(Re(h,"$req",u),Re(h,"SID","null"),C.T=!0,Hd(C,h,null)):Hd(C,h,u),this.G=2}}else this.G==3&&(a?Fv(this,a):this.i.length==0||gv(this.h)||Fv(this))};function Fv(a,u){var h;u?h=u.l:h=a.U++;let m=Nn(a.I);Re(m,"SID",a.K),Re(m,"RID",h),Re(m,"AID",a.T),uo(a,m),a.m&&a.o&&Qd(m,a.m,a.o),h=new oi(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Vv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Yd(a.h,h),Hd(h,m,u)}function uo(a,u){a.H&&me(a.H,function(h,m){Re(u,m,h)}),a.l&&bv({},function(h,m){Re(u,m,h)})}function Vv(a,u,h){h=Math.min(a.i.length,h);var m=a.l?y(a.l.Na,a.l,a):null;e:{var C=a.i;let x=-1;for(;;){let N=["count="+h];x==-1?0<h?(x=C[0].g,N.push("ofs="+x)):x=0:N.push("ofs="+x);let Te=!0;for(let lt=0;lt<h;lt++){let fe=C[lt].g,gt=C[lt].map;if(fe-=x,0>fe)x=Math.max(0,C[lt].g-100),Te=!1;else try{mC(gt,N,"req"+fe+"_")}catch{m&&m(gt)}}if(Te){m=N.join("&");break e}}}return a=a.i.splice(0,h),u.D=a,m}function Lv(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;Gs||G_(),Ks||(Gs(),Ks=!0),Dd.add(u,a),a.v=0}}function Jd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=eo(y(a.Fa,a),jv(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,Uv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=eo(y(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),yc(this),Uv(this))};function Zd(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Uv(a){a.g=new oi(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=Nn(a.qa);Re(u,"RID","rpc"),Re(u,"SID",a.K),Re(u,"AID",a.T),Re(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Re(u,"TO",a.ja),Re(u,"TYPE","xmlhttp"),uo(a,u),a.m&&a.o&&Qd(u,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=gc(Nn(u)),h.m=null,h.P=!0,hv(h,a)}n.Za=function(){this.C!=null&&(this.C=null,yc(this),Jd(this),Tt(19))};function wc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Bv(a,u){var h=null;if(a.g==u){wc(a),Zd(a),a.g=null;var m=2}else if(Kd(a.h,u))h=u.D,vv(a.h,u),m=1;else return;if(a.G!=0){if(u.o)if(m==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var C=a.B;m=uc(),It(m,new cv(m,h)),bc(a)}else Lv(a);else if(C=u.s,C==3||C==0&&0<u.X||!(m==1&&vC(a,u)||m==2&&Jd(a)))switch(h&&0<h.length&&(u=a.h,u.i=u.i.concat(h)),C){case 1:qi(a,5);break;case 4:qi(a,10);break;case 3:qi(a,6);break;default:qi(a,2)}}}function jv(a,u){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*u}function qi(a,u){if(a.j.info("Error code "+u),u==2){var h=y(a.fb,a),m=a.Xa;let C=!m;m=new $i(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||mc(m,"https"),gc(m),C?dC(m.toString(),h):hC(m.toString(),h)}else Tt(2);a.G=0,a.l&&a.l.sa(u),zv(a),Nv(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function zv(a){if(a.G=0,a.ka=[],a.l){let u=yv(a.h);(u.length!=0||a.i.length!=0)&&(R(a.ka,u),R(a.ka,a.i),a.h.i.length=0,k(a.i),a.i.length=0),a.l.ra()}}function $v(a,u,h){var m=h instanceof $i?Nn(h):new $i(h);if(m.g!="")u&&(m.g=u+"."+m.g),pc(m,m.s);else{var C=c.location;m=C.protocol,u=u?u+"."+C.hostname:C.hostname,C=+C.port;var x=new $i(null);m&&mc(x,m),u&&(x.g=u),C&&pc(x,C),h&&(x.l=h),m=x}return h=a.D,u=a.ya,h&&u&&Re(m,h,u),Re(m,"VER",a.la),uo(a,m),m}function qv(a,u,h){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Le(new oo({eb:h})):new Le(a.pa),u.Ha(a.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hv(){}n=Hv.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ec(){}Ec.prototype.g=function(a,u){return new Mt(a,u)};function Mt(a,u){pt.call(this),this.g=new Mv(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!Q(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!Q(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new Dr(this)}D(Mt,pt),Mt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){Xd(this.g)},Mt.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Ud(a),a=h);u.i.push(new tC(u.Ya++,a)),u.G==3&&bc(u)},Mt.prototype.N=function(){this.g.l=null,delete this.j,Xd(this.g),delete this.g,Mt.aa.N.call(this)};function Wv(a){jd.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(let h in u){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}D(Wv,jd);function Gv(){zd.call(this),this.status=1}D(Gv,zd);function Dr(a){this.g=a}D(Dr,Hv),Dr.prototype.ua=function(){It(this.g,"a")},Dr.prototype.ta=function(a){It(this.g,new Wv(a))},Dr.prototype.sa=function(a){It(this.g,new Gv)},Dr.prototype.ra=function(){It(this.g,"b")},Ec.prototype.createWebChannel=Ec.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,Vp=Jn.createWebChannelTransport=function(){return new Ec},Fp=Jn.getStatEventTarget=function(){return uc()},Np=Jn.Event=ji,xu=Jn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dc.NO_ERROR=0,dc.TIMEOUT=8,dc.HTTP_ERROR=6,Ma=Jn.ErrorCode=dc,lv.COMPLETE="complete",Mp=Jn.EventType=lv,rv.EventType=Js,Js.OPEN="a",Js.CLOSE="b",Js.ERROR="c",Js.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Is=Jn.WebChannel=rv,eF=Jn.FetchXmlHttpFactory=oo,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,Op=Jn.XhrIo=Le}).apply(typeof Su<"u"?Su:typeof self<"u"?self:typeof window<"u"?window:{});var N0="@firebase/firestore";var ot=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var zs="11.2.0";var br=new In("@firebase/firestore");function Ts(){return br.logLevel}function U(n,...t){if(br.logLevel<=ae.DEBUG){let e=t.map(E_);br.debug(`Firestore (${zs}): ${n}`,...e)}}function Zn(n,...t){if(br.logLevel<=ae.ERROR){let e=t.map(E_);br.error(`Firestore (${zs}): ${n}`,...e)}}function ks(n,...t){if(br.logLevel<=ae.WARN){let e=t.map(E_);br.warn(`Firestore (${zs}): ${n}`,...e)}}function E_(n){if(typeof n=="string")return n;try{return function(e){return JSON.stringify(e)}(n)}catch{return n}}function Y(n="Unexpected state"){let t=`FIRESTORE (${zs}) INTERNAL ASSERTION FAILED: `+n;throw Zn(t),new Error(t)}function _e(n,t){n||Y()}function X(n,t){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},L=class extends qt{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var mn=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var Nu=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},zp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ot.UNAUTHENTICATED))}shutdown(){}},$p=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},qp=class{constructor(t){this.t=t,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_e(this.o===void 0);let i=this.i,r=l=>this.i!==i?(i=this.i,e(l)):Promise.resolve(),s=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mn,t.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;t.enqueueRetryable(()=>v(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mn)}},0),o()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string"),new Nu(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string"),new ot(t)}},Hp=class{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},Wp=class{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new Hp(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gp=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Kp=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){_e(this.o===void 0);let i=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};let r=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(_e(typeof e.token=="string"),this.R=e.token,new Gp(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function tF(n){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}var Fu=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,i="";for(;i.length<20;){let r=tF(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}};function le(n,t){return n<t?-1:n>t?1:0}function Ps(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}var ft=class n{static now(){return n.fromMillis(Date.now())}static fromDate(t){return n.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new n(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new L(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new L(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new L(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new L(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?le(this.nanoseconds,t.nanoseconds):le(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var J=class n{static fromTimestamp(t){return new n(t)}static min(){return new n(new ft(0,0))}static max(){return new n(new ft(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vu=class n{constructor(t,e,i){e===void 0?e=0:e>t.length&&Y(),i===void 0?i=t.length-e:i>t.length-e&&Y(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return n.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof n?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let i=Math.min(t.length,e.length);for(let r=0;r<i;r++){let s=n.compareSegments(t.get(r),e.get(r));if(s!==0)return s}return Math.sign(t.length-e.length)}static compareSegments(t,e){let i=n.isNumericId(t),r=n.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?n.extractNumericId(t).compare(n.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xn.fromString(t.substring(4,t.length-2))}},Ve=class n extends Vu{construct(t,e,i){return new n(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let i of t){if(i.indexOf("//")>=0)throw new L(P.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new n(e)}static emptyPath(){return new n([])}},nF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wt=class n extends Vu{construct(t,e,i){return new n(t,e,i)}static isValidIdentifier(t){return nF.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(t){let e=[],i="",r=0,s=()=>{if(i.length===0)throw new L(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""},o=!1;for(;r<t.length;){let c=t[r];if(c==="\\"){if(r+1===t.length)throw new L(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new L(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(i+=c,r++):(s(),r++)}if(s(),o)throw new L(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new n(e)}static emptyPath(){return new n([])}};var W=class n{constructor(t){this.path=t}static fromPath(t){return new n(Ve.fromString(t))}static fromName(t){return new n(Ve.fromString(t).popFirst(5))}static empty(){return new n(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ve.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ve.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new n(new Ve(t.slice()))}};var Yp=class{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}};Yp.UNKNOWN_ID=-1;function iF(n,t){let e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=J.fromTimestamp(i===1e9?new ft(e+1,0):new ft(e,i));return new wr(r,W.empty(),t)}function rF(n){return new wr(n.readTime,n.key,-1)}var wr=class n{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new n(J.min(),W.empty(),-1)}static max(){return new n(J.max(),W.empty(),-1)}};function sF(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=W.comparator(n.documentKey,t.documentKey),e!==0?e:le(n.largestBatchId,t.largestBatchId))}var oF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function $s(n){return v(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==oF)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof n?e:n.resolve(e)}catch(e){return n.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):n.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):n.reject(e)}static resolve(t){return new n((e,i)=>{e(t)})}static reject(t){return new n((e,i)=>{i(t)})}static waitFor(t){return new n((e,i)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},l=>i(l))}),o=!0,s===r&&e()})}static or(t){let e=n.resolve(!1);for(let i of t)e=e.next(r=>r?n.resolve(r):i());return e}static forEach(t,e){let i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new n((i,r)=>{let s=t.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let d=l;e(t[d]).next(f=>{o[d]=f,++c,c===s&&i(o)},f=>r(f))}})}static doWhile(t,e){return new n((i,r)=>{let s=()=>{t()===!0?e().next(()=>{s()},r):i()};s()})}};function aF(n){let t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function qs(n){return n.name==="IndexedDbTransactionError"}var I_=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function gd(n){return n==null}function Ba(n){return n===0&&1/n==-1/0}function cF(n){return typeof n=="number"&&Number.isInteger(n)&&!Ba(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function lF(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=F0(t)),t=uF(n.get(e),t);return F0(t)}function uF(n,t){let e=t,i=n.length;for(let r=0;r<i;r++){let s=n.charAt(r);switch(s){case"\0":e+="";break;case"":e+="";break;default:e+=s}}return e}function F0(n){return n+""}var dF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],m4=[...dF,"documentOverlays"],hF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fF=hF,mF=[...fF,"indexConfiguration","indexState","indexEntries"];var p4=[...mF,"globals"];function V0(n){let t=0;for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Bi(n,t){for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function _T(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}var ze=class n{constructor(t,e){this.comparator=t,this.root=e||xn.EMPTY}insert(t,e){return new n(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(t){return new n(this.comparator,this.root.remove(t,this.comparator).copy(null,null,xn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){let t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xs(this.root,t,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xs(this.root,t,this.comparator,!0)}},xs=class{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},xn=class n{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new n(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this,s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let t=this.left.check();if(t!==this.right.check())throw Y();return t+(this.isRed()?0:1)}};xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(t,e,i,r,s){return this}insert(t,e,i){return new xn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class n{constructor(t){this.comparator=t,this.data=new ze(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){let i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Lu(this.data.getIterator())}getIteratorFrom(t){return new Lu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){let r=e.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new n(this.comparator);return e.data=t,e}},Lu=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var en=class n{constructor(t){this.fields=t,t.sort(Wt.comparator)}static empty(){return new n([])}unionWith(t){let e=new at(Wt.comparator);for(let i of this.fields)e=e.add(i);for(let i of t)e=e.add(i);return new n(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ps(this.fields,t.fields,(e,i)=>e.isEqual(i))}};var Uu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class n{constructor(t){this.binaryString=t}static fromBase64String(t){let e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Uu("Invalid base64 string: "+s):s}}(t);return new n(e)}static fromUint8Array(t){let e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new n(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return le(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var pF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(n){if(_e(!!n),typeof n=="string"){let t=0,e=pF.exec(n);if(_e(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ti(n){return typeof n=="string"?Et.fromBase64String(n):Et.fromUint8Array(n)}function T_(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function _d(n){let t=n.mapValue.fields.__previous_value__;return T_(t)?_d(t):t}function ja(n){let t=ei(n.mapValue.fields.__local_write_time__.timestampValue);return new ft(t.seconds,t.nanos)}var Xp=class{constructor(t,e,i,r,s,o,c,l,d){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d}},Bu=class n{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof n&&t.projectId===this.projectId&&t.database===this.database}};var Ru={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?T_(n)?4:yT(n)?9007199254740991:vT(n)?10:11:Y()}function Pn(n,t){if(n===t)return!0;let e=Vi(n);if(e!==Vi(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ja(n).isEqual(ja(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=ei(r.timestampValue),c=ei(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,s){return ti(r.bytesValue).isEqual(ti(s.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,s){return Oe(r.geoPointValue.latitude)===Oe(s.geoPointValue.latitude)&&Oe(r.geoPointValue.longitude)===Oe(s.geoPointValue.longitude)}(n,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Oe(r.integerValue)===Oe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Oe(r.doubleValue),c=Oe(s.doubleValue);return o===c?Ba(o)===Ba(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return Ps(n.arrayValue.values||[],t.arrayValue.values||[],Pn);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(V0(o)!==V0(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!Pn(o[l],c[l])))return!1;return!0}(n,t);default:return Y()}}function za(n,t){return(n.values||[]).find(e=>Pn(e,t))!==void 0}function Os(n,t){if(n===t)return 0;let e=Vi(n),i=Vi(t);if(e!==i)return le(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return le(n.booleanValue,t.booleanValue);case 2:return function(s,o){let c=Oe(s.integerValue||s.doubleValue),l=Oe(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(n,t);case 3:return L0(n.timestampValue,t.timestampValue);case 4:return L0(ja(n),ja(t));case 5:return le(n.stringValue,t.stringValue);case 6:return function(s,o){let c=ti(s),l=ti(o);return c.compareTo(l)}(n.bytesValue,t.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let d=0;d<c.length&&d<l.length;d++){let f=le(c[d],l[d]);if(f!==0)return f}return le(c.length,l.length)}(n.referenceValue,t.referenceValue);case 8:return function(s,o){let c=le(Oe(s.latitude),Oe(o.latitude));return c!==0?c:le(Oe(s.longitude),Oe(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return U0(n.arrayValue,t.arrayValue);case 10:return function(s,o){var c,l,d,f;let p=s.fields||{},y=o.fields||{},A=(c=p.value)===null||c===void 0?void 0:c.arrayValue,D=(l=y.value)===null||l===void 0?void 0:l.arrayValue,k=le(((d=A?.values)===null||d===void 0?void 0:d.length)||0,((f=D?.values)===null||f===void 0?void 0:f.length)||0);return k!==0?k:U0(A,D)}(n.mapValue,t.mapValue);case 11:return function(s,o){if(s===Ru.mapValue&&o===Ru.mapValue)return 0;if(s===Ru.mapValue)return 1;if(o===Ru.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),d=o.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let y=le(l[p],f[p]);if(y!==0)return y;let A=Os(c[l[p]],d[f[p]]);if(A!==0)return A}return le(l.length,f.length)}(n.mapValue,t.mapValue);default:throw Y()}}function L0(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return le(n,t);let e=ei(n),i=ei(t),r=le(e.seconds,i.seconds);return r!==0?r:le(e.nanos,i.nanos)}function U0(n,t){let e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){let s=Os(e[r],i[r]);if(s)return s}return le(e.length,i.length)}function Ms(n){return Jp(n)}function Jp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){let i=ei(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return ti(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return W.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(let s of e.values||[])r?r=!1:i+=",",i+=Jp(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){let i=Object.keys(e.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Jp(e.fields[o])}`;return r+"}"}(n.mapValue):Y()}function Pu(n){switch(Vi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=_d(n);return t?16+Pu(t):16;case 5:return 2*n.stringValue.length;case 6:return ti(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Pu(s),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return Bi(i.fields,(s,o)=>{r+=s.length+Pu(o)}),r}(n.mapValue);default:throw Y()}}function B0(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Zp(n){return!!n&&"integerValue"in n}function A_(n){return!!n&&"arrayValue"in n}function j0(n){return!!n&&"nullValue"in n}function z0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ou(n){return!!n&&"mapValue"in n}function vT(n){var t,e;return((e=(((t=n?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function Fa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let t={mapValue:{fields:{}}};return Bi(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Fa(i)),t}if(n.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Fa(n.arrayValue.values[e]);return t}return Object.assign({},n)}function yT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ht=class n{constructor(t){this.value=t}static empty(){return new n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ou(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fa(e)}setAll(t){let e=Wt.emptyPath(),i={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){let l=this.getFieldsMap(e);this.applyChanges(l,i,r),i={},r=[],e=c.popLast()}o?i[c.lastSegment()]=Fa(o):r.push(c.lastSegment())});let s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){let e=this.field(t.popLast());Ou(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Pn(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Ou(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Bi(e,(r,s)=>t[r]=s);for(let r of i)delete t[r]}clone(){return new n(Fa(this.value))}};function bT(n){let t=[];return Bi(n.fields,(e,i)=>{let r=new Wt([e]);if(Ou(i)){let s=bT(i.mapValue).fields;if(s.length===0)t.push(r);else for(let o of s)t.push(r.child(o))}else t.push(r)}),new en(t)}var pn=class n{constructor(t,e,i,r,s,o,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new n(t,0,J.min(),J.min(),J.min(),Ht.empty(),0)}static newFoundDocument(t,e,i,r){return new n(t,1,e,J.min(),i,r,0)}static newNoDocument(t,e){return new n(t,2,e,J.min(),J.min(),Ht.empty(),0)}static newUnknownDocument(t,e){return new n(t,3,e,J.min(),J.min(),Ht.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ns=class{constructor(t,e){this.position=t,this.inclusive=e}};function $0(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){let s=t[r],o=n.position[r];if(s.field.isKeyField()?i=W.comparator(W.fromName(o.referenceValue),e.key):i=Os(o,e.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function q0(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Pn(n.position[e],t.position[e]))return!1;return!0}var Er=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function gF(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}var ju=class{},et=class n extends ju{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new tg(t,e,i):e==="array-contains"?new rg(t,i):e==="in"?new sg(t,i):e==="not-in"?new og(t,i):e==="array-contains-any"?new ag(t,i):new n(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new ng(t,i):new ig(t,i)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Os(e,this.value)):e!==null&&Vi(this.value)===Vi(e)&&this.matchesComparison(Os(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},gn=class n extends ju{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new n(t,e)}matches(t){return wT(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function wT(n){return n.op==="and"}function ET(n){return _F(n)&&wT(n)}function _F(n){for(let t of n.filters)if(t instanceof gn)return!1;return!0}function eg(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+Ms(n.value);if(ET(n))return n.filters.map(t=>eg(t)).join(",");{let t=n.filters.map(e=>eg(e)).join(",");return`${n.op}(${t})`}}function IT(n,t){return n instanceof et?function(i,r){return r instanceof et&&i.op===r.op&&i.field.isEqual(r.field)&&Pn(i.value,r.value)}(n,t):n instanceof gn?function(i,r){return r instanceof gn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,c)=>s&&IT(o,r.filters[c]),!0):!1}(n,t):void Y()}function TT(n){return n instanceof et?function(e){return`${e.field.canonicalString()} ${e.op} ${Ms(e.value)}`}(n):n instanceof gn?function(e){return e.op.toString()+" {"+e.getFilters().map(TT).join(" ,")+"}"}(n):"Filter"}var tg=class extends et{constructor(t,e,i){super(t,e,i),this.key=W.fromName(i.referenceValue)}matches(t){let e=W.comparator(t.key,this.key);return this.matchesComparison(e)}},ng=class extends et{constructor(t,e){super(t,"in",e),this.keys=AT("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},ig=class extends et{constructor(t,e){super(t,"not-in",e),this.keys=AT("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function AT(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>W.fromName(i.referenceValue))}var rg=class extends et{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return A_(e)&&za(e.arrayValue,this.value)}},sg=class extends et{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&za(this.value.arrayValue,e)}},og=class extends et{constructor(t,e){super(t,"not-in",e)}matches(t){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&!za(this.value.arrayValue,e)}},ag=class extends et{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!A_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>za(this.value.arrayValue,i))}};var cg=class{constructor(t,e=null,i=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function H0(n,t=null,e=[],i=[],r=null,s=null,o=null){return new cg(n,t,e,i,r,s,o)}function C_(n){let t=X(n);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>eg(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),gd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Ms(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Ms(i)).join(",")),t.ue=e}return t.ue}function S_(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!gF(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!IT(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!q0(n.startAt,t.startAt)&&q0(n.endAt,t.endAt)}function lg(n){return W.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Li=class{constructor(t,e=null,i=[],r=[],s=null,o="F",c=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function vF(n,t,e,i,r,s,o,c){return new Li(n,t,e,i,r,s,o,c)}function vd(n){return new Li(n)}function W0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CT(n){return n.collectionGroup!==null}function Va(n){let t=X(n);if(t.ce===null){t.ce=[];let e=new Set;for(let s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());let i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new at(Wt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Er(s,i))}),e.has(Wt.keyField().canonicalString())||t.ce.push(new Er(Wt.keyField(),i))}return t.ce}function Rn(n){let t=X(n);return t.le||(t.le=yF(t,Va(n))),t.le}function yF(n,t){if(n.limitType==="F")return H0(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Er(r.field,s)});let e=n.endAt?new Ns(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ns(n.startAt.position,n.startAt.inclusive):null;return H0(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function ug(n,t){let e=n.filters.concat([t]);return new Li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function zu(n,t,e){return new Li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function yd(n,t){return S_(Rn(n),Rn(t))&&n.limitType===t.limitType}function ST(n){return`${C_(Rn(n))}|lt:${n.limitType}`}function As(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>TT(r)).join(", ")}]`),gd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Ms(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Ms(r)).join(",")),`Target(${i})`}(Rn(n))}; limitType=${n.limitType})`}function bd(n,t){return t.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):W.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,t)&&function(i,r){for(let s of Va(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,t)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(o,c,l){let d=$0(o,c,l);return o.inclusive?d<=0:d<0}(i.startAt,Va(i),r)||i.endAt&&!function(o,c,l){let d=$0(o,c,l);return o.inclusive?d>=0:d>0}(i.endAt,Va(i),r))}(n,t)}function bF(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function xT(n){return(t,e)=>{let i=!1;for(let r of Va(n)){let s=wF(r,t,e);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function wF(n,t,e){let i=n.field.isKeyField()?W.comparator(t.key,e.key):function(s,o,c){let l=o.data.field(s),d=c.data.field(s);return l!==null&&d!==null?Os(l,d):Y()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Y()}}var ni=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){let i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Bi(this.inner,(e,i)=>{for(let[r,s]of i)t(r,s)})}isEmpty(){return _T(this.inner)}size(){return this.innerSize}};var EF=new ze(W.comparator);function ii(){return EF}var RT=new ze(W.comparator);function Na(...n){let t=RT;for(let e of n)t=t.insert(e.key,e);return t}function DT(n){let t=RT;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function _r(){return La()}function kT(){return La()}function La(){return new ni(n=>n.toString(),(n,t)=>n.isEqual(t))}var IF=new ze(W.comparator),TF=new at(W.comparator);function ce(...n){let t=TF;for(let e of n)t=t.add(e);return t}var AF=new at(le);function CF(){return AF}function x_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ba(t)?"-0":t}}function PT(n){return{integerValue:""+n}}function SF(n,t){return cF(t)?PT(t):x_(n,t)}var Fs=class{constructor(){this._=void 0}};function xF(n,t,e){return n instanceof Vs?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&T_(s)&&(s=_d(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):n instanceof Ir?MT(n,t):n instanceof Tr?NT(n,t):function(r,s){let o=OT(r,s),c=G0(o)+G0(r.Pe);return Zp(o)&&Zp(r.Pe)?PT(c):x_(r.serializer,c)}(n,t)}function RF(n,t,e){return n instanceof Ir?MT(n,t):n instanceof Tr?NT(n,t):e}function OT(n,t){return n instanceof Ls?function(i){return Zp(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}var Vs=class extends Fs{},Ir=class extends Fs{constructor(t){super(),this.elements=t}};function MT(n,t){let e=FT(t);for(let i of n.elements)e.some(r=>Pn(r,i))||e.push(i);return{arrayValue:{values:e}}}var Tr=class extends Fs{constructor(t){super(),this.elements=t}};function NT(n,t){let e=FT(t);for(let i of n.elements)e=e.filter(r=>!Pn(r,i));return{arrayValue:{values:e}}}var Ls=class extends Fs{constructor(t,e){super(),this.serializer=t,this.Pe=e}};function G0(n){return Oe(n.integerValue||n.doubleValue)}function FT(n){return A_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DF(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Ir&&r instanceof Ir||i instanceof Tr&&r instanceof Tr?Ps(i.elements,r.elements,Pn):i instanceof Ls&&r instanceof Ls?Pn(i.Pe,r.Pe):i instanceof Vs&&r instanceof Vs}(n.transform,t.transform)}var dg=class{constructor(t,e){this.version=t,this.transformResults=e}},Dn=class n{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new n}static exists(t){return new n(void 0,t)}static updateTime(t){return new n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function Mu(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}var Us=class{};function VT(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new $a(n.key,Dn.none()):new Ar(n.key,n.data,Dn.none());{let e=n.data,i=Ht.empty(),r=new at(Wt.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new On(n.key,i,new en(r.toArray()),Dn.none())}}function kF(n,t,e){n instanceof Ar?function(r,s,o){let c=r.value.clone(),l=Y0(r.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof On?function(r,s,o){if(!Mu(r.precondition,s))return void s.convertToUnknownDocument(o.version);let c=Y0(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(LT(r)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function Ua(n,t,e,i){return n instanceof Ar?function(s,o,c,l){if(!Mu(s.precondition,o))return c;let d=s.value.clone(),f=Q0(s.fieldTransforms,l,o);return d.setAll(f),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof On?function(s,o,c,l){if(!Mu(s.precondition,o))return c;let d=Q0(s.fieldTransforms,l,o),f=o.data;return f.setAll(LT(s)),f.setAll(d),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,t,e,i):function(s,o,c){return Mu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(n,t,e)}function PF(n,t){let e=null;for(let i of n.fieldTransforms){let r=t.data.field(i.field),s=OT(i.transform,r||null);s!=null&&(e===null&&(e=Ht.empty()),e.set(i.field,s))}return e||null}function K0(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ps(i,r,(s,o)=>DF(s,o))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}var Ar=class extends Us{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},On=class extends Us{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function LT(n){let t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let i=n.data.field(e);t.set(e,i)}}),t}function Y0(n,t,e){let i=new Map;_e(n.length===e.length);for(let r=0;r<e.length;r++){let s=n[r],o=s.transform,c=t.data.field(s.field);i.set(s.field,RF(o,c,e[r]))}return i}function Q0(n,t,e){let i=new Map;for(let r of n){let s=r.transform,o=e.data.field(r.field);i.set(r.field,xF(s,o,t))}return i}var $a=class extends Us{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},hg=class extends Us{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var fg=class{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){let i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(t.key)&&kF(s,t,i[r])}}applyToLocalView(t,e){for(let i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ua(i,t,e,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(t.key)&&(e=Ua(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let i=kT();return this.mutations.forEach(r=>{let s=t.get(r.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;let l=VT(o,c);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ce())}isEqual(t){return this.batchId===t.batchId&&Ps(this.mutations,t.mutations,(e,i)=>K0(e,i))&&Ps(this.baseMutations,t.baseMutations,(e,i)=>K0(e,i))}},mg=class n{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){_e(t.mutations.length===i.length);let r=function(){return IF}(),s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(t,e,i,r)}};var pg=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var gg=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var Je,de;function OF(n){switch(n){default:return Y();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function UT(n){if(n===void 0)return Zn("GRPC error has no .code"),P.UNKNOWN;switch(n){case Je.OK:return P.OK;case Je.CANCELLED:return P.CANCELLED;case Je.UNKNOWN:return P.UNKNOWN;case Je.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Je.INTERNAL:return P.INTERNAL;case Je.UNAVAILABLE:return P.UNAVAILABLE;case Je.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Je.NOT_FOUND:return P.NOT_FOUND;case Je.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Je.ABORTED:return P.ABORTED;case Je.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Je.DATA_LOSS:return P.DATA_LOSS;default:return Y()}}(de=Je||(Je={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var X0=null;function MF(){return new TextEncoder}var NF=new Xn([4294967295,4294967295],0);function J0(n){let t=MF().encode(n),e=new Pp;return e.update(t),new Uint8Array(e.digest())}function Z0(n){let t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Xn([e,i],0),new Xn([r,s],0)]}var _g=class n{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new vr(`Invalid padding: ${e}`);if(i<0)throw new vr(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new vr(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new vr(`Invalid padding when bitmap length is 0: ${e}`);this.Te=8*t.length-e,this.Ie=Xn.fromNumber(this.Te)}de(t,e,i){let r=t.add(e.multiply(Xn.fromNumber(i)));return r.compare(NF)===1&&(r=new Xn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}Ee(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;let e=J0(t),[i,r]=Z0(e);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);if(!this.Ee(o))return!1}return!0}static create(t,e,i){let r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new n(s,r,e);return i.forEach(c=>o.insert(c)),o}insert(t){if(this.Te===0)return;let e=J0(t),[i,r]=Z0(e);for(let s=0;s<this.hashCount;s++){let o=this.de(i,r,s);this.Ae(o)}}Ae(t){let e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}},vr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var $u=class n{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,i){let r=new Map;return r.set(t,qa.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new n(J.min(),r,new ze(le),ii(),ce())}},qa=class n{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new n(i,e,ce(),ce(),ce())}};var Rs=class{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}},qu=class{constructor(t,e){this.targetId=t,this.me=e}},Hu=class{constructor(t,e,i=Et.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}},Wu=class{constructor(){this.fe=0,this.ge=eT(),this.pe=Et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=ce(),e=ce(),i=ce();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Y()}}),new qa(this.pe,this.ye,t,e,i)}Ce(){this.we=!1,this.ge=eT()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},vg=class{constructor(t){this.Be=t,this.Le=new Map,this.ke=ii(),this.qe=Du(),this.Qe=Du(),this.Ke=new ze(le)}$e(t){for(let e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.Ue(e,t.Ve):this.We(e,t.key,t.Ve);for(let e of t.removedTargetIds)this.We(e,t.key,t.Ve)}Ge(t){this.forEachTarget(t,e=>{let i=this.ze(e);switch(t.state){case 0:this.je(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.je(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.je(e)&&(this.He(e),i.De(t.resumeToken));break;default:Y()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Le.forEach((i,r)=>{this.je(r)&&e(r)})}Je(t){let e=t.targetId,i=t.me.count,r=this.Ye(e);if(r){let s=r.target;if(lg(s))if(i===0){let o=new W(s.path);this.We(e,o,pn.newNoDocument(o,J.min()))}else _e(i===1);else{let o=this.Ze(e);if(o!==i){let c=this.Xe(t),l=c?this.et(c,t,o):1;if(l!==0){this.He(e);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(e,d)}X0?.tt(function(f,p,y,A,D){var k,R,$,Q,j,ve;let ct={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},me=p.unchangedNames;return me&&(ct.bloomFilter={applied:D===0,hashCount:(k=me?.hashCount)!==null&&k!==void 0?k:0,bitmapLength:(Q=($=(R=me?.bits)===null||R===void 0?void 0:R.bitmap)===null||$===void 0?void 0:$.length)!==null&&Q!==void 0?Q:0,padding:(ve=(j=me?.bits)===null||j===void 0?void 0:j.padding)!==null&&ve!==void 0?ve:0,mightContain:I=>{var _;return(_=A?.mightContain(I))!==null&&_!==void 0&&_}}),ct}(o,t.me,this.Be.nt(),c,l))}}}}Xe(t){let e=t.me.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=e,o,c;try{o=ti(i).toUint8Array()}catch(l){if(l instanceof Uu)return ks("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new _g(o,r,s)}catch(l){return ks(l instanceof vr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Te===0?null:c}et(t,e,i){return e.me.count===i-this.rt(t,e.targetId)?0:2}rt(t,e){let i=this.Be.getRemoteKeysForTarget(e),r=0;return i.forEach(s=>{let o=this.Be.nt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.We(e,s,null),r++)}),r}it(t){let e=new Map;this.Le.forEach((s,o)=>{let c=this.Ye(o);if(c){if(s.current&&lg(c.target)){let l=new W(c.target.path);this.st(l).has(o)||this.ot(o,l)||this.We(o,l,pn.newNoDocument(l,t))}s.be&&(e.set(o,s.ve()),s.Ce())}});let i=ce();this.Qe.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let d=this.Ye(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));let r=new $u(t,e,this.Ke,this.ke,i);return this.ke=ii(),this.qe=Du(),this.Qe=Du(),this.Ke=new ze(le),r}Ue(t,e){if(!this.je(t))return;let i=this.ot(t,e.key)?2:0;this.ze(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t)),this.Qe=this.Qe.insert(e.key,this._t(e.key).add(t))}We(t,e,i){if(!this.je(t))return;let r=this.ze(t);this.ot(t,e)?r.Fe(e,1):r.Me(e),this.Qe=this.Qe.insert(e,this._t(e).delete(t)),this.Qe=this.Qe.insert(e,this._t(e).add(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Le.delete(t)}Ze(t){let e=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.ze(t).xe()}ze(t){let e=this.Le.get(t);return e||(e=new Wu,this.Le.set(t,e)),e}_t(t){let e=this.Qe.get(t);return e||(e=new at(le),this.Qe=this.Qe.insert(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new at(le),this.qe=this.qe.insert(t,e)),e}je(t){let e=this.Ye(t)!==null;return e||U("WatchChangeAggregator","Detected inactive target",t),e}Ye(t){let e=this.Le.get(t);return e&&e.Se?null:this.Be.ut(t)}He(t){this.Le.set(t,new Wu),this.Be.getRemoteKeysForTarget(t).forEach(e=>{this.We(t,e,null)})}ot(t,e){return this.Be.getRemoteKeysForTarget(t).has(e)}};function Du(){return new ze(W.comparator)}function eT(){return new ze(W.comparator)}var FF={asc:"ASCENDING",desc:"DESCENDING"},VF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LF={and:"AND",or:"OR"},yg=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function bg(n,t){return n.useProto3Json||gd(t)?t:{value:t}}function Gu(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BT(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function UF(n,t){return Gu(n,t.toTimestamp())}function kn(n){return _e(!!n),J.fromTimestamp(function(e){let i=ei(e);return new ft(i.seconds,i.nanos)}(n))}function R_(n,t){return wg(n,t).canonicalString()}function wg(n,t){let e=function(r){return new Ve(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function jT(n){let t=Ve.fromString(n);return _e(WT(t)),t}function Eg(n,t){return R_(n.databaseId,t.path)}function Lp(n,t){let e=jT(t);if(e.get(1)!==n.databaseId.projectId)throw new L(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new L(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new W($T(e))}function zT(n,t){return R_(n.databaseId,t)}function BF(n){let t=jT(n);return t.length===4?Ve.emptyPath():$T(t)}function Ig(n){return new Ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $T(n){return _e(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function tT(n,t,e){return{name:Eg(n,t),fields:e.value.mapValue.fields}}function jF(n,t){let e;if("targetChange"in t){t.targetChange;let i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Y()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(d,f){return d.useProto3Json?(_e(f===void 0||typeof f=="string"),Et.fromBase64String(f||"")):(_e(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Et.fromUint8Array(f||new Uint8Array))}(n,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(d){let f=d.code===void 0?P.UNKNOWN:UT(d.code);return new L(f,d.message||"")}(o);e=new Hu(i,r,s,c||null)}else if("documentChange"in t){t.documentChange;let i=t.documentChange;i.document,i.document.name,i.document.updateTime;let r=Lp(n,i.document.name),s=kn(i.document.updateTime),o=i.document.createTime?kn(i.document.createTime):J.min(),c=new Ht({mapValue:{fields:i.document.fields}}),l=pn.newFoundDocument(r,s,o,c),d=i.targetIds||[],f=i.removedTargetIds||[];e=new Rs(d,f,l.key,l)}else if("documentDelete"in t){t.documentDelete;let i=t.documentDelete;i.document;let r=Lp(n,i.document),s=i.readTime?kn(i.readTime):J.min(),o=pn.newNoDocument(r,s),c=i.removedTargetIds||[];e=new Rs([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;let i=t.documentRemove;i.document;let r=Lp(n,i.document),s=i.removedTargetIds||[];e=new Rs([],s,r,null)}else{if(!("filter"in t))return Y();{t.filter;let i=t.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new gg(r,s),c=i.targetId;e=new qu(c,o)}}return e}function zF(n,t){let e;if(t instanceof Ar)e={update:tT(n,t.key,t.value)};else if(t instanceof $a)e={delete:Eg(n,t.key)};else if(t instanceof On)e={update:tT(n,t.key,t.data),updateMask:XF(t.fieldMask)};else{if(!(t instanceof hg))return Y();e={verify:Eg(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(s,o){let c=o.transform;if(c instanceof Vs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ir)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Tr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ls)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw Y()}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:UF(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(n,t.precondition)),e}function $F(n,t){return n&&n.length>0?(_e(t!==void 0),n.map(e=>function(r,s){let o=r.updateTime?kn(r.updateTime):kn(s);return o.isEqual(J.min())&&(o=kn(s)),new dg(o,r.transformResults||[])}(e,t))):[]}function qF(n,t){return{documents:[zT(n,t.path)]}}function HF(n,t){let e={structuredQuery:{}},i=t.path,r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=zT(n,r);let s=function(d){if(d.length!==0)return HT(gn.create(d,"and"))}(t.filters);s&&(e.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(f=>function(y){return{field:Cs(y.field),direction:KF(y.dir)}}(f))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);let c=bg(n,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ct:e,parent:r}}function WF(n){let t=BF(n.parent),e=n.structuredQuery,i=e.from?e.from.length:0,r=null;if(i>0){_e(i===1);let f=e.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let s=[];e.where&&(s=function(p){let y=qT(p);return y instanceof gn&&ET(y)?y.getFilters():[y]}(e.where));let o=[];e.orderBy&&(o=function(p){return p.map(y=>function(D){return new Er(Ss(D.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(y))}(e.orderBy));let c=null;e.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,gd(y)?null:y}(e.limit));let l=null;e.startAt&&(l=function(p){let y=!!p.before,A=p.values||[];return new Ns(A,y)}(e.startAt));let d=null;return e.endAt&&(d=function(p){let y=!p.before,A=p.values||[];return new Ns(A,y)}(e.endAt)),vF(t,r,o,s,c,"F",l,d)}function GF(n,t){let e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function qT(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":let i=Ss(e.unaryFilter.field);return et.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Ss(e.unaryFilter.field);return et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ss(e.unaryFilter.field);return et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ss(e.unaryFilter.field);return et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(n):n.fieldFilter!==void 0?function(e){return et.create(Ss(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return gn.create(e.compositeFilter.filters.map(i=>qT(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Y()}}(e.compositeFilter.op))}(n):Y()}function KF(n){return FF[n]}function YF(n){return VF[n]}function QF(n){return LF[n]}function Cs(n){return{fieldPath:n.canonicalString()}}function Ss(n){return Wt.fromServerFormat(n.fieldPath)}function HT(n){return n instanceof et?function(e){if(e.op==="=="){if(z0(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NAN"}};if(j0(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(z0(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NOT_NAN"}};if(j0(e.value))return{unaryFilter:{field:Cs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(e.field),op:YF(e.op),value:e.value}}}(n):n instanceof gn?function(e){let i=e.getFilters().map(r=>HT(r));return i.length===1?i[0]:{compositeFilter:{op:QF(e.op),filters:i}}}(n):Y()}function XF(n){let t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function WT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ha=class n{constructor(t,e,i,r,s=J.min(),o=J.min(),c=Et.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new n(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var Tg=class{constructor(t){this.ht=t}};function JF(n){let t=WF({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zu(t,t.limit,"L"):t}var Ku=class{constructor(){}dt(t,e){this.Et(t,e),e.At()}Et(t,e){if("nullValue"in t)this.Rt(e,5);else if("booleanValue"in t)this.Rt(e,10),e.Vt(t.booleanValue?1:0);else if("integerValue"in t)this.Rt(e,15),e.Vt(Oe(t.integerValue));else if("doubleValue"in t){let i=Oe(t.doubleValue);isNaN(i)?this.Rt(e,13):(this.Rt(e,15),Ba(i)?e.Vt(0):e.Vt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Rt(e,20),typeof i=="string"&&(i=ei(i)),e.ft(`${i.seconds||""}`),e.Vt(i.nanos||0)}else if("stringValue"in t)this.gt(t.stringValue,e),this.yt(e);else if("bytesValue"in t)this.Rt(e,30),e.wt(ti(t.bytesValue)),this.yt(e);else if("referenceValue"in t)this.St(t.referenceValue,e);else if("geoPointValue"in t){let i=t.geoPointValue;this.Rt(e,45),e.Vt(i.latitude||0),e.Vt(i.longitude||0)}else"mapValue"in t?yT(t)?this.Rt(e,Number.MAX_SAFE_INTEGER):vT(t)?this.bt(t.mapValue,e):(this.Dt(t.mapValue,e),this.yt(e)):"arrayValue"in t?(this.vt(t.arrayValue,e),this.yt(e)):Y()}gt(t,e){this.Rt(e,25),this.Ct(t,e)}Ct(t,e){e.ft(t)}Dt(t,e){let i=t.fields||{};this.Rt(e,55);for(let r of Object.keys(i))this.gt(r,e),this.Et(i[r],e)}bt(t,e){var i,r;let s=t.fields||{};this.Rt(e,53);let o="value",c=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.Rt(e,15),e.Vt(Oe(c)),this.gt(o,e),this.Et(s[o],e)}vt(t,e){let i=t.values||[];this.Rt(e,50);for(let r of i)this.Et(r,e)}St(t,e){this.Rt(e,37),W.fromName(t).path.forEach(i=>{this.Rt(e,60),this.Ct(i,e)})}Rt(t,e){t.Vt(e)}yt(t){t.Vt(2)}};Ku.Ft=new Ku;var Ag=class{constructor(){this.ln=new Cg}addToCollectionParentIndex(t,e){return this.ln.add(e),O.resolve()}getCollectionParents(t,e){return O.resolve(this.ln.getEntries(e))}addFieldIndex(t,e){return O.resolve()}deleteFieldIndex(t,e){return O.resolve()}deleteAllFieldIndexes(t){return O.resolve()}createTargetIndexes(t,e){return O.resolve()}getDocumentsMatchingTarget(t,e){return O.resolve(null)}getIndexType(t,e){return O.resolve(0)}getFieldIndexes(t,e){return O.resolve([])}getNextCollectionGroupToUpdate(t){return O.resolve(null)}getMinOffset(t,e){return O.resolve(wr.min())}getMinOffsetFromCollectionGroup(t,e){return O.resolve(wr.min())}updateCollectionGroup(t,e,i){return O.resolve()}updateIndexEntries(t,e){return O.resolve()}},Cg=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new at(Ve.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){let e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new at(Ve.comparator)).toArray()}};var _4=new Uint8Array(0);var nT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zt=class n{static withCacheSize(t){return new n(t,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}};Zt.DEFAULT_COLLECTION_PERCENTILE=10,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zt.DEFAULT=new Zt(41943040,Zt.DEFAULT_COLLECTION_PERCENTILE,Zt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zt.DISABLED=new Zt(-1,0,0);var Wa=class n{constructor(t){this.kn=t}next(){return this.kn+=2,this.kn}static qn(){return new n(0)}static Qn(){return new n(-1)}};function iT([n,t],[e,i]){let r=le(n,e);return r===0?le(t,i):r}var Sg=class{constructor(t){this.Gn=t,this.buffer=new at(iT),this.zn=0}jn(){return++this.zn}Hn(t){let e=[t,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(e);else{let i=this.buffer.last();iT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}},xg=class{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(t){U("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,()=>v(this,null,function*(){this.Jn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(e){qs(e)?U("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield $s(e)}yield this.Yn(3e5)}))}},Rg=class{constructor(t,e){this.Zn=t,this.params=e}calculateTargetCount(t,e){return this.Zn.Xn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return O.resolve(I_.oe);let i=new Sg(e);return this.Zn.forEachTarget(t,r=>i.Hn(r.sequenceNumber)).next(()=>this.Zn.er(t,r=>i.Hn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Zn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Zn.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(nT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nT):this.tr(t,e))}getCacheSize(t){return this.Zn.getCacheSize(t)}tr(t,e){let i,r,s,o,c,l,d,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,o=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,c=Date.now(),this.removeTargets(t,i,e))).next(p=>(s=p,l=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(d=Date.now(),Ts()<=ae.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${r} in `+(c-o)+`ms
	Removed ${s} targets in `+(l-c)+`ms
	Removed ${p} documents in `+(d-l)+`ms
Total Duration: ${d-f}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}};function ZF(n,t){return new Rg(n,t)}var Dg=class{constructor(){this.changes=new ni(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let i=this.changes.get(e);return i!==void 0?O.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var kg=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var Pg=class{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&Ua(i.mutation,r,en.empty(),ft.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ce()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ce()){let r=_r();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let o=Na();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){let i=_r();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ce()))}populateOverlays(t,e,i){let r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,i,r){let s=ii(),o=La(),c=function(){return La()}();return e.forEach((l,d)=>{let f=i.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof On)?s=s.insert(d.key,d):f!==void 0?(o.set(d.key,f.mutation.getFieldMask()),Ua(f.mutation,d,f.mutation.getFieldMask(),ft.now())):o.set(d.key,en.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((d,f)=>o.set(d,f)),e.forEach((d,f)=>{var p;return c.set(d,new kg(f,(p=o.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(t,e){let i=La(),r=new ze((o,c)=>o-c),s=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(let c of o)c.keys().forEach(l=>{let d=e.get(l);if(d===null)return;let f=i.get(l)||en.empty();f=c.applyToLocalView(d,f),i.set(l,f);let p=(r.get(c.batchId)||ce()).add(l);r=r.insert(c.batchId,p)})}).next(()=>{let o=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),d=l.key,f=l.value,p=kT();f.forEach(y=>{if(!s.has(y)){let A=VT(e.get(y),i.get(y));A!==null&&p.set(y,A),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(t,d,p))}return O.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(o){return W.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):CT(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):O.resolve(_r()),c=-1,l=s;return o.next(d=>O.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),s.get(f)?O.resolve():this.remoteDocumentCache.getEntry(t,f).next(y=>{l=l.insert(f,y)}))).next(()=>this.populateOverlays(t,d,s)).next(()=>this.computeViews(t,l,d,ce())).next(f=>({batchId:c,changes:DT(f)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new W(e)).next(i=>{let r=Na();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){let s=e.collectionGroup,o=Na();return this.indexManager.getCollectionParents(t,s).next(c=>O.forEach(c,l=>{let d=function(p,y){return new Li(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,d,i,r).next(f=>{f.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,s,r))).next(o=>{s.forEach((l,d)=>{let f=d.getKey();o.get(f)===null&&(o=o.insert(f,pn.newInvalidDocument(f)))});let c=Na();return o.forEach((l,d)=>{let f=s.get(l);f!==void 0&&Ua(f.mutation,d,en.empty(),ft.now()),bd(e,d)&&(c=c.insert(l,d))}),c})}};var Og=class{constructor(t){this.serializer=t,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(t,e){return O.resolve(this.Tr.get(e))}saveBundleMetadata(t,e){return this.Tr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:kn(r.createTime)}}(e)),O.resolve()}getNamedQuery(t,e){return O.resolve(this.Ir.get(e))}saveNamedQuery(t,e){return this.Ir.set(e.name,function(r){return{name:r.name,query:JF(r.bundledQuery),readTime:kn(r.readTime)}}(e)),O.resolve()}};var Mg=class{constructor(){this.overlays=new ze(W.comparator),this.dr=new Map}getOverlay(t,e){return O.resolve(this.overlays.get(e))}getOverlays(t,e){let i=_r();return O.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.Tt(t,e,s)}),O.resolve()}removeOverlaysForBatchId(t,e,i){let r=this.dr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.dr.delete(i)),O.resolve()}getOverlaysForCollection(t,e,i){let r=_r(),s=e.length+1,o=new W(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,d=l.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return O.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new ze((d,f)=>d-f),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let f=s.get(d.largestBatchId);f===null&&(f=_r(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=_r(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=r)););return O.resolve(c)}Tt(t,e,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.dr.get(r.largestBatchId).delete(i.key);this.dr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new pg(e,i));let s=this.dr.get(e);s===void 0&&(s=ce(),this.dr.set(e,s)),this.dr.set(e,s.add(i.key))}};var Ng=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(t){return O.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,O.resolve()}};var Ga=class{constructor(){this.Er=new at(Ze.Ar),this.Rr=new at(Ze.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(t,e){let i=new Ze(t,e);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.gr(new Ze(t,e))}pr(t,e){t.forEach(i=>this.removeReference(i,e))}yr(t){let e=new W(new Ve([])),i=new Ze(e,t),r=new Ze(e,t+1),s=[];return this.Rr.forEachInRange([i,r],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.Er.forEach(t=>this.gr(t))}gr(t){this.Er=this.Er.delete(t),this.Rr=this.Rr.delete(t)}Sr(t){let e=new W(new Ve([])),i=new Ze(e,t),r=new Ze(e,t+1),s=ce();return this.Rr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(t){let e=new Ze(t,0),i=this.Er.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}},Ze=class{constructor(t,e){this.key=t,this.br=e}static Ar(t,e){return W.comparator(t.key,e.key)||le(t.br,e.br)}static Vr(t,e){return le(t.br,e.br)||W.comparator(t.key,e.key)}};var Fg=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Dr=1,this.vr=new at(Ze.Ar)}checkEmpty(t){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){let s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new fg(s,e,i,r);this.mutationQueue.push(o);for(let c of r)this.vr=this.vr.add(new Ze(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return O.resolve(o)}lookupMutationBatch(t,e){return O.resolve(this.Cr(e))}getNextMutationBatchAfterBatchId(t,e){let i=e+1,r=this.Fr(i),s=r<0?0:r;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(t){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let i=new Ze(e,0),r=new Ze(e,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([i,r],o=>{let c=this.Cr(o.br);s.push(c)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new at(le);return e.forEach(r=>{let s=new Ze(r,0),o=new Ze(r,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],c=>{i=i.add(c.br)})}),O.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(t,e){let i=e.path,r=i.length+1,s=i;W.isDocumentKey(s)||(s=s.child(""));let o=new Ze(new W(s),0),c=new at(le);return this.vr.forEachWhile(l=>{let d=l.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(l.br)),!0)},o),O.resolve(this.Mr(c))}Mr(t){let e=[];return t.forEach(i=>{let r=this.Cr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){_e(this.Or(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return O.forEach(e.mutations,r=>{let s=new Ze(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.vr=i})}Bn(t){}containsKey(t,e){let i=new Ze(e,0),r=this.vr.firstAfterOrEqual(i);return O.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,O.resolve()}Or(t,e){return this.Fr(t)}Fr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Cr(t){let e=this.Fr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var Vg=class{constructor(t){this.Nr=t,this.docs=function(){return new ze(W.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let i=e.key,r=this.docs.get(i),s=r?r.size:0,o=this.Nr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let i=this.docs.get(e);return O.resolve(i?i.document.mutableCopy():pn.newInvalidDocument(e))}getEntries(t,e){let i=ii();return e.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():pn.newInvalidDocument(r))}),O.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let s=ii(),o=e.path,c=new W(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:d,value:{document:f}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||sF(rF(f),i)<=0||(r.has(f.key)||bd(e,f))&&(s=s.insert(f.key,f.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(t,e,i,r){Y()}Br(t,e){return O.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Lg(this)}getSize(t){return O.resolve(this.size)}},Lg=class extends Dg{constructor(t){super(),this.hr=t}applyChanges(t){let e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.hr.addEntry(t,r)):this.hr.removeEntry(i)}),O.waitFor(e)}getFromCache(t,e){return this.hr.getEntry(t,e)}getAllFromCache(t,e){return this.hr.getEntries(t,e)}};var Ug=class{constructor(t){this.persistence=t,this.Lr=new ni(e=>C_(e),S_),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ga,this.targetCount=0,this.Qr=Wa.qn()}forEachTarget(t,e){return this.Lr.forEach((i,r)=>e(r)),O.resolve()}getLastRemoteSnapshotVersion(t){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return O.resolve(this.kr)}allocateTargetId(t){return this.highestTargetId=this.Qr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.kr&&(this.kr=e),O.resolve()}Un(t){this.Lr.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this.Qr=new Wa(e),this.highestTargetId=e),t.sequenceNumber>this.kr&&(this.kr=t.sequenceNumber)}addTargetData(t,e){return this.Un(e),this.targetCount+=1,O.resolve()}updateTargetData(t,e){return this.Un(e),O.resolve()}removeTargetData(t,e){return this.Lr.delete(e.target),this.qr.yr(e.targetId),this.targetCount-=1,O.resolve()}removeTargets(t,e,i){let r=0,s=[];return this.Lr.forEach((o,c)=>{c.sequenceNumber<=e&&i.get(c.targetId)===null&&(this.Lr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),O.waitFor(s).next(()=>r)}getTargetCount(t){return O.resolve(this.targetCount)}getTargetData(t,e){let i=this.Lr.get(e)||null;return O.resolve(i)}addMatchingKeys(t,e,i){return this.qr.mr(e,i),O.resolve()}removeMatchingKeys(t,e,i){this.qr.pr(e,i);let r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.qr.yr(e),O.resolve()}getMatchingKeysForTargetId(t,e){let i=this.qr.Sr(e);return O.resolve(i)}containsKey(t,e){return O.resolve(this.qr.containsKey(e))}};var Yu=class{constructor(t,e){this.Kr={},this.overlays={},this.$r=new I_(0),this.Ur=!1,this.Ur=!0,this.Wr=new Ng,this.referenceDelegate=t(this),this.Gr=new Ug(this),this.indexManager=new Ag,this.remoteDocumentCache=function(r){return new Vg(r)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Tg(e),this.jr=new Og(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Mg,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Kr[t.toKey()];return i||(i=new Fg(e,this.referenceDelegate),this.Kr[t.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(t,e,i){U("MemoryPersistence","Starting transaction:",t);let r=new Bg(this.$r.next());return this.referenceDelegate.Hr(),i(r).next(s=>this.referenceDelegate.Jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Yr(t,e){return O.or(Object.values(this.Kr).map(i=>()=>i.containsKey(t,e)))}},Bg=class extends Qp{constructor(t){super(),this.currentSequenceNumber=t}},jg=class n{constructor(t){this.persistence=t,this.Zr=new Ga,this.Xr=null}static ei(t){return new n(t)}get ti(){if(this.Xr)return this.Xr;throw Y()}addReference(t,e,i){return this.Zr.addReference(i,e),this.ti.delete(i.toString()),O.resolve()}removeReference(t,e,i){return this.Zr.removeReference(i,e),this.ti.add(i.toString()),O.resolve()}markPotentiallyOrphaned(t,e){return this.ti.add(e.toString()),O.resolve()}removeTarget(t,e){this.Zr.yr(e.targetId).forEach(r=>this.ti.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.ti.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}Hr(){this.Xr=new Set}Jr(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.ti,i=>{let r=W.fromPath(i);return this.ni(t,r).next(s=>{s||e.removeEntry(r,J.min())})}).next(()=>(this.Xr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ni(t,e).next(i=>{i?this.ti.delete(e.toString()):this.ti.add(e.toString())})}zr(t){return 0}ni(t,e){return O.or([()=>O.resolve(this.Zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Yr(t,e)])}},Qu=class n{constructor(t,e){this.persistence=t,this.ri=new ni(i=>lF(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=ZF(this,e)}static ei(t,e){return new n(t,e)}Hr(){}Jr(t){return O.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}Xn(t){let e=this.nr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}nr(t){let e=0;return this.er(t,i=>{e++}).next(()=>e)}er(t,e){return O.forEach(this.ri,(i,r)=>this.ir(t,i,r).next(s=>s?O.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0,r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.Br(t,o=>this.ir(t,o,e).next(c=>{c||(i++,s.removeEntry(o,J.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.ri.set(e,t.currentSequenceNumber),O.resolve()}removeTarget(t,e){let i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.ri.set(i,t.currentSequenceNumber),O.resolve()}removeReference(t,e,i){return this.ri.set(i,t.currentSequenceNumber),O.resolve()}updateLimboDocument(t,e){return this.ri.set(e,t.currentSequenceNumber),O.resolve()}zr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Pu(t.data.value)),e}ir(t,e,i){return O.or([()=>this.persistence.Yr(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{let r=this.ri.get(e);return O.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}};var zg=class n{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Wi=i,this.Gi=r}static zi(t,e){let i=ce(),r=ce();for(let s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(t,e.fromCache,i,r)}};var $g=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var qg=class{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return sI()?8:aF(st())>0?6:4}()}initialize(t,e){this.Zi=t,this.indexManager=e,this.ji=!0}getDocumentsMatchingQuery(t,e,i,r){let s={result:null};return this.Xi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(t,e,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new $g;return this.ts(t,e,o).next(c=>{if(s.result=c,this.Hi)return this.ns(t,e,o,c.size)})}).next(()=>s.result)}ns(t,e,i,r){return i.documentReadCount<this.Ji?(Ts()<=ae.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",As(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),O.resolve()):(Ts()<=ae.DEBUG&&U("QueryEngine","Query:",As(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Yi*r?(Ts()<=ae.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",As(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Rn(e))):O.resolve())}Xi(t,e){if(W0(e))return O.resolve(null);let i=Rn(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=zu(e,null,"F"),i=Rn(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{let o=ce(...s);return this.Zi.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,i).next(l=>{let d=this.rs(e,c);return this.ss(e,d,o,l.readTime)?this.Xi(t,zu(e,null,"F")):this.os(t,d,e,l)}))})))}es(t,e,i,r){return W0(e)||r.isEqual(J.min())?O.resolve(null):this.Zi.getDocuments(t,i).next(s=>{let o=this.rs(e,s);return this.ss(e,o,i,r)?O.resolve(null):(Ts()<=ae.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),As(e)),this.os(t,o,e,iF(r,-1)).next(c=>c))})}rs(t,e){let i=new at(xT(t));return e.forEach((r,s)=>{bd(t,s)&&(i=i.add(s))}),i}ss(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;let s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ts(t,e,i){return Ts()<=ae.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",As(e)),this.Zi.getDocumentsMatchingQuery(t,e,wr.min(),i)}os(t,e,i,r){return this.Zi.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Hg=class{constructor(t,e,i,r){this.persistence=t,this._s=e,this.serializer=r,this.us=new ze(le),this.cs=new ni(s=>C_(s),S_),this.ls=new Map,this.hs=t.getRemoteDocumentCache(),this.Gr=t.getTargetCache(),this.jr=t.getBundleCache(),this.Ps(i)}Ps(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pg(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.us))}};function eV(n,t,e,i){return new Hg(n,t,e,i)}function GT(n,t){return v(this,null,function*(){let e=X(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Ps(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],c=[],l=ce();for(let d of r){o.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}for(let d of s){c.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}return e.localDocuments.getDocuments(i,l).next(d=>({Ts:d,removedBatchIds:o,addedBatchIds:c}))})})})}function tV(n,t){let e=X(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=t.batch.keys(),s=e.hs.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){let p=d.batch,y=p.keys(),A=O.resolve();return y.forEach(D=>{A=A.next(()=>f.getEntry(l,D)).next(k=>{let R=d.docVersions.get(D);_e(R!==null),k.version.compareTo(R)<0&&(p.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),f.addEntry(k)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let l=ce();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function KT(n){let t=X(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Gr.getLastRemoteSnapshotVersion(e))}function nV(n,t){let e=X(n),i=t.snapshotVersion,r=e.us;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=e.hs.newChangeBuffer({trackRemovals:!0});r=e.us;let c=[];t.targetChanges.forEach((f,p)=>{let y=r.get(p);if(!y)return;c.push(e.Gr.removeMatchingKeys(s,f.removedDocuments,p).next(()=>e.Gr.addMatchingKeys(s,f.addedDocuments,p)));let A=y.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?A=A.withResumeToken(Et.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):f.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(f.resumeToken,i)),r=r.insert(p,A),function(k,R,$){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(y,A,f)&&c.push(e.Gr.updateTargetData(s,A))});let l=ii(),d=ce();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(iV(s,o,t.documentUpdates).next(f=>{l=f.Is,d=f.ds})),!i.isEqual(J.min())){let f=e.Gr.getLastRemoteSnapshotVersion(s).next(p=>e.Gr.setTargetsMetadata(s,s.currentSequenceNumber,i));c.push(f)}return O.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,d)).next(()=>l)}).then(s=>(e.us=r,s))}function iV(n,t,e){let i=ce(),r=ce();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let o=ii();return e.forEach((c,l)=>{let d=s.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(J.min())?(t.removeEntry(c,l.readTime),o=o.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(l),o=o.insert(c,l)):U("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{Is:o,ds:r}})}function rV(n,t){let e=X(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function sV(n,t){let e=X(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Gr.getTargetData(i,t).next(s=>s?(r=s,O.resolve(r)):e.Gr.allocateTargetId(i).next(o=>(r=new Ha(t,o,"TargetPurposeListen",i.currentSequenceNumber),e.Gr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=e.us.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.us=e.us.insert(i.targetId,i),e.cs.set(t,i.targetId)),i})}function Wg(n,t,e){return v(this,null,function*(){let i=X(n),r=i.us.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!qs(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.us=i.us.remove(t),i.cs.delete(r.target)})}function rT(n,t,e){let i=X(n),r=J.min(),s=ce();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,f){let p=X(l),y=p.cs.get(f);return y!==void 0?O.resolve(p.us.get(y)):p.Gr.getTargetData(d,f)}(i,o,Rn(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>i._s.getDocumentsMatchingQuery(o,t,e?r:J.min(),e?s:ce())).next(c=>(oV(i,bF(t),c),{documents:c,Es:s})))}function oV(n,t,e){let i=n.ls.get(t)||J.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ls.set(t,i)}var Xu=class{constructor(){this.activeTargetIds=CF()}ps(t){this.activeTargetIds=this.activeTargetIds.add(t)}ys(t){this.activeTargetIds=this.activeTargetIds.delete(t)}gs(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Gg=class{constructor(){this._o=new Xu,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this._o.ps(t),this.ao[t]||"not-current"}updateQueryState(t,e,i){this.ao[t]=e}removeLocalQueryTarget(t){this._o.ys(t)}isLocalQueryTarget(t){return this._o.activeTargetIds.has(t)}clearQueryState(t){delete this.ao[t]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(t){return this._o.activeTargetIds.has(t)}start(){return this._o=new Xu,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var Kg=class{uo(t){}shutdown(){}};var Ju=class{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(t){this.To.push(t)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.To)t(0)}Po(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.To)t(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ku=null;function Up(){return ku===null?ku=function(){return 268435456+Math.round(2147483648*Math.random())}():ku++,"0x"+ku.toString(16)}var aV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Yg=class{constructor(t){this.Eo=t.Eo,this.Ao=t.Ao}Ro(t){this.Vo=t}mo(t){this.fo=t}po(t){this.yo=t}onMessage(t){this.wo=t}close(){this.Ao()}send(t){this.Eo(t)}So(){this.Vo()}bo(){this.fo()}Do(t){this.yo(t)}vo(t){this.wo(t)}};var bt="WebChannelConnection",Qg=class extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+e.host,this.Mo=`projects/${r}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Oo(e,i,r,s,o){let c=Up(),l=this.No(e,i.toUriEncodedString());U("RestConnection",`Sending RPC '${e}' ${c}:`,l,r);let d={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(d,s,o),this.Lo(e,l,d,r).then(f=>(U("RestConnection",`Received RPC '${e}' ${c}: `,f),f),f=>{throw ks("RestConnection",`RPC '${e}' ${c} failed with error: `,f,"url: ",l,"request:",r),f})}ko(e,i,r,s,o,c){return this.Oo(e,i,r,s,o)}Bo(e,i,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}No(e,i){let r=aV[e];return`${this.Fo}/v1/${i}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Lo(t,e,i,r){let s=Up();return new Promise((o,c)=>{let l=new Op;l.setWithCredentials(!0),l.listenOnce(Mp.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ma.NO_ERROR:let f=l.getResponseJson();U(bt,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ma.TIMEOUT:U(bt,`RPC '${t}' ${s} timed out`),c(new L(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ma.HTTP_ERROR:let p=l.getStatus();if(U(bt,`RPC '${t}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let D=function(R){let $=R.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf($)>=0?$:P.UNKNOWN}(A.status);c(new L(D,A.message))}else c(new L(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new L(P.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{U(bt,`RPC '${t}' ${s} completed.`)}});let d=JSON.stringify(r);U(bt,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",d,i,15)})}qo(t,e,i){let r=Up(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=Vp(),c=Fp(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Bo(l.initMessageHeaders,e,i),l.encodeInitMessageHeaders=!0;let f=s.join("");U(bt,`Creating RPC '${t}' stream ${r}: ${f}`,l);let p=o.createWebChannel(f,l),y=!1,A=!1,D=new Yg({Eo:R=>{A?U(bt,`Not sending because RPC '${t}' stream ${r} is closed:`,R):(y||(U(bt,`Opening RPC '${t}' stream ${r} transport.`),p.open(),y=!0),U(bt,`RPC '${t}' stream ${r} sending:`,R),p.send(R))},Ao:()=>p.close()}),k=(R,$,Q)=>{R.listen($,j=>{try{Q(j)}catch(ve){setTimeout(()=>{throw ve},0)}})};return k(p,Is.EventType.OPEN,()=>{A||(U(bt,`RPC '${t}' stream ${r} transport opened.`),D.So())}),k(p,Is.EventType.CLOSE,()=>{A||(A=!0,U(bt,`RPC '${t}' stream ${r} transport closed`),D.Do())}),k(p,Is.EventType.ERROR,R=>{A||(A=!0,ks(bt,`RPC '${t}' stream ${r} transport errored:`,R),D.Do(new L(P.UNAVAILABLE,"The operation could not be completed")))}),k(p,Is.EventType.MESSAGE,R=>{var $;if(!A){let Q=R.data[0];_e(!!Q);let j=Q,ve=j?.error||(($=j[0])===null||$===void 0?void 0:$.error);if(ve){U(bt,`RPC '${t}' stream ${r} received error:`,ve);let ct=ve.status,me=function(w){let E=Je[w];if(E!==void 0)return UT(E)}(ct),I=ve.message;me===void 0&&(me=P.INTERNAL,I="Unknown error status: "+ct+" with message "+ve.message),A=!0,D.Do(new L(me,I)),p.close()}else U(bt,`RPC '${t}' stream ${r} received:`,Q),D.vo(Q)}}),k(c,Np.STAT_EVENT,R=>{R.stat===xu.PROXY?U(bt,`RPC '${t}' stream ${r} detected buffering proxy`):R.stat===xu.NOPROXY&&U(bt,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}};function Bp(){return typeof document<"u"?document:null}function wd(n){return new yg(n,!0)}var Zu=class{constructor(t,e,i=1e3,r=1.5,s=6e4){this.li=t,this.timerId=e,this.Qo=i,this.Ko=r,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(t){this.cancel();let e=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),r=Math.max(0,e-i);r>0&&U("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Uo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,()=>(this.Go=Date.now(),t())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}};var ed=class{constructor(t,e,i,r,s,o,c,l){this.li=t,this.Yo=i,this.Zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Zu(t,e)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}stop(){return v(this,null,function*(){this.i_()&&(yield this.close(0))})}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(t){this.l_(),this.stream.send(t)}u_(){return v(this,null,function*(){if(this.s_())return this.close(0)})}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}close(t,e){return v(this,null,function*(){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,t!==4?this.r_.reset():e&&e.code===P.RESOURCE_EXHAUSTED?(Zn(e.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):e&&e.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.po(e)})}P_(){}auth(){this.state=1;let t=this.T_(this.Xo),e=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Xo===e&&this.I_(i,r)},i=>{t(()=>{let r=new L(P.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(r)})})}I_(t,e){let i=this.T_(this.Xo);this.stream=this.E_(t,e),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(r=>{i(()=>this.d_(r))}),this.stream.onMessage(r=>{i(()=>++this.n_==1?this.A_(r):this.onNext(r))})}o_(){this.state=5,this.r_.jo(()=>v(this,null,function*(){this.state=0,this.start()}))}d_(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}T_(t){return e=>{this.li.enqueueAndForget(()=>this.Xo===t?e():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Xg=class extends ed{constructor(t,e,i,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}E_(t,e){return this.connection.qo("Listen",t,e)}A_(t){return this.onNext(t)}onNext(t){this.r_.reset();let e=jF(this.serializer,t),i=function(s){if(!("targetChange"in s))return J.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?kn(o.readTime):J.min()}(t);return this.listener.R_(e,i)}V_(t){let e={};e.database=Ig(this.serializer),e.addTarget=function(s,o){let c,l=o.target;if(c=lg(l)?{documents:qF(s,l)}:{query:HF(s,l).ct},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=BT(s,o.resumeToken);let d=bg(s,o.expectedCount);d!==null&&(c.expectedCount=d)}else if(o.snapshotVersion.compareTo(J.min())>0){c.readTime=Gu(s,o.snapshotVersion.toTimestamp());let d=bg(s,o.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);let i=GF(this.serializer,t);i&&(e.labels=i),this.c_(e)}m_(t){let e={};e.database=Ig(this.serializer),e.removeTarget=t,this.c_(e)}},Jg=class extends ed{constructor(t,e,i,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,o),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(t,e){return this.connection.qo("Write",t,e)}A_(t){return _e(!!t.streamToken),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0),this.listener.p_()}onNext(t){_e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.r_.reset();let e=$F(t.writeResults,t.commitTime),i=kn(t.commitTime);return this.listener.y_(i,e)}w_(){let t={};t.database=Ig(this.serializer),this.c_(t)}g_(t){let e={streamToken:this.lastStreamToken,writes:t.map(i=>zF(this.serializer,i))};this.c_(e)}};var Zg=class extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new L(P.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(t,e,i,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(t,wg(e,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(P.UNKNOWN,s.toString())})}ko(t,e,i,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.ko(t,wg(e,i),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(P.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}},e_=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(t){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.M_("Offline")))}set(t){this.N_(),this.D_=0,t==="Online"&&(this.C_=!1),this.M_(t)}M_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}x_(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Zn(e),this.C_=!1):U("OnlineStateTracker",e)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}};var t_=class{constructor(t,e,i,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(o=>{i.enqueueAndForget(()=>v(this,null,function*(){Sr(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(l){return v(this,null,function*(){let d=X(l);d.k_.add(4),yield ic(d),d.K_.set("Unknown"),d.k_.delete(4),yield Ed(d)})}(this))}))}),this.K_=new e_(i,r)}};function Ed(n){return v(this,null,function*(){if(Sr(n))for(let t of n.q_)yield t(!0)})}function ic(n){return v(this,null,function*(){for(let t of n.q_)yield t(!1)})}function YT(n,t){let e=X(n);e.L_.has(t.targetId)||(e.L_.set(t.targetId,t),O_(e)?P_(e):Hs(e).s_()&&k_(e,t))}function D_(n,t){let e=X(n),i=Hs(e);e.L_.delete(t),i.s_()&&QT(e,t),e.L_.size===0&&(i.s_()?i.a_():Sr(e)&&e.K_.set("Unknown"))}function k_(n,t){if(n.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){let e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Hs(n).V_(t)}function QT(n,t){n.U_.xe(t),Hs(n).m_(t)}function P_(n){n.U_=new vg({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>n.L_.get(t)||null,nt:()=>n.datastore.serializer.databaseId}),Hs(n).start(),n.K_.F_()}function O_(n){return Sr(n)&&!Hs(n).i_()&&n.L_.size>0}function Sr(n){return X(n).k_.size===0}function XT(n){n.U_=void 0}function cV(n){return v(this,null,function*(){n.K_.set("Online")})}function lV(n){return v(this,null,function*(){n.L_.forEach((t,e)=>{k_(n,t)})})}function uV(n,t){return v(this,null,function*(){XT(n),O_(n)?(n.K_.O_(t),P_(n)):n.K_.set("Unknown")})}function dV(n,t,e){return v(this,null,function*(){if(n.K_.set("Online"),t instanceof Hu&&t.state===2&&t.cause)try{yield function(r,s){return v(this,null,function*(){let o=s.cause;for(let c of s.targetIds)r.L_.has(c)&&(yield r.remoteSyncer.rejectListen(c,o),r.L_.delete(c),r.U_.removeTarget(c))})}(n,t)}catch(i){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield td(n,i)}else if(t instanceof Rs?n.U_.$e(t):t instanceof qu?n.U_.Je(t):n.U_.Ge(t),!e.isEqual(J.min()))try{let i=yield KT(n.localStore);e.compareTo(i)>=0&&(yield function(s,o){let c=s.U_.it(o);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let f=s.L_.get(d);f&&s.L_.set(d,f.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,d)=>{let f=s.L_.get(l);if(!f)return;s.L_.set(l,f.withResumeToken(Et.EMPTY_BYTE_STRING,f.snapshotVersion)),QT(s,l);let p=new Ha(f.target,l,d,f.sequenceNumber);k_(s,p)}),s.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){U("RemoteStore","Failed to raise snapshot:",i),yield td(n,i)}})}function td(n,t,e){return v(this,null,function*(){if(!qs(t))throw t;n.k_.add(1),yield ic(n),n.K_.set("Offline"),e||(e=()=>KT(n.localStore)),n.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield e(),n.k_.delete(1),yield Ed(n)}))})}function JT(n,t){return t().catch(e=>td(n,e,t))}function Id(n){return v(this,null,function*(){let t=X(n),e=Ui(t),i=t.B_.length>0?t.B_[t.B_.length-1].batchId:-1;for(;hV(t);)try{let r=yield rV(t.localStore,i);if(r===null){t.B_.length===0&&e.a_();break}i=r.batchId,fV(t,r)}catch(r){yield td(t,r)}ZT(t)&&eA(t)})}function hV(n){return Sr(n)&&n.B_.length<10}function fV(n,t){n.B_.push(t);let e=Ui(n);e.s_()&&e.f_&&e.g_(t.mutations)}function ZT(n){return Sr(n)&&!Ui(n).i_()&&n.B_.length>0}function eA(n){Ui(n).start()}function mV(n){return v(this,null,function*(){Ui(n).w_()})}function pV(n){return v(this,null,function*(){let t=Ui(n);for(let e of n.B_)t.g_(e.mutations)})}function gV(n,t,e){return v(this,null,function*(){let i=n.B_.shift(),r=mg.from(i,t,e);yield JT(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Id(n)})}function _V(n,t){return v(this,null,function*(){t&&Ui(n).f_&&(yield function(i,r){return v(this,null,function*(){if(function(o){return OF(o)&&o!==P.ABORTED}(r.code)){let s=i.B_.shift();Ui(i).__(),yield JT(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Id(i)}})}(n,t)),ZT(n)&&eA(n)})}function sT(n,t){return v(this,null,function*(){let e=X(n);e.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let i=Sr(e);e.k_.add(3),yield ic(e),i&&e.K_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.k_.delete(3),yield Ed(e)})}function vV(n,t){return v(this,null,function*(){let e=X(n);t?(e.k_.delete(2),yield Ed(e)):t||(e.k_.add(2),yield ic(e),e.K_.set("Unknown"))})}function Hs(n){return n.W_||(n.W_=function(e,i,r){let s=X(e);return s.b_(),new Xg(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Ro:cV.bind(null,n),mo:lV.bind(null,n),po:uV.bind(null,n),R_:dV.bind(null,n)}),n.q_.push(t=>v(this,null,function*(){t?(n.W_.__(),O_(n)?P_(n):n.K_.set("Unknown")):(yield n.W_.stop(),XT(n))}))),n.W_}function Ui(n){return n.G_||(n.G_=function(e,i,r){let s=X(e);return s.b_(),new Jg(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:mV.bind(null,n),po:_V.bind(null,n),p_:pV.bind(null,n),y_:gV.bind(null,n)}),n.q_.push(t=>v(this,null,function*(){t?(n.G_.__(),yield Id(n)):(yield n.G_.stop(),n.B_.length>0&&(U("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))}))),n.G_}var n_=class n{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,s){let o=Date.now()+i,c=new n(t,e,o,r,s);return c.start(i),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function M_(n,t){if(Zn("AsyncQueue",`${t}: ${n}`),qs(n))return new L(P.UNAVAILABLE,`${t}: ${n}`);throw n}var nd=class n{static emptySet(t){return new n(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||W.comparator(e.key,i.key):(e,i)=>W.comparator(e.key,i.key),this.keyedMap=Na(),this.sortedSet=new ze(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof n)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){let r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let i=new n;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}};var id=class{constructor(){this.z_=new ze(W.comparator)}track(t){let e=t.doc.key,i=this.z_.get(e);i?t.type!==0&&i.type===3?this.z_=this.z_.insert(e,t):t.type===3&&i.type!==1?this.z_=this.z_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.z_=this.z_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.z_=this.z_.remove(e):t.type===1&&i.type===2?this.z_=this.z_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.z_=this.z_.insert(e,{type:2,doc:t.doc}):Y():this.z_=this.z_.insert(e,t)}j_(){let t=[];return this.z_.inorderTraversal((e,i)=>{t.push(i)}),t}},Bs=class n{constructor(t,e,i,r,s,o,c,l,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,r,s){let o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new n(t,e,nd.emptySet(e),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}};var i_=class{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(t=>t.Z_())}},r_=class{constructor(){this.queries=oT(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(e,i){let r=X(e),s=r.queries;r.queries=oT(),s.forEach((o,c)=>{for(let l of c.J_)l.onError(i)})})(this,new L(P.ABORTED,"Firestore shutting down"))}};function oT(){return new ni(n=>ST(n),yd)}function N_(n,t){return v(this,null,function*(){let e=X(n),i=3,r=t.query,s=e.queries.get(r);s?!s.Y_()&&t.Z_()&&(i=2):(s=new i_,i=t.Z_()?0:1);try{switch(i){case 0:s.H_=yield e.onListen(r,!0);break;case 1:s.H_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(o){let c=M_(o,`Initialization of query '${As(t.query)}' failed`);return void t.onError(c)}e.queries.set(r,s),s.J_.push(t),t.ea(e.onlineState),s.H_&&t.ta(s.H_)&&V_(e)})}function F_(n,t){return v(this,null,function*(){let e=X(n),i=t.query,r=3,s=e.queries.get(i);if(s){let o=s.J_.indexOf(t);o>=0&&(s.J_.splice(o,1),s.J_.length===0?r=t.Z_()?0:1:!s.Y_()&&t.Z_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})}function yV(n,t){let e=X(n),i=!1;for(let r of t){let s=r.query,o=e.queries.get(s);if(o){for(let c of o.J_)c.ta(r)&&(i=!0);o.H_=r}}i&&V_(e)}function bV(n,t,e){let i=X(n),r=i.queries.get(t);if(r)for(let s of r.J_)s.onError(e);i.queries.delete(t)}function V_(n){n.X_.forEach(t=>{t.next()})}var s_,aT;(aT=s_||(s_={})).na="default",aT.Cache="cache";var Ka=class{constructor(t,e,i){this.query=t,this.ra=e,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(t){if(!this.options.includeMetadataChanges){let i=[];for(let r of t.docChanges)r.type!==3&&i.push(r);t=new Bs(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ia?this.oa(t)&&(this.ra.next(t),e=!0):this._a(t,this.onlineState)&&(this.aa(t),e=!0),this.sa=t,e}onError(t){this.ra.error(t)}ea(t){this.onlineState=t;let e=!1;return this.sa&&!this.ia&&this._a(this.sa,t)&&(this.aa(this.sa),e=!0),e}_a(t,e){if(!t.fromCache||!this.Z_())return!0;let i=e!=="Offline";return(!this.options.ua||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}oa(t){if(t.docChanges.length>0)return!0;let e=this.sa&&this.sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}aa(t){t=Bs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ia=!0,this.ra.next(t)}Z_(){return this.options.source!==s_.Cache}};var rd=class{constructor(t){this.key=t}},sd=class{constructor(t){this.key=t}},o_=class{constructor(t,e){this.query=t,this.Ea=e,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ce(),this.mutatedKeys=ce(),this.Va=xT(t),this.ma=new nd(this.Va)}get fa(){return this.Ea}ga(t,e){let i=e?e.pa:new id,r=e?e.ma:this.ma,s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,p)=>{let y=r.get(f),A=bd(this.query,p)?p:null,D=!!y&&this.mutatedKeys.has(y.key),k=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations),R=!1;y&&A?y.data.isEqual(A.data)?D!==k&&(i.track({type:3,doc:A}),R=!0):this.ya(y,A)||(i.track({type:2,doc:A}),R=!0,(l&&this.Va(A,l)>0||d&&this.Va(A,d)<0)&&(c=!0)):!y&&A?(i.track({type:0,doc:A}),R=!0):y&&!A&&(i.track({type:1,doc:y}),R=!0,(l||d)&&(c=!0)),R&&(A?(o=o.add(A),s=k?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{ma:o,pa:i,ss:c,mutatedKeys:s}}ya(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){let s=this.ma;this.ma=t.ma,this.mutatedKeys=t.mutatedKeys;let o=t.pa.j_();o.sort((f,p)=>function(A,D){let k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return k(A)-k(D)}(f.type,p.type)||this.Va(f.doc,p.doc)),this.wa(i),r=r!=null&&r;let c=e&&!r?this.Sa():[],l=this.Ra.size===0&&this.current&&!r?1:0,d=l!==this.Aa;return this.Aa=l,o.length!==0||d?{snapshot:new Bs(this.query,t.ma,s,o,t.mutatedKeys,l===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:c}:{ba:c}}ea(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new id,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(t){return!this.Ea.has(t)&&!!this.ma.has(t)&&!this.ma.get(t).hasLocalMutations}wa(t){t&&(t.addedDocuments.forEach(e=>this.Ea=this.Ea.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ea=this.Ea.delete(e)),this.current=t.current)}Sa(){if(!this.current)return[];let t=this.Ra;this.Ra=ce(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});let e=[];return t.forEach(i=>{this.Ra.has(i)||e.push(new sd(i))}),this.Ra.forEach(i=>{t.has(i)||e.push(new rd(i))}),e}va(t){this.Ea=t.Es,this.Ra=ce();let e=this.ga(t.documents);return this.applyChanges(e,!0)}Ca(){return Bs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}},a_=class{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}},c_=class{constructor(t){this.key=t,this.Fa=!1}},l_=class{constructor(t,e,i,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new ni(c=>ST(c),yd),this.Oa=new Map,this.Na=new Set,this.Ba=new ze(W.comparator),this.La=new Map,this.ka=new Ga,this.qa={},this.Qa=new Map,this.Ka=Wa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}};function wV(n,t,e=!0){return v(this,null,function*(){let i=oA(n),r,s=i.xa.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Ca()):r=yield tA(i,t,e,!0),r})}function EV(n,t){return v(this,null,function*(){let e=oA(n);yield tA(e,t,!0,!1)})}function tA(n,t,e,i){return v(this,null,function*(){let r=yield sV(n.localStore,Rn(t)),s=r.targetId,o=n.sharedClientState.addLocalQueryTarget(s,e),c;return i&&(c=yield IV(n,t,s,o==="current",r.resumeToken)),n.isPrimaryClient&&e&&YT(n.remoteStore,r),c})}function IV(n,t,e,i,r){return v(this,null,function*(){n.Ua=(p,y,A)=>function(k,R,$,Q){return v(this,null,function*(){let j=R.view.ga($);j.ss&&(j=yield rT(k.localStore,R.query,!1).then(({documents:I})=>R.view.ga(I,j)));let ve=Q&&Q.targetChanges.get(R.targetId),ct=Q&&Q.targetMismatches.get(R.targetId)!=null,me=R.view.applyChanges(j,k.isPrimaryClient,ve,ct);return lT(k,R.targetId,me.ba),me.snapshot})}(n,p,y,A);let s=yield rT(n.localStore,t,!0),o=new o_(t,s.Es),c=o.ga(s.documents),l=qa.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),d=o.applyChanges(c,n.isPrimaryClient,l);lT(n,e,d.ba);let f=new a_(t,e,o);return n.xa.set(t,f),n.Oa.has(e)?n.Oa.get(e).push(t):n.Oa.set(e,[t]),d.snapshot})}function TV(n,t,e){return v(this,null,function*(){let i=X(n),r=i.xa.get(t),s=i.Oa.get(r.targetId);if(s.length>1)return i.Oa.set(r.targetId,s.filter(o=>!yd(o,t))),void i.xa.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Wg(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&D_(i.remoteStore,r.targetId),u_(i,r.targetId)}).catch($s))):(u_(i,r.targetId),yield Wg(i.localStore,r.targetId,!0))})}function AV(n,t){return v(this,null,function*(){let e=X(n),i=e.xa.get(t),r=e.Oa.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),D_(e.remoteStore,i.targetId))})}function CV(n,t,e){return v(this,null,function*(){let i=OV(n);try{let r=yield function(o,c){let l=X(o),d=ft.now(),f=c.reduce((A,D)=>A.add(D.key),ce()),p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",A=>{let D=ii(),k=ce();return l.hs.getEntries(A,f).next(R=>{D=R,D.forEach(($,Q)=>{Q.isValidDocument()||(k=k.add($))})}).next(()=>l.localDocuments.getOverlayedDocuments(A,D)).next(R=>{p=R;let $=[];for(let Q of c){let j=PF(Q,p.get(Q.key).overlayedDocument);j!=null&&$.push(new On(Q.key,j,bT(j.value.mapValue),Dn.exists(!0)))}return l.mutationQueue.addMutationBatch(A,d,$,c)}).next(R=>{y=R;let $=R.applyToLocalDocumentSet(p,k);return l.documentOverlayCache.saveOverlays(A,R.batchId,$)})}).then(()=>({batchId:y.batchId,changes:DT(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,l){let d=o.qa[o.currentUser.toKey()];d||(d=new ze(le)),d=d.insert(c,l),o.qa[o.currentUser.toKey()]=d}(i,r.batchId,e),yield rc(i,r.changes),yield Id(i.remoteStore)}catch(r){let s=M_(r,"Failed to persist write");e.reject(s)}})}function nA(n,t){return v(this,null,function*(){let e=X(n);try{let i=yield nV(e.localStore,t);t.targetChanges.forEach((r,s)=>{let o=e.La.get(s);o&&(_e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Fa=!0:r.modifiedDocuments.size>0?_e(o.Fa):r.removedDocuments.size>0&&(_e(o.Fa),o.Fa=!1))}),yield rc(e,i,t)}catch(i){yield $s(i)}})}function cT(n,t,e){let i=X(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){let r=[];i.xa.forEach((s,o)=>{let c=o.view.ea(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){let l=X(o);l.onlineState=c;let d=!1;l.queries.forEach((f,p)=>{for(let y of p.J_)y.ea(c)&&(d=!0)}),d&&V_(l)}(i.eventManager,t),r.length&&i.Ma.R_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function SV(n,t,e){return v(this,null,function*(){let i=X(n);i.sharedClientState.updateQueryState(t,"rejected",e);let r=i.La.get(t),s=r&&r.key;if(s){let o=new ze(W.comparator);o=o.insert(s,pn.newNoDocument(s,J.min()));let c=ce().add(s),l=new $u(J.min(),new Map,new ze(le),o,c);yield nA(i,l),i.Ba=i.Ba.remove(s),i.La.delete(t),L_(i)}else yield Wg(i.localStore,t,!1).then(()=>u_(i,t,e)).catch($s)})}function xV(n,t){return v(this,null,function*(){let e=X(n),i=t.batch.batchId;try{let r=yield tV(e.localStore,t);rA(e,i,null),iA(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield rc(e,r)}catch(r){yield $s(r)}})}function RV(n,t,e){return v(this,null,function*(){let i=X(n);try{let r=yield function(o,c){let l=X(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,c).next(p=>(_e(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(i.localStore,t);rA(i,t,e),iA(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield rc(i,r)}catch(r){yield $s(r)}})}function iA(n,t){(n.Qa.get(t)||[]).forEach(e=>{e.resolve()}),n.Qa.delete(t)}function rA(n,t,e){let i=X(n),r=i.qa[i.currentUser.toKey()];if(r){let s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.qa[i.currentUser.toKey()]=r}}function u_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(let i of n.Oa.get(t))n.xa.delete(i),e&&n.Ma.Wa(i,e);n.Oa.delete(t),n.isPrimaryClient&&n.ka.yr(t).forEach(i=>{n.ka.containsKey(i)||sA(n,i)})}function sA(n,t){n.Na.delete(t.path.canonicalString());let e=n.Ba.get(t);e!==null&&(D_(n.remoteStore,e),n.Ba=n.Ba.remove(t),n.La.delete(e),L_(n))}function lT(n,t,e){for(let i of e)i instanceof rd?(n.ka.addReference(i.key,t),DV(n,i)):i instanceof sd?(U("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,t),n.ka.containsKey(i.key)||sA(n,i.key)):Y()}function DV(n,t){let e=t.key,i=e.path.canonicalString();n.Ba.get(e)||n.Na.has(i)||(U("SyncEngine","New document in limbo: "+e),n.Na.add(i),L_(n))}function L_(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){let t=n.Na.values().next().value;n.Na.delete(t);let e=new W(Ve.fromString(t)),i=n.Ka.next();n.La.set(i,new c_(e)),n.Ba=n.Ba.insert(e,i),YT(n.remoteStore,new Ha(Rn(vd(e.path)),i,"TargetPurposeLimboResolution",I_.oe))}}function rc(n,t,e){return v(this,null,function*(){let i=X(n),r=[],s=[],o=[];i.xa.isEmpty()||(i.xa.forEach((c,l)=>{o.push(i.Ua(l,t,e).then(d=>{var f;if((d||e)&&i.isPrimaryClient){let p=d?!d.fromCache:(f=e?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(d){r.push(d);let p=zg.zi(l.targetId,d);s.push(p)}}))}),yield Promise.all(o),i.Ma.R_(r),yield function(l,d){return v(this,null,function*(){let f=X(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(d,y=>O.forEach(y.Wi,A=>f.persistence.referenceDelegate.addReference(p,y.targetId,A)).next(()=>O.forEach(y.Gi,A=>f.persistence.referenceDelegate.removeReference(p,y.targetId,A)))))}catch(p){if(!qs(p))throw p;U("LocalStore","Failed to update sequence numbers: "+p)}for(let p of d){let y=p.targetId;if(!p.fromCache){let A=f.us.get(y),D=A.snapshotVersion,k=A.withLastLimboFreeSnapshotVersion(D);f.us=f.us.insert(y,k)}}})}(i.localStore,s))})}function kV(n,t){return v(this,null,function*(){let e=X(n);if(!e.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());let i=yield GT(e.localStore,t);e.currentUser=t,function(s,o){s.Qa.forEach(c=>{c.forEach(l=>{l.reject(new L(P.CANCELLED,o))})}),s.Qa.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield rc(e,i.Ts)}})}function PV(n,t){let e=X(n),i=e.La.get(t);if(i&&i.Fa)return ce().add(i.key);{let r=ce(),s=e.Oa.get(t);if(!s)return r;for(let o of s){let c=e.xa.get(o);r=r.unionWith(c.view.fa)}return r}}function oA(n){let t=X(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=nA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=PV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SV.bind(null,t),t.Ma.R_=yV.bind(null,t.eventManager),t.Ma.Wa=bV.bind(null,t.eventManager),t}function OV(n){let t=X(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RV.bind(null,t),t}var aA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=wd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),yield this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)})}Ja(e,i){return null}Ya(e,i){return null}Ha(e){return eV(this.persistence,new qg,e.initialUser,this.serializer)}ja(e){return new Yu(jg.ei,this.serializer)}za(e){return new Gg}terminate(){return v(this,null,function*(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),d_=class extends aA{constructor(t){super(),this.cacheSizeBytes=t}Ja(t,e){_e(this.persistence.referenceDelegate instanceof Qu);let i=this.persistence.referenceDelegate.garbageCollector;return new xg(i,t.asyncQueue,e)}ja(t){let e=this.cacheSizeBytes!==void 0?Zt.withCacheSize(this.cacheSizeBytes):Zt.DEFAULT;return new Yu(i=>Qu.ei(i,e),this.serializer)}};var MV=(()=>{class n{initialize(e,i){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kV.bind(null,this.syncEngine),yield vV(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new r_}()}createDatastore(e){let i=wd(e.databaseInfo.databaseId),r=function(o){return new Qg(o)}(e.databaseInfo);return function(o,c,l,d){return new Zg(o,c,l,d)}(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return function(r,s,o,c,l){return new t_(r,s,o,c,l)}(this.localStore,this.datastore,e.asyncQueue,i=>cT(this.syncEngine,i,0),function(){return Ju.p()?new Ju:new Kg}())}createSyncEngine(e,i){return function(s,o,c,l,d,f,p){let y=new l_(s,o,c,l,d,f);return p&&(y.$a=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return v(this,null,function*(){var e,i;yield function(s){return v(this,null,function*(){let o=X(s);U("RemoteStore","RemoteStore shutting down."),o.k_.add(5),yield ic(o),o.Q_.shutdown(),o.K_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()})}}return n.provider={build:()=>new n},n})();var Ya=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Xa(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Xa(this.observer.error,t):Zn("Uncaught Error in snapshot listener:",t.toString()))}eu(){this.muted=!0}Xa(t,e){setTimeout(()=>{this.muted||t(e)},0)}};var h_=class{constructor(t,e,i,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=ot.UNAUTHENTICATED,this.clientId=Fu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,o=>v(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let i=M_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}};function jp(n,t){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(r=>v(this,null,function*(){i.isEqual(r)||(yield GT(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t})}function uT(n,t){return v(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let e=yield NV(n);U("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>sT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>sT(t.remoteStore,r)),n._onlineComponents=t})}function NV(n){return v(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield jp(n,n._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!function(r){return r.name==="FirebaseError"?r.code===P.FAILED_PRECONDITION||r.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;ks("Error using user provided cache. Falling back to memory cache: "+e),yield jp(n,new aA)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield jp(n,new d_(void 0));return n._offlineComponents})}function cA(n){return v(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield uT(n,n._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield uT(n,new MV))),n._onlineComponents})}function FV(n){return cA(n).then(t=>t.syncEngine)}function od(n){return v(this,null,function*(){let t=yield cA(n),e=t.eventManager;return e.onListen=wV.bind(null,t.syncEngine),e.onUnlisten=TV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=EV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=AV.bind(null,t.syncEngine),e})}function VV(n,t,e={}){let i=new mn;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,c,l,d){let f=new Ya({next:y=>{f.eu(),o.enqueueAndForget(()=>F_(s,p));let A=y.docs.has(c);!A&&y.fromCache?d.reject(new L(P.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&y.fromCache&&l&&l.source==="server"?d.reject(new L(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new Ka(vd(c.path),f,{includeMetadataChanges:!0,ua:!0});return N_(s,p)}(yield od(n),n.asyncQueue,t,e,i)})),i.promise}function LV(n,t,e={}){let i=new mn;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return function(s,o,c,l,d){let f=new Ya({next:y=>{f.eu(),o.enqueueAndForget(()=>F_(s,p)),y.fromCache&&l.source==="server"?d.reject(new L(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),p=new Ka(c,f,{includeMetadataChanges:!0,ua:!0});return N_(s,p)}(yield od(n),n.asyncQueue,t,e,i)})),i.promise}function lA(n){let t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}var dT=new Map;function uA(n,t,e){if(!e)throw new L(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function UV(n,t,e,i){if(t===!0&&i===!0)throw new L(P.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function hT(n){if(!W.isDocumentKey(n))throw new L(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function fT(n){if(W.isDocumentKey(n))throw new L(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Td(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Y()}function Ot(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new L(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=Td(n);throw new L(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function BV(n,t){if(t<=0)throw new L(P.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}var ad=class{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new L(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new L(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new L(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new L(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new L(P.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},js=class{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ad({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new L(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new L(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ad(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zp;switch(i.type){case"firstParty":return new Wp(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new L(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return v(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let i=dT.get(e);i&&(U("ComponentProvider","Removing Datastore"),dT.delete(e),i.terminate())}(this),Promise.resolve()}};function dA(n,t,e,i={}){var r;let s=(n=Ot(n,js))._getSettings(),o=`${t}:${e}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let c,l;if(typeof i.mockUserToken=="string")c=i.mockUserToken,l=ot.MOCK_USER;else{c=ZE(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new L(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ot(d)}n._authCredentials=new $p(new Nu(c,l))}}var ri=class n{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new n(this.firestore,t,this._query)}},wt=class n{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new n(this.firestore,t,this._key)}},Fi=class n extends ri{constructor(t,e,i){super(t,e,vd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new wt(this.firestore,null,new W(t))}withConverter(t){return new n(this.firestore,t,this._path)}};function hA(n,t,...e){if(n=Fe(n),uA("collection","path",t),n instanceof js){let i=Ve.fromString(t,...e);return fT(i),new Fi(n,null,i)}{if(!(n instanceof wt||n instanceof Fi))throw new L(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ve.fromString(t,...e));return fT(i),new Fi(n.firestore,null,i)}}function U_(n,t,...e){if(n=Fe(n),arguments.length===1&&(t=Fu.newId()),uA("doc","path",t),n instanceof js){let i=Ve.fromString(t,...e);return hT(i),new wt(n,null,new W(i))}{if(!(n instanceof wt||n instanceof Fi))throw new L(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(Ve.fromString(t,...e));return hT(i),new wt(n.firestore,n instanceof Fi?n.converter:null,new W(i))}}var cd=class{constructor(t=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Zu(this,"async_queue_retry"),this.fu=()=>{let i=Bp();i&&U("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=t;let e=Bp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.pu(),this.yu(t)}enterRestrictedMode(t){if(!this.du){this.du=!0,this.Vu=t||!1;let e=Bp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.fu)}}enqueue(t){if(this.pu(),this.du)return new Promise(()=>{});let e=new mn;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Iu.push(t),this.wu()))}wu(){return v(this,null,function*(){if(this.Iu.length!==0){try{yield this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(t){if(!qs(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}})}yu(t){let e=this.gu.then(()=>(this.Ru=!0,t().catch(i=>{this.Au=i,this.Ru=!1;let r=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(i);throw Zn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Ru=!1,i))));return this.gu=e,e}enqueueAfterDelay(t,e,i){this.pu(),this.mu.indexOf(t)>-1&&(e=0);let r=n_.createAndSchedule(this,t,e,i,s=>this.Su(s));return this.Eu.push(r),r}pu(){this.Au&&Y()}verifyOperationInProgress(){}bu(){return v(this,null,function*(){let t;do t=this.gu,yield t;while(t!==this.gu)})}Du(t){for(let e of this.Eu)if(e.timerId===t)return!0;return!1}vu(t){return this.bu().then(()=>{this.Eu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(let e of this.Eu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.bu()})}Cu(t){this.mu.push(t)}Su(t){let e=this.Eu.indexOf(t);this.Eu.splice(e,1)}};function mT(n){return function(e,i){if(typeof e!="object"||e===null)return!1;let r=e;for(let s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(n,["next","error","complete"])}var _n=class extends js{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new cd,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return v(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new cd(t),this._firestoreClient=void 0,yield t}})}};function fA(n,t){let e=typeof n=="object"?n:dr(),i=typeof n=="string"?n:t||"(default)",r=gs(e,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=JE("firestore");s&&dA(r,...s)}return r}function Ad(n){if(n._terminated)throw new L(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jV(n),n._firestoreClient}function jV(n){var t,e,i;let r=n._freezeSettings(),s=function(c,l,d,f){return new Xp(c,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,lA(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new h_(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(n._componentsProvider))}var Qa=class n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new n(Et.fromBase64String(t))}catch(e){throw new L(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new n(Et.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var Cr=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new L(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};function mA(){return new Cr("__name__")}var Xa=class{constructor(t){this._methodName=t}};var Ja=class{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new L(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new L(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return le(this._lat,t._lat)||le(this._long,t._long)}};var Za=class{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}};var zV=/^__.*__$/,f_=class{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new On(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ar(t,this.data,e,this.fieldTransforms)}},ld=class{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new On(t,this.data,this.fieldMask,e,this.fieldTransforms)}};function pA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var m_=class n{constructor(t,e,i,r,s,o){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(t){return new n(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(t){var e;let i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.xu({path:i,Nu:!1});return r.Bu(t),r}Lu(t){var e;let i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.xu({path:i,Nu:!1});return r.Fu(),r}ku(t){return this.xu({path:void 0,Nu:!0})}qu(t){return dd(t,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Fu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Bu(this.path.get(t))}Bu(t){if(t.length===0)throw this.qu("Document fields must not be empty");if(pA(this.Mu)&&zV.test(t))throw this.qu('Document fields cannot begin and end with "__"')}},p_=class{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||wd(t)}$u(t,e,i,r=!1){return new m_({Mu:t,methodName:e,Ku:i,path:Wt.emptyPath(),Nu:!1,Qu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Cd(n){let t=n._freezeSettings(),e=wd(n._databaseId);return new p_(n._databaseId,!!t.ignoreUndefinedProperties,e)}function gA(n,t,e,i,r,s={}){let o=n.$u(s.merge||s.mergeFields?2:0,t,e,r);B_("Data must be an object, but it was:",o,i);let c=_A(i,o),l,d;if(s.merge)l=new en(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let y=g_(t,p,e);if(!o.contains(y))throw new L(P.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);yA(f,y)||f.push(y)}l=new en(f),d=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=o.fieldTransforms;return new f_(new Ht(c),l,d)}var ud=class n extends Xa{_toFieldTransform(t){if(t.Mu!==2)throw t.Mu===1?t.qu(`${this._methodName}() can only appear at the top level of your update data`):t.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof n}};function $V(n,t,e,i){let r=n.$u(1,t,e);B_("Data must be an object, but it was:",r,i);let s=[],o=Ht.empty();Bi(i,(l,d)=>{let f=j_(t,l,e);d=Fe(d);let p=r.Lu(f);if(d instanceof ud)s.push(f);else{let y=sc(d,p);y!=null&&(s.push(f),o.set(f,y))}});let c=new en(s);return new ld(o,c,r.fieldTransforms)}function qV(n,t,e,i,r,s){let o=n.$u(1,t,e),c=[g_(t,i,e)],l=[r];if(s.length%2!=0)throw new L(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)c.push(g_(t,s[y])),l.push(s[y+1]);let d=[],f=Ht.empty();for(let y=c.length-1;y>=0;--y)if(!yA(d,c[y])){let A=c[y],D=l[y];D=Fe(D);let k=o.Lu(A);if(D instanceof ud)d.push(A);else{let R=sc(D,k);R!=null&&(d.push(A),f.set(A,R))}}let p=new en(d);return new ld(f,p,o.fieldTransforms)}function HV(n,t,e,i=!1){return sc(e,n.$u(i?4:3,t))}function sc(n,t){if(vA(n=Fe(n)))return B_("Unsupported field value:",t,n),_A(n,t);if(n instanceof Xa)return function(i,r){if(!pA(r.Mu))throw r.qu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Nu&&t.Mu!==4)throw t.qu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let c of i){let l=sc(c,r.ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,t)}return function(i,r){if((i=Fe(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SF(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=ft.fromDate(i);return{timestampValue:Gu(r.serializer,s)}}if(i instanceof ft){let s=new ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gu(r.serializer,s)}}if(i instanceof Ja)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qa)return{bytesValue:BT(r.serializer,i._byteString)};if(i instanceof wt){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:R_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Za)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.qu("VectorValues must only contain numeric values.");return x_(c.serializer,l)})}}}}}}(i,r);throw r.qu(`Unsupported field value: ${Td(i)}`)}(n,t)}function _A(n,t){let e={};return _T(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bi(n,(i,r)=>{let s=sc(r,t.Ou(i));s!=null&&(e[i]=s)}),{mapValue:{fields:e}}}function vA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof Ja||n instanceof Qa||n instanceof wt||n instanceof Xa||n instanceof Za)}function B_(n,t,e){if(!vA(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){let i=Td(e);throw i==="an object"?t.qu(n+" a custom object"):t.qu(n+" "+i)}}function g_(n,t,e){if((t=Fe(t))instanceof Cr)return t._internalPath;if(typeof t=="string")return j_(n,t);throw dd("Field path arguments must be of type string or ",n,!1,void 0,e)}var WV=new RegExp("[~\\*/\\[\\]]");function j_(n,t,e){if(t.search(WV)>=0)throw dd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Cr(...t.split("."))._internalPath}catch{throw dd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function dd(n,t,e,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new L(P.INVALID_ARGUMENT,c+n+l)}function yA(n,t){return n.some(e=>e.isEqual(t))}var hd=class{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new __(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(Sd("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},__=class extends hd{data(){return super.data()}};function Sd(n,t){return typeof t=="string"?j_(n,t):t instanceof Cr?t._internalPath:t._delegate._internalPath}function bA(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new L(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ec=class{},tc=class extends ec{};function wA(n,t,...e){let i=[];t instanceof ec&&i.push(t),i=i.concat(e),function(s){let o=s.filter(l=>l instanceof v_).length,c=s.filter(l=>l instanceof fd).length;if(o>1||o>0&&c>0)throw new L(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var fd=class n extends tc{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new n(t,e,i)}_apply(t){let e=this._parse(t);return AA(t._query,e),new ri(t.firestore,t.converter,ug(t._query,e))}_parse(t){let e=Cd(t.firestore);return function(s,o,c,l,d,f,p){let y;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new L(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){gT(p,f);let A=[];for(let D of p)A.push(pT(l,s,D));y={arrayValue:{values:A}}}else y=pT(l,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||gT(p,f),y=HV(c,o,p,f==="in"||f==="not-in");return et.create(d,f,y)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}};function EA(n,t,e){let i=t,r=Sd("where",n);return fd._create(r,i,e)}var v_=class n extends ec{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new n(t,e)}_parse(t){let e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:gn.create(e,this._getOperator())}_apply(t){let e=this._parse(t);return e.getFilters().length===0?t:(function(r,s){let o=r,c=s.getFlattenedFilters();for(let l of c)AA(o,l),o=ug(o,l)}(t._query,e),new ri(t.firestore,t.converter,ug(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var y_=class n extends tc{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new n(t,e)}_apply(t){let e=function(r,s,o){if(r.startAt!==null)throw new L(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new L(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Er(s,o)}(t._query,this._field,this._direction);return new ri(t.firestore,t.converter,function(r,s){let o=r.explicitOrderBy.concat([s]);return new Li(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}};function IA(n,t="asc"){let e=t,i=Sd("orderBy",n);return y_._create(i,e)}var b_=class n extends tc{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new n(t,e,i)}_apply(t){return new ri(t.firestore,t.converter,zu(t._query,this._limit,this._limitType))}};function TA(n){return BV("limit",n),b_._create("limit",n,"F")}function pT(n,t,e){if(typeof(e=Fe(e))=="string"){if(e==="")throw new L(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CT(t)&&e.indexOf("/")!==-1)throw new L(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);let i=t.path.child(Ve.fromString(e));if(!W.isDocumentKey(i))throw new L(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return B0(n,new W(i))}if(e instanceof wt)return B0(n,e._key);throw new L(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Td(e)}.`)}function gT(n,t){if(!Array.isArray(n)||n.length===0)throw new L(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function AA(n,t){let e=function(r,s){for(let o of r)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new L(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}var w_=class{convertValue(t,e="none"){switch(Vi(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ti(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Y()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let i={};return Bi(t,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertVectorValue(t){var e,i,r;let s=(r=(i=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Oe(o.doubleValue));return new Za(s)}convertGeoPoint(t){return new Ja(Oe(t.latitude),Oe(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":let i=_d(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ja(t));default:return null}}convertTimestamp(t){let e=ei(t);return new ft(e.seconds,e.nanos)}convertDocumentKey(t,e){let i=Ve.fromString(t);_e(WT(i));let r=new Bu(i.get(1),i.get(3)),s=new W(i.popFirst(5));return r.isEqual(e)||Zn(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}};function CA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}var yr=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},md=class extends hd{constructor(t,e,i,r,s,o){super(t,e,i,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new Ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let i=this._document.data.field(Sd("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}},Ds=class extends md{data(t={}){return super.data(t)}},pd=class{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new yr(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Ds(this._firestore,this._userDataWriter,i.key,i,new yr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new L(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{let l=new Ds(r._firestore,r._userDataWriter,c.doc.key,c.doc,new yr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Ds(r._firestore,r._userDataWriter,c.doc.key,c.doc,new yr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return c.type!==0&&(d=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:GV(c.type),doc:l,oldIndex:d,newIndex:f}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}};function GV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function SA(n){n=Ot(n,wt);let t=Ot(n.firestore,_n);return VV(Ad(t),n._key).then(e=>OA(t,n,e))}var nc=class extends w_{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new wt(this.firestore,null,e)}};function xA(n){n=Ot(n,ri);let t=Ot(n.firestore,_n),e=Ad(t),i=new nc(t);return bA(n._query),LV(e,n._query).then(r=>new pd(t,i,n,r))}function RA(n,t,e){n=Ot(n,wt);let i=Ot(n.firestore,_n),r=CA(n.converter,t,e);return xd(i,[gA(Cd(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Dn.none())])}function DA(n,t,e,...i){n=Ot(n,wt);let r=Ot(n.firestore,_n),s=Cd(r),o;return o=typeof(t=Fe(t))=="string"||t instanceof Cr?qV(s,"updateDoc",n._key,t,e,i):$V(s,"updateDoc",n._key,t),xd(r,[o.toMutation(n._key,Dn.exists(!0))])}function kA(n){return xd(Ot(n.firestore,_n),[new $a(n._key,Dn.none())])}function PA(n,t){let e=Ot(n.firestore,_n),i=U_(n),r=CA(n.converter,t);return xd(e,[gA(Cd(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Dn.exists(!1))]).then(()=>i)}function z_(n,...t){var e,i,r;n=Fe(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||mT(t[o])||(s=t[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(mT(t[o])){let p=t[o];t[o]=(e=p.next)===null||e===void 0?void 0:e.bind(p),t[o+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),t[o+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let l,d,f;if(n instanceof wt)d=Ot(n.firestore,_n),f=vd(n._key.path),l={next:p=>{t[o]&&t[o](OA(d,n,p))},error:t[o+1],complete:t[o+2]};else{let p=Ot(n,ri);d=Ot(p.firestore,_n),f=p._query;let y=new nc(d);l={next:A=>{t[o]&&t[o](new pd(d,y,p,A))},error:t[o+1],complete:t[o+2]},bA(n._query)}return function(y,A,D,k){let R=new Ya(k),$=new Ka(A,R,D);return y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return N_(yield od(y),$)})),()=>{R.eu(),y.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return F_(yield od(y),$)}))}}(Ad(d),f,c,l)}function xd(n,t){return function(i,r){let s=new mn;return i.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return CV(yield FV(i),r,s)})),s.promise}(Ad(n),t)}function OA(n,t,e){let i=e.docs.get(t._key),r=new nc(n);return new md(n,r,t._key,i,new yr(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){zs=r})(Ri),dn(new Rt("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),c=new _n(new qp(i.getProvider("auth-internal")),new Kp(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new L(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(d.options.projectId,f)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),je(N0,"4.7.6",t),je(N0,"4.7.6","esm2017")})();var Rd=function(){return Rd=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},Rd.apply(this,arguments)};var QV={includeMetadataChanges:!1};function $_(n,t){return t===void 0&&(t=QV),new tt(function(e){var i=z_(n,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)});return{unsubscribe:i}})}function MA(n){return $_(n,{includeMetadataChanges:!0})}function NA(n,t){return t===void 0&&(t={}),MA(n).pipe(z(function(e){return q_(e,t)}))}function q_(n,t){var e;t===void 0&&(t={});var i=n.data(t);return!n.exists()||typeof i!="object"||i===null||!t.idField?i:Rd(Rd({},i),(e={},e[t.idField]=n.id,e))}function FA(n){return $_(n,{includeMetadataChanges:!0}).pipe(z(function(t){return t.docs}))}function VA(n,t){return t===void 0&&(t={}),FA(n).pipe(z(function(e){return e.map(function(i){return q_(i,t)})}))}var oc=class{constructor(t){return t}},LA="firestore",H_=class{constructor(){return vs(LA)}};var W_=new V("angularfire2.firestore-instances");function XV(n,t){let e=wa(LA,n,t);return e&&new oc(e)}function JV(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new oc(i)}}var ZV={provide:H_,deps:[[new At,W_]]},eL={provide:oc,useFactory:XV,deps:[[new At,W_],Wn]};function xW(n,...t){return je("angularfire",Di.full,"fst"),rn([eL,ZV,{provide:W_,useFactory:JV(n),multi:!0,deps:[H,Ee,ki,fr,[new At,Oa],[new At,ys],...t]}])}var RW=we(VA,!0);var DW=we(NA,!0);var kW=we(PA,!0,2);var PW=we(hA,!0,2);var OW=we(kA,!0,2);var MW=we(U_,!0,2),NW=we(mA,!0,2);var FW=we(SA,!0);var VW=we(xA,!0);var LW=we(fA,!0);var UW=we(TA,!0,2);var BW=we(IA,!0,2),jW=we(wA,!0,2);var zW=we(RA,!0,2);var $W=we(DA,!0,2);var qW=we(EA,!0,2);export{Zi as a,Th as b,pL as c,eb as d,LL as e,bi as f,zS as g,wi as h,sU as i,oU as j,aU as k,Eq as l,Iq as m,Pa as n,WH as o,GH as p,KH as q,YH as r,QH as s,XH as t,JH as u,ZH as v,e4 as w,ft as x,oc as y,xW as z,RW as A,DW as B,kW as C,PW as D,OW as E,MW as F,NW as G,FW as H,VW as I,LW as J,UW as K,BW as L,jW as M,zW as N,$W as O,qW as P,El as Q,dw as R,Ai as S,ts as T,cn as U,CU as V,SU as W,is as X,aa as Y,sa as Z,PR as _,RU as $,MR as aa,ss as ba,Pw as ca,UR as da,zR as ea,qR as fa,DU as ga,kU as ha,PU as ia,Pe as ja,Ci as ka,Uw as la,zt as ma,BU as na,$t as oa,Rl as pa,zn as qa,cs as ra,Dl as sa,YU as ta,o2 as ua,kl as va,qw as wa,p2 as xa,Qw as ya,Vf as za,Nl as Aa,Hw as Ba,hD as Ca,ID as Da,P2 as Ea,Lf as Fa,Uf as Ga,eE as Ha,Bf as Ia,O2 as Ja,M2 as Ka,Xt as La,$n as Ma,Ye as Na,hs as Oa,Ul as Pa,HD as Qa,lB as Ra,ql as Sa,Yf as Ta,uB as Ua,lE as Va,ek as Wa,Qf as Xa,nk as Ya,Xf as Za,Jf as _a,Kf as $a,uE as ab,dE as bb,hE as cb,Zf as db,fE as eb,dB as fb,SB as gb,xB as hb,BB as ib,jB as jb,zB as kb,yz as lb,fa as mb,Yl as nb,im as ob,fs as pb,Ql as qb,Sz as rb,xz as sb,NE as tb,Zl as ub,HE as vb,um as wb,dm as xb,ar as yb,GE as zb,bE as Ab,wE as Bb,_j as Cb,EE as Db,vj as Eb,ua as Fb,da as Gb,yj as Hb,ha as Ib,tP as Jb,Gj as Kb,Kj as Lb,E$ as Mb,I$ as Nb};
