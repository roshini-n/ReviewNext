<div class="page-container">
  <div class="content-wrapper">
    <div class="dashboard-container">
      <div class="welcome-section">
        <h1 class="welcome-text">Welcome, {{ username }}!</h1>
        <p class="subtitle">Here's your activity overview</p>
      </div>

      <div class="stats-grid" *ngIf="!isLoading">
        <mat-card class="stat-card">
          <mat-card-content>
            <mat-icon class="stat-icon">rate_review</mat-icon>
            <div class="stat-info">
              <h2>{{ totalReviews }}</h2>
              <p>Total Reviews</p>
            </div>
          </mat-card-content>
        </mat-card>

        <mat-card class="stat-card">
          <mat-card-content>
        <mat-icon class="stat-icon">star</mat-icon>
        <div class="stat-info">
          <h2>{{ totalRatings }}</h2>
          <p>Ratings Given</p>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card">
      <mat-card-content>
        <mat-icon class="stat-icon">library_books</mat-icon>
        <div class="stat-info">
          <h2>{{ totalLogs }}</h2>
          <p>Logged Items</p>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Search and Filter Section -->
  <div class="search-filter-section" *ngIf="!isLoading">
    <mat-card class="filter-card">
      <mat-card-content>
        <div class="filter-container">
          <mat-form-field appearance="outline" class="search-field">
            <mat-label>Search categories...</mat-label>
            <input
              matInput
              [(ngModel)]="searchQuery"
              (keyup.enter)="applyFilter()"
              placeholder="Search by category name"
            >
            <mat-icon matSuffix>search</mat-icon>
          </mat-form-field>

          <mat-form-field appearance="outline" class="category-select">
            <mat-label>Select Category</mat-label>
            <mat-select [(ngModel)]="selectedCategory">
              <mat-option *ngFor="let category of categories" [value]="category.value">
                <mat-icon>{{ category.icon }}</mat-icon>
                {{ category.label }}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <button mat-raised-button color="primary" (click)="applyFilter()" class="filter-btn">
            <mat-icon>filter_list</mat-icon>
            Apply Filter
          </button>

          <button mat-raised-button (click)="clearFilter()" class="clear-btn">
            <mat-icon>clear</mat-icon>
            Clear
          </button>
        </div>
        <p class="filter-hint" *ngIf="selectedCategory !== 'all' || searchQuery.trim()">
          <mat-icon>info</mat-icon>
          Click "Apply Filter" to navigate to your selected category
        </p>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="categories-section" *ngIf="!isLoading">
    <h3 class="categories-title">Browse by Category</h3>
    <div class="categories-grid">
      <button mat-button class="category-button" (click)="navigateToCategory('games')">
        <mat-icon>sports_esports</mat-icon>
        <span>Games</span>
      </button>
      <button mat-button class="category-button" (click)="navigateToCategory('books')">
        <mat-icon>menu_book</mat-icon>
        <span>Books</span>
      </button>
      <button mat-button class="category-button" (click)="navigateToCategory('movies')">
        <mat-icon>movie</mat-icon>
        <span>Movies</span>
      </button>
      <!-- <button mat-button class="category-button" (click)="navigateToCategory('apps')">
        <mat-icon>apps</mat-icon>
        <span>Apps</span>
      </button> -->
      <button mat-button class="category-button" (click)="navigateToCategory('electronic-gadgets')">
        <mat-icon>devices</mat-icon>
        <span>Gadgets</span>
      </button>
      <button mat-button class="category-button" (click)="navigateToCategory('beauty-products')">
        <mat-icon>spa</mat-icon>
        <span>Beauty</span>
      </button>
      <button mat-button class="category-button" (click)="navigateToCategory('web-series')">
        <mat-icon>live_tv</mat-icon>
        <span>Web Series</span>
      </button>
    </div>
  </div>

  <div class="loading-spinner" *ngIf="isLoading">
    <mat-spinner diameter="40"></mat-spinner>
  </div>
</div> 
</div>